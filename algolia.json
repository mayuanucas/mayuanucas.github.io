[{"categories":["æ•ˆç‡å·¥å…·"],"content":"2021å¹´1æœˆ1æ—¥ï¼Œå‘Šåˆ«ä½¿ç”¨äº†ä¸‰å¹´çš„Hexoï¼Œæ­£å¼è¿ç§»åˆ°Hugo. åŸå›  ä½¿ç”¨Hexo+Next+GitHub Pagesæ­å»ºåšå®¢å·²ç»æœ‰ä¸‰å¹´çš„æ—¶é—´äº†ï¼Œä½†æ˜¯éšç€æ–‡ç« æ•°é‡çš„å¢é•¿ï¼ŒHexoç”Ÿæˆåšå®¢çš„é€Ÿåº¦ä¹Ÿæ…¢ä¸‹æ¥äº†ï¼Œè€Œä¸”Hexoå¯¹Latexå…¬å¼çš„æ”¯æŒä¸ç»™åŠ›ã€‚æ€€ç€å¯¹Golang çš„ä¿¡ä»°ï¼Œè‡³æ­¤åŠ å…¥Golangçš„ç”Ÿæ€åœˆï¼Œæ‹¥æŠ±Hugoã€‚ å¼€å§‹è¿ç§» ","date":"2021-01-01","objectID":"https://mayuanucas.github.io/%E5%8D%9A%E5%AE%A2%E8%BF%81%E7%A7%BB/:0:0","tags":["åšå®¢","Hugo"],"title":"åšå®¢è¿ç§»","uri":"https://mayuanucas.github.io/%E5%8D%9A%E5%AE%A2%E8%BF%81%E7%A7%BB/"},{"categories":["æ•ˆç‡å·¥å…·"],"content":"ç®€ä»‹ Hugo is one of the most popular open-source static site generators. With its amazing speed and flexibility, Hugo makes building websites fun again. Hugoæ˜¯ä¸€ä¸ªåŸºäºGoè¯­è¨€å¼€å‘çš„é™æ€ç½‘ç«™ç”Ÿæˆå™¨ï¼Œä¸»æ‰“ç®€å•ã€æ˜“ç”¨ã€é«˜æ•ˆã€æ˜“æ‰©å±•ã€å¿«é€Ÿéƒ¨ç½²ï¼Œä¸°å¯Œçš„ä¸»é¢˜ä¹Ÿä½¿å¾—Hugoåœ¨ä¸ªäººåšå®¢ç«™ç‚¹æ­å»ºæ–¹é¢ä¹Ÿä½¿ç”¨å¹¿æ³›ã€‚è¿ç§»åˆ°Hugoåï¼Œå®‰è£…ã€æ„å»ºã€éƒ¨ç½²æ•´ä¸ªæµç¨‹ç›¸æ¯”Hexoï¼Œé€Ÿåº¦æå‡é£å¿«ğŸš€ã€‚ ","date":"2021-01-01","objectID":"https://mayuanucas.github.io/%E5%8D%9A%E5%AE%A2%E8%BF%81%E7%A7%BB/:1:0","tags":["åšå®¢","Hugo"],"title":"åšå®¢è¿ç§»","uri":"https://mayuanucas.github.io/%E5%8D%9A%E5%AE%A2%E8%BF%81%E7%A7%BB/"},{"categories":["æ•ˆç‡å·¥å…·"],"content":"å®‰è£… æœ¬åœ°macOSå¹³å°ç›´æ¥ä½¿ç”¨Homebrewå®‰è£… brew install hugo ","date":"2021-01-01","objectID":"https://mayuanucas.github.io/%E5%8D%9A%E5%AE%A2%E8%BF%81%E7%A7%BB/:2:0","tags":["åšå®¢","Hugo"],"title":"åšå®¢è¿ç§»","uri":"https://mayuanucas.github.io/%E5%8D%9A%E5%AE%A2%E8%BF%81%E7%A7%BB/"},{"categories":["æ•ˆç‡å·¥å…·"],"content":"åˆ›å»ºæ–°ç«™ç‚¹ hugo new site blog cd blog hugo new posts/åšå®¢è¿ç§».md è¿™ä¸ªæ—¶å€™å°±å·²ç»åˆ›å»ºäº†æ–°çš„åšå®¢ç«™ç‚¹blogï¼Œå¹¶ä¸”åˆ›å»ºäº†ç¬¬ä¸€ç¯‡æ–‡ç« åšå®¢è¿ç§».mdï¼Œæ–°å»ºçš„æ–‡ç« ä½äº/blog/content/postsç›®å½•ä¸‹ã€‚ æ–°å»ºæ–‡ç« æ³¨æ„ é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰æ–‡ç« æ–°å»ºéƒ½ä¸ºè‰ç¨¿ï¼Œè‰ç¨¿æ–‡ç« æ˜¯ä¸æ¸²æŸ“çš„ï¼Œéœ€è¦ä¿®æ”¹å¤´éƒ¨draft: trueä¸ºdraft: false ","date":"2021-01-01","objectID":"https://mayuanucas.github.io/%E5%8D%9A%E5%AE%A2%E8%BF%81%E7%A7%BB/:3:0","tags":["åšå®¢","Hugo"],"title":"åšå®¢è¿ç§»","uri":"https://mayuanucas.github.io/%E5%8D%9A%E5%AE%A2%E8%BF%81%E7%A7%BB/"},{"categories":["æ•ˆç‡å·¥å…·"],"content":"ä½¿ç”¨ä¸»é¢˜ Hugoæä¾›äº†ä¸°å¯Œçš„ä¸»é¢˜ï¼Œå¯ä»¥åœ¨è¿™é€‰æ‹©å–œæ¬¢çš„ä¸»é¢˜ï¼Œå¹¶æ·»åŠ åˆ°åˆšåˆšæ–°åŠ çš„åšå®¢ç«™ç‚¹ï¼Œä»¥æˆ‘é€‰æ‹©çš„LoveItä¸»é¢˜ä¸ºä¾‹ é¦–å…ˆå°†ä¸»é¢˜æ·»åŠ åˆ°é¡¹ç›®blog/themesç›®å½•ï¼Œæ ¹ç›®å½•ä¸‹æ‰§è¡Œï¼š git clone -b master https://github.com/dillonzq/LoveIt.git themes/LoveIt ç„¶ååœ¨/blog/config.tomlé…ç½®ä¸»é¢˜å‚æ•°ï¼š baseURL = \"http://example.org/\" # [en, zh-cn, fr, ...] è®¾ç½®é»˜è®¤çš„è¯­è¨€ defaultContentLanguage = \"zh-cn\" # ç½‘ç«™è¯­è¨€, ä»…åœ¨è¿™é‡Œ CN å¤§å†™ languageCode = \"zh-CN\" # æ˜¯å¦åŒ…æ‹¬ä¸­æ—¥éŸ©æ–‡å­— hasCJKLanguage = true # ç½‘ç«™æ ‡é¢˜ title = \"æˆ‘çš„ Hugo åšå®¢ç«™ç‚¹\" # æ›´æ”¹ä½¿ç”¨ Hugo æ„å»ºç½‘ç«™æ—¶ä½¿ç”¨çš„é»˜è®¤ä¸»é¢˜ theme = \"LoveIt\" [params] # LoveIt ä¸»é¢˜ç‰ˆæœ¬ version = \"0.2.X\" [menu] [[menu.main]] identifier = \"posts\" # ä½ å¯ä»¥åœ¨åç§° (å…è®¸ HTML æ ¼å¼) ä¹‹å‰æ·»åŠ å…¶ä»–ä¿¡æ¯, ä¾‹å¦‚å›¾æ ‡ pre = \"\" name = \"æ–‡ç« \" url = \"/posts/\" # å½“ä½ å°†é¼ æ ‡æ‚¬åœåœ¨æ­¤èœå•é“¾æ¥ä¸Šæ—¶, å°†æ˜¾ç¤ºçš„æ ‡é¢˜ title = \"\" weight = 1 [[menu.main]] identifier = \"tags\" pre = \"\" name = \"æ ‡ç­¾\" url = \"/tags/\" title = \"\" weight = 2 [[menu.main]] identifier = \"categories\" pre = \"\" name = \"åˆ†ç±»\" url = \"/categories/\" title = \"\" weight = 3 è¿™ä¸ªä¸»é¢˜åŠŸèƒ½å¾ˆå¼ºå¤§ï¼Œæ›´å¤šè¯¦ç»†é…ç½®åŠåŠŸèƒ½å¯ä»¥å‚è€ƒé¡¹ç›®Docs ","date":"2021-01-01","objectID":"https://mayuanucas.github.io/%E5%8D%9A%E5%AE%A2%E8%BF%81%E7%A7%BB/:4:0","tags":["åšå®¢","Hugo"],"title":"åšå®¢è¿ç§»","uri":"https://mayuanucas.github.io/%E5%8D%9A%E5%AE%A2%E8%BF%81%E7%A7%BB/"},{"categories":["æ•ˆç‡å·¥å…·"],"content":"æœ¬åœ°å±•ç¤º æ­¤æ—¶æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å³å¯åœ¨æœ¬åœ° http://localhost:1313/ é¢„è§ˆå½“å‰ç«™ç‚¹çŠ¶æ€ hugo serve ","date":"2021-01-01","objectID":"https://mayuanucas.github.io/%E5%8D%9A%E5%AE%A2%E8%BF%81%E7%A7%BB/:5:0","tags":["åšå®¢","Hugo"],"title":"åšå®¢è¿ç§»","uri":"https://mayuanucas.github.io/%E5%8D%9A%E5%AE%A2%E8%BF%81%E7%A7%BB/"},{"categories":["æ•ˆç‡å·¥å…·"],"content":"å¿«é€Ÿéƒ¨ç½² å‡†å¤‡å¥½éƒ¨ç½²ç½‘ç«™æ—¶ï¼Œè¿è¡Œ hugo å¯ä»¥å¿«é€Ÿæ„å»ºç½‘ç«™ï¼Œé¡¹ç›®æ ¹ç›®å½•ä¸‹ä¼šç”Ÿæˆpublicç›®å½•ï¼Œå…¶ä¸­åŒ…å«åšå®¢ç«™ç‚¹æ‰€æœ‰å†…å®¹å’Œèµ„æºï¼Œç›´æ¥éƒ¨ç½²åœ¨webæœåŠ¡å™¨å³å¯ã€‚ ä»¥éƒ¨ç½²åˆ°github pagesä¸ºä¾‹ï¼Œå‚è€ƒHugoå®˜ç½‘è¯´æ˜ï¼Œåˆ›å»ºpublicå­æ¨¡å—ï¼Œå…³è”åŸå…ˆgithub pageä»“åº“ç”¨æˆ·å.github.ioï¼Œå°†æ¯æ¬¡æ„å»ºç»“æœæäº¤åˆ°è¿œç¨‹ä»“åº“ï¼Œå¯ä»¥é€šè¿‡è‡ªåŠ¨éƒ¨ç½²è„šæœ¬å®ç°å¿«é€Ÿéƒ¨ç½² #!/bin/sh # If a command fails then the deploy stops set -e printf \"\\033[0;32mDeploying updates to GitHub...\\033[0m\\n\" # Build the project. hugo -t LoveIt # if using a theme, replace with `hugo -t \u003cYOURTHEME\u003e` # Go To Public folder cd public # Add changes to git. git add . # Commit changes. msg=\"rebuilding site $(date)\" if [ -n \"$*\" ]; then msg=\"$*\" fi git commit -m \"$msg\" # Push source and build repos. git push origin master cd .. åˆ°è¿™ä¸€æ­¥ï¼Œæ¯æ¬¡æ›´æ–°æ–‡ç« ä¹‹åï¼Œéœ€è¦åœ¨æœ¬åœ° blog ç›®å½•ä¸‹æ‰‹åŠ¨æ‰§è¡Œ ./deploy.sh æ¥éƒ¨ç½²åˆ°github pageã€coding pageç­‰é™æ€é¡µé¢ã€‚ ","date":"2021-01-01","objectID":"https://mayuanucas.github.io/%E5%8D%9A%E5%AE%A2%E8%BF%81%E7%A7%BB/:6:0","tags":["åšå®¢","Hugo"],"title":"åšå®¢è¿ç§»","uri":"https://mayuanucas.github.io/%E5%8D%9A%E5%AE%A2%E8%BF%81%E7%A7%BB/"},{"categories":["æ•ˆç‡å·¥å…·"],"content":"å¯ç”¨æœç´¢ åŸºäº Lunr.js æˆ– algolia, LoveIt ä¸»é¢˜æ”¯æŒæœç´¢åŠŸèƒ½. ","date":"2021-01-01","objectID":"https://mayuanucas.github.io/%E5%8D%9A%E5%AE%A2%E8%BF%81%E7%A7%BB/:7:0","tags":["åšå®¢","Hugo"],"title":"åšå®¢è¿ç§»","uri":"https://mayuanucas.github.io/%E5%8D%9A%E5%AE%A2%E8%BF%81%E7%A7%BB/"},{"categories":["æ•ˆç‡å·¥å…·"],"content":"è¾“å‡ºé…ç½® ä¸ºäº†ç”Ÿæˆæœç´¢åŠŸèƒ½æ‰€éœ€è¦çš„ index.json, è¯·åœ¨ä½ çš„ ç½‘ç«™é…ç½® ä¸­æ·»åŠ  JSON è¾“å‡ºæ–‡ä»¶ç±»å‹åˆ° outputs éƒ¨åˆ†çš„ home å­—æ®µä¸­. [outputs] home = [\"HTML\", \"RSS\", \"JSON\"] ","date":"2021-01-01","objectID":"https://mayuanucas.github.io/%E5%8D%9A%E5%AE%A2%E8%BF%81%E7%A7%BB/:7:1","tags":["åšå®¢","Hugo"],"title":"åšå®¢è¿ç§»","uri":"https://mayuanucas.github.io/%E5%8D%9A%E5%AE%A2%E8%BF%81%E7%A7%BB/"},{"categories":["æ•ˆç‡å·¥å…·"],"content":"æœç´¢é…ç½® åŸºäº Hugo ç”Ÿæˆçš„ index.json æ–‡ä»¶, ä½ å¯ä»¥æ¿€æ´»æœç´¢åŠŸèƒ½. è¿™æ˜¯ä½ çš„ ç½‘ç«™é…ç½® ä¸­çš„æœç´¢éƒ¨åˆ†: [params.search] enable = true # æœç´¢å¼•æ“çš„ç±»å‹ (\"lunr\", \"algolia\") type = \"algolia\" # æ–‡ç« å†…å®¹æœ€é•¿ç´¢å¼•é•¿åº¦ contentLength = 4000 # æœç´¢æ¡†çš„å ä½æç¤ºè¯­ placeholder = \"\" # æœ€å¤§ç»“æœæ•°ç›® maxResultLength = 10 # ç»“æœå†…å®¹ç‰‡æ®µé•¿åº¦ snippetLength = 50 # æœç´¢ç»“æœä¸­é«˜äº®éƒ¨åˆ†çš„ HTML æ ‡ç­¾ highlightTag = \"em\" # æ˜¯å¦åœ¨æœç´¢ç´¢å¼•ä¸­ä½¿ç”¨åŸºäº baseURL çš„ç»å¯¹è·¯å¾„ absoluteURL = true [params.search.algolia] index = \"\" appID = \"\" searchKey = \"\" æ€æ ·é€‰æ‹©æœç´¢å¼•æ“? ä»¥ä¸‹æ˜¯ä¸¤ç§æœç´¢å¼•æ“çš„å¯¹æ¯”: lunr: ç®€å•, æ— éœ€åŒæ­¥ index.json, æ²¡æœ‰ contentLength çš„é™åˆ¶, ä½†å ç”¨å¸¦å®½å¤§ä¸”æ€§èƒ½ä½ (ç‰¹åˆ«æ˜¯ä¸­æ–‡éœ€è¦ä¸€ä¸ªè¾ƒå¤§çš„åˆ†è¯ä¾èµ–åº“) algolia: é«˜æ€§èƒ½å¹¶ä¸”å ç”¨å¸¦å®½ä½, ä½†éœ€è¦åŒæ­¥ index.json ä¸”æœ‰ contentLength çš„é™åˆ¶ æ–‡ç« å†…å®¹è¢« h2 å’Œ h3 HTML æ ‡ç­¾åˆ‡åˆ†æ¥æé«˜æŸ¥è¯¢æ•ˆæœå¹¶ä¸”åŸºæœ¬å®ç°å…¨æ–‡æœç´¢. contentLength ç”¨æ¥é™åˆ¶ h2 å’Œ h3 HTML æ ‡ç­¾å¼€å¤´çš„å†…å®¹éƒ¨åˆ†çš„æœ€å¤§é•¿åº¦. å…³äº algolia çš„ä½¿ç”¨æŠ€å·§ ä½ éœ€è¦ä¸Šä¼  index.json åˆ° algolia æ¥æ¿€æ´»æœç´¢åŠŸèƒ½. ä½ å¯ä»¥ä½¿ç”¨æµè§ˆå™¨æ¥ä¸Šä¼  index.json æ–‡ä»¶ä½†æ˜¯ä¸€ä¸ªè‡ªåŠ¨åŒ–çš„è„šæœ¬å¯èƒ½æ•ˆæœæ›´å¥½. Algolia Atomic æ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©. ä¸ºäº†å…¼å®¹ Hugo çš„å¤šè¯­è¨€æ¨¡å¼, ä½ éœ€è¦ä¸Šä¼ ä¸åŒè¯­è¨€çš„ index.json æ–‡ä»¶åˆ°å¯¹åº”çš„ algolia index, ä¾‹å¦‚ zh-cn/index.json æˆ– fr/index.jsonâ€¦ ","date":"2021-01-01","objectID":"https://mayuanucas.github.io/%E5%8D%9A%E5%AE%A2%E8%BF%81%E7%A7%BB/:7:2","tags":["åšå®¢","Hugo"],"title":"åšå®¢è¿ç§»","uri":"https://mayuanucas.github.io/%E5%8D%9A%E5%AE%A2%E8%BF%81%E7%A7%BB/"},{"categories":["æ•ˆç‡å·¥å…·"],"content":"è‡ªåŠ¨ä¸Šä¼  æ¯æ¬¡å†™å®Œåšæ–‡éƒ½æ‰‹åŠ¨ä¸Šä¼ ç´¢å¼•æ–‡ä»¶æ— ç–‘æ˜¯ç—›è‹¦çš„ã€æ— æ„ä¹‰çš„é‡å¤åŠ³åŠ¨ã€‚ å› æ­¤æˆ‘ä»¬éœ€è¦æŠŠä¸Šä¼ ç´¢å¼•æ–‡ä»¶çš„æ“ä½œè‡ªåŠ¨åŒ–ï¼Œåœ¨è‡ªåŠ¨éƒ¨ç½²çš„æ—¶å€™é¡ºä¾¿å®Œæˆå³å¯ã€‚ è¿™é‡Œæˆ‘ä»¬é‡‡ç”¨npmåŒ… atomic-algolia æ¥å®Œæˆä¸Šä¼ æ“ä½œã€‚ å®‰è£… atomic-algolia åŒ… npm init -y // npmé»˜è®¤ç”Ÿæˆpackage.jsonæ–‡ä»¶ npm install -g atomic-algolia // npmå…¨å±€å®‰è£…atomic-algolia ä¿®æ”¹ç›®å½•ä¸‹çš„ package.json æ–‡ä»¶ \"scripts\": { \"test\": \"echo \\\"Error: no test specified\\\" \u0026\u0026 exit 1\", \"algolia\": \"atomic-algolia\" }, æ³¨æ„ \"test\" é‚£ä¸€è¡Œæœ«å°¾æœ‰ä¸ªè‹±æ–‡é€—å·ï¼Œä¸è¦æ¼äº†ã€‚ blog æ ¹ç›®å½•ä¸‹æ–°å»º .env æ–‡ä»¶ ALGOLIA_APP_ID=ä½ çš„Application ID ALGOLIA_INDEX_NAME=ä½ çš„ç´¢å¼•åå­— ALGOLIA_INDEX_FILE=public/algolia.json ALGOLIA_ADMIN_KEY=ä½ çš„Admin API Key å¦å¤–ç‰¹åˆ«æ³¨æ„ ALGOLIA_ADMIN_KEY å¯ä»¥ç”¨æ¥ç®¡ç†ä½ çš„ç´¢å¼•ï¼Œæ‰€ä»¥å°½é‡ä¸è¦æäº¤åˆ°å…¬å…±ä»“åº“ã€‚ ä¸Šä¼ ç´¢å¼•çš„å‘½ä»¤ npm run algolia // åœ¨blogæ ¹ç›®å½•ä¸‹æ‰§è¡Œ åç»­å°±æ˜¯æŠŠä¸‹é¢çš„å‘½ä»¤åŠ åˆ°ä½ çš„éƒ¨ç½²è„šæœ¬å³å¯ï¼š #!/bin/sh # If a command fails then the deploy stops set -e printf \"\\033[0;32mDeploying updates to GitHub...\\033[0m\\n\" # Build the project. hugo -t LoveIt # if using a theme, replace with `hugo -t \u003cYOURTHEME\u003e` # Go To Public folder cd public # Add changes to git. git add . # Commit changes. msg=\"rebuilding site $(date)\" if [ -n \"$*\" ]; then msg=\"$*\" fi git commit -m \"$msg\" # Push source and build repos. git push origin master cd .. # è‡ªåŠ¨æ›´æ–°æ–‡ç« ç´¢å¼• npm run algolia æ‹¥æŠ±Hugo è¿˜æœ‰æ›´å¤šçš„åŠŸèƒ½ç­‰å¾…æ¢ç´¢ä¸­â€¦ ç›®å‰ä½¿ç”¨ä¸‹æ¥ï¼ŒHugoæ•´ä½“çš„ä½¿ç”¨ä½“éªŒå¾ˆä¸é”™ï¼Œåé¢ä¼šå°†ä¸ªäººæ–‡ç« é™†ç»­è¿ç§»åˆ°è¿™ï¼Œæ…¢æ…¢å®Œå–„ã€‚ ","date":"2021-01-01","objectID":"https://mayuanucas.github.io/%E5%8D%9A%E5%AE%A2%E8%BF%81%E7%A7%BB/:7:3","tags":["åšå®¢","Hugo"],"title":"åšå®¢è¿ç§»","uri":"https://mayuanucas.github.io/%E5%8D%9A%E5%AE%A2%E8%BF%81%E7%A7%BB/"},{"categories":["æ•ˆç‡å·¥å…·"],"content":"æ­£åˆ™è¡¨è¾¾å¼ï¼Œè‹±æ–‡æ˜¯ Regular Expressionï¼Œç®€ç§° REã€‚é¡¾åæ€ä¹‰ï¼Œæ­£åˆ™å…¶å®å°±æ˜¯ä¸€ç§æè¿°æ–‡æœ¬å†…å®¹ç»„æˆè§„å¾‹çš„è¡¨ç¤ºæ–¹å¼ã€‚åœ¨ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œæ­£åˆ™å¸¸å¸¸ç”¨æ¥ç®€åŒ–æ–‡æœ¬å¤„ç†çš„é€»è¾‘ã€‚åœ¨ Linux å‘½ä»¤ä¸­ï¼Œå®ƒä¹Ÿå¯ä»¥å¸®åŠ©æˆ‘ä»¬è½»æ¾åœ°æŸ¥æ‰¾æˆ–ç¼–è¾‘æ–‡ä»¶çš„å†…å®¹ï¼Œç”šè‡³å®ç°æ•´ä¸ªæ–‡ä»¶å¤¹ä¸­æ‰€æœ‰æ–‡ä»¶çš„å†…å®¹æ›¿æ¢ï¼Œæ¯”å¦‚ grepã€egrepã€sedã€awkã€vim ç­‰ã€‚å¦å¤–ï¼Œåœ¨å„ç§æ–‡æœ¬ç¼–è¾‘å™¨ä¸­ï¼Œæ¯”å¦‚ Atomï¼ŒSublime Text æˆ– VS Code ç­‰ï¼Œåœ¨æŸ¥æ‰¾æˆ–æ›¿æ¢çš„æ—¶å€™ä¹Ÿä¼šä½¿ç”¨åˆ°å®ƒã€‚æ€»ä¹‹ï¼Œæ­£åˆ™æ˜¯æ— å¤„ä¸åœ¨çš„ï¼Œå·²ç»æ¸—é€åˆ°äº†æ—¥å¸¸å·¥ä½œçš„æ–¹æ–¹é¢é¢ã€‚ å‰è¨€ ç®€å•æ¥è¯´ï¼Œæ­£åˆ™æ˜¯ä¸€ä¸ªéå¸¸å¼ºå¤§çš„æ–‡æœ¬å¤„ç†å·¥å…·ï¼Œå®ƒçš„åº”ç”¨æå…¶å¹¿æ³›ã€‚æˆ‘ä»¬å¯ä»¥åˆ©ç”¨å®ƒæ¥æ ¡éªŒæ•°æ®çš„æœ‰æ•ˆæ€§ï¼Œæ¯”å¦‚ç”¨æˆ·è¾“å…¥çš„æ‰‹æœºå·æ˜¯ä¸æ˜¯ç¬¦åˆè§„åˆ™ï¼›ä¹Ÿå¯ä»¥ä»æ–‡æœ¬ä¸­æå–æƒ³è¦çš„å†…å®¹ï¼Œæ¯”å¦‚ä»ç½‘é¡µä¸­æŠ½å–æ•°æ®ï¼›è¿˜å¯ä»¥ç”¨æ¥åšæ–‡æœ¬å†…å®¹æ›¿æ¢ï¼Œä»è€Œå¾—åˆ°æˆ‘ä»¬æƒ³è¦çš„å†…å®¹ã€‚é€šè¿‡å®ƒçš„åŠŸèƒ½å’Œåˆ†å¸ƒçš„å¹¿æ³›ä½ ä¹Ÿèƒ½çœ‹å‡ºæ¥ï¼Œæ­£åˆ™æ˜¯ä¸€ä¸ªéå¸¸å€¼å¾—èŠ±æ—¶é—´å’Œç²¾åŠ›å¥½å¥½å­¦ä¹ çš„åŸºæœ¬æŠ€èƒ½ã€‚ä¹‹å‰éœ€è¦èŠ±å‡ ååˆ†é’Ÿæ‰èƒ½æå®šçš„äº‹æƒ…ï¼Œå¯èƒ½ç”¨æ­£åˆ™å¾ˆå¿«å°±æå®šäº†ï¼›ä¹‹å‰ä¸èƒ½è§£å†³çš„é—®é¢˜ï¼Œé€šè¿‡ç³»ç»Ÿåœ°å­¦ä¹ æ­£åˆ™åï¼Œå¯èƒ½å‘ç°ä¹Ÿèƒ½è½»æ¾è§£å†³äº†ã€‚è¿˜åœ¨çŠ¹è±«ä»€ä¹ˆï¼Ÿèµ¶ç´§ç»§ç»­é˜…è¯»å§ï¼ å…ƒå­—ç¬¦ å…ƒå­—ç¬¦å°±æ˜¯æŒ‡é‚£äº›åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­å…·æœ‰ç‰¹æ®Šæ„ä¹‰çš„ä¸“ç”¨å­—ç¬¦ï¼Œå…ƒå­—ç¬¦æ˜¯æ„æˆæ­£åˆ™è¡¨è¾¾å¼çš„åŸºæœ¬å…ƒä»¶ï¼Œæ­£åˆ™å°±æ˜¯ç”±ä¸€ç³»åˆ—çš„å…ƒå­—ç¬¦ç»„æˆçš„ã€‚ ","date":"2020-07-04","objectID":"https://mayuanucas.github.io/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%85%A5%E9%97%A8/:0:0","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼å…¥é—¨","uri":"https://mayuanucas.github.io/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%85%A5%E9%97%A8/"},{"categories":["æ•ˆç‡å·¥å…·"],"content":"å…ƒå­—ç¬¦çš„åˆ†ç±» å…ƒå­—ç¬¦å¤§è‡´åˆ†æˆè¿™å‡ ç±»ï¼šè¡¨ç¤ºå•ä¸ªç‰¹æ®Šå­—ç¬¦çš„ï¼Œè¡¨ç¤ºç©ºç™½ç¬¦çš„ï¼Œè¡¨ç¤ºæŸä¸ªèŒƒå›´çš„ï¼Œè¡¨ç¤ºæ¬¡æ•°çš„é‡è¯ï¼Œå¦å¤–è¿˜æœ‰è¡¨ç¤ºæ–­è¨€çš„ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå®ƒç†è§£æˆè¾¹ç•Œé™å®šã€‚ ","date":"2020-07-04","objectID":"https://mayuanucas.github.io/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%85%A5%E9%97%A8/:1:0","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼å…¥é—¨","uri":"https://mayuanucas.github.io/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%85%A5%E9%97%A8/"},{"categories":["æ•ˆç‡å·¥å…·"],"content":"ç‰¹æ®Šå•å­—ç¬¦ . ä»»æ„å­—ç¬¦(æ¢è¡Œé™¤å¤–) \\d ä»»æ„æ•°å­— \\D ä»»æ„éæ•°å­— \\w ä»»æ„å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿ \\W ä»»æ„éå­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿ \\s ä»»æ„ç©ºç™½ç¬¦ \\S ä»»æ„éç©ºç™½ç¬¦ ","date":"2020-07-04","objectID":"https://mayuanucas.github.io/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%85%A5%E9%97%A8/:1:1","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼å…¥é—¨","uri":"https://mayuanucas.github.io/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%85%A5%E9%97%A8/"},{"categories":["æ•ˆç‡å·¥å…·"],"content":"ç©ºç™½ç¬¦ é™¤äº†ç‰¹æ®Šå•å­—ç¬¦å¤–ï¼Œä½ åœ¨å¤„ç†æ–‡æœ¬çš„æ—¶å€™è‚¯å®šè¿˜ä¼šé‡åˆ°ç©ºæ ¼ã€æ¢è¡Œç­‰ç©ºç™½ç¬¦ã€‚å…¶å®åœ¨å†™ä»£ç çš„æ—¶å€™ä¹Ÿä¼šç»å¸¸ç”¨åˆ°ï¼Œæ¢è¡Œç¬¦ \\nï¼ŒTAB åˆ¶è¡¨ç¬¦ \\t ç­‰ã€‚ æœ‰ç¼–ç¨‹ç»éªŒçš„ç¨‹åºå‘˜è‚¯å®šéƒ½çŸ¥é“ï¼Œä¸åŒçš„ç³»ç»Ÿåœ¨æ¯è¡Œæ–‡æœ¬ç»“æŸä½ç½®é»˜è®¤çš„â€œæ¢è¡Œâ€ä¼šæœ‰åŒºåˆ«ã€‚æ¯”å¦‚åœ¨ Windows é‡Œæ˜¯ \\r\\nï¼Œåœ¨ Linux å’Œ MacOS ä¸­æ˜¯ \\nã€‚åœ¨æ­£åˆ™ä¸­ï¼Œä¹Ÿæ˜¯ç±»ä¼¼äº \\n æˆ– \\r ç­‰æ–¹å¼æ¥è¡¨ç¤ºç©ºç™½ç¬¦å·ï¼Œåªè¦è®°ä½å®ƒä»¬å°±è¡Œäº†ã€‚å¹³æ—¶ä½¿ç”¨æ­£åˆ™ï¼Œå¤§éƒ¨åˆ†åœºæ™¯ä½¿ç”¨ \\s å°±å¯ä»¥æ»¡è¶³éœ€æ±‚ï¼Œ\\s ä»£è¡¨ä»»æ„å•ä¸ªç©ºç™½ç¬¦å·ã€‚ \\s èƒ½åŒ¹é…ä¸Šå„ç§ç©ºç™½ç¬¦å·ï¼Œä¹Ÿå¯ä»¥åŒ¹é…ä¸Šç©ºæ ¼ã€‚æ¢è¡Œæœ‰ä¸“é—¨çš„è¡¨ç¤ºæ–¹å¼ï¼Œåœ¨æ­£åˆ™ä¸­ï¼Œç©ºæ ¼å°±æ˜¯ç”¨æ™®é€šçš„å­—ç¬¦è‹±æ–‡çš„ç©ºæ ¼æ¥è¡¨ç¤ºã€‚ ","date":"2020-07-04","objectID":"https://mayuanucas.github.io/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%85%A5%E9%97%A8/:1:2","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼å…¥é—¨","uri":"https://mayuanucas.github.io/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%85%A5%E9%97%A8/"},{"categories":["æ•ˆç‡å·¥å…·"],"content":"é‡è¯ åœ¨æ­£åˆ™ä¸­ï¼Œè‹±æ–‡çš„æ˜Ÿå· (*) ä»£è¡¨å‡ºç° 0 åˆ°å¤šæ¬¡ï¼ŒåŠ å· (+) ä»£è¡¨ 1 åˆ°å¤šæ¬¡ï¼Œé—®å· (?) ä»£è¡¨ 0 åˆ° 1 æ¬¡ï¼Œ{m,n}ä»£è¡¨ m åˆ° n æ¬¡ã€‚ ","date":"2020-07-04","objectID":"https://mayuanucas.github.io/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%85%A5%E9%97%A8/:1:3","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼å…¥é—¨","uri":"https://mayuanucas.github.io/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%85%A5%E9%97%A8/"},{"categories":["æ•ˆç‡å·¥å…·"],"content":"èŒƒå›´ åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­ï¼Œè¡¨ç¤ºèŒƒå›´çš„ç¬¦å·æœ‰å››ä¸ªåˆ†ç±»ï¼š é¦–å…ˆæ˜¯ç®¡é“ç¬¦å·ï¼Œç”¨å®ƒæ¥éš”å¼€å¤šä¸ªæ­£åˆ™ï¼Œè¡¨ç¤ºæ»¡è¶³å…¶ä¸­ä»»æ„ä¸€ä¸ªå°±è¡Œï¼Œæ¯”å¦‚ ab|bc èƒ½åŒ¹é…ä¸Š abï¼Œä¹Ÿèƒ½åŒ¹é…ä¸Š bcï¼Œåœ¨æ­£åˆ™æœ‰å¤šç§æƒ…å†µæ—¶ï¼Œè¿™ä¸ªéå¸¸æœ‰ç”¨ã€‚ä¸­æ‹¬å·[]ä»£è¡¨å¤šé€‰ä¸€ï¼Œå¯ä»¥è¡¨ç¤ºé‡Œé¢çš„ä»»æ„å•ä¸ªå­—ç¬¦ï¼Œæ‰€ä»¥ä»»æ„å…ƒéŸ³å­—æ¯å¯ä»¥ç”¨ [aeiou] æ¥è¡¨ç¤ºã€‚å¦å¤–ï¼Œä¸­æ‹¬å·ä¸­ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ç”¨ä¸­åˆ’çº¿è¡¨ç¤ºèŒƒå›´ï¼Œæ¯”å¦‚ [a-z] å¯ä»¥è¡¨ç¤ºæ‰€æœ‰å°å†™å­—æ¯ã€‚å¦‚æœä¸­æ‹¬å·ç¬¬ä¸€ä¸ªæ˜¯è„±å­—ç¬¦ï¼ˆ^ï¼‰ï¼Œé‚£ä¹ˆå°±è¡¨ç¤ºéï¼Œè¡¨è¾¾çš„æ˜¯ä¸èƒ½æ˜¯é‡Œé¢çš„ä»»ä½•å•ä¸ªå…ƒç´ ã€‚ é‡è¯ä¸è´ªå©ª ","date":"2020-07-04","objectID":"https://mayuanucas.github.io/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%85%A5%E9%97%A8/:1:4","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼å…¥é—¨","uri":"https://mayuanucas.github.io/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%85%A5%E9%97%A8/"},{"categories":["æ•ˆç‡å·¥å…·"],"content":"è´ªå©ªåŒ¹é… åœ¨æ­£åˆ™ä¸­ï¼Œè¡¨ç¤ºæ¬¡æ•°çš„é‡è¯é»˜è®¤æ˜¯è´ªå©ªçš„ï¼Œåœ¨è´ªå©ªæ¨¡å¼ä¸‹ï¼Œä¼šå°è¯•å°½å¯èƒ½æœ€å¤§é•¿åº¦å»åŒ¹é…ã€‚è´ªå©ªæ¨¡å¼çš„ç‰¹ç‚¹å°±æ˜¯å°½å¯èƒ½è¿›è¡Œæœ€å¤§é•¿åº¦åŒ¹é…ã€‚ ä¾‹å¦‚ï¼šåœ¨å­—ç¬¦ä¸² aaabb ä¸­ä½¿ç”¨æ­£åˆ™ a* çš„åŒ¹é…è¿‡ç¨‹ã€‚a* åœ¨åŒ¹é…å¼€å¤´çš„ a æ—¶ï¼Œä¼šå°è¯•å°½é‡åŒ¹é…æ›´å¤šçš„ aï¼Œç›´åˆ°ç¬¬ä¸€ä¸ªå­—æ¯ b ä¸æ»¡è¶³è¦æ±‚ä¸ºæ­¢ï¼ŒåŒ¹é…ä¸Šä¸‰ä¸ª aï¼Œåé¢æ¯æ¬¡åŒ¹é…æ—¶éƒ½å¾—åˆ°äº†ç©ºå­—ç¬¦ä¸²ã€‚ ","date":"2020-07-04","objectID":"https://mayuanucas.github.io/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%85%A5%E9%97%A8/:2:0","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼å…¥é—¨","uri":"https://mayuanucas.github.io/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%85%A5%E9%97%A8/"},{"categories":["æ•ˆç‡å·¥å…·"],"content":"éè´ªå©ªåŒ¹é… éè´ªå©ªæ¨¡å¼ä¼šå°½å¯èƒ½çŸ­åœ°å»åŒ¹é…ï¼Œåœ¨é‡è¯åé¢åŠ ä¸Šè‹±æ–‡çš„é—®å· (?)ï¼Œæ­£åˆ™å°±å˜æˆäº† a*?ã€‚ ","date":"2020-07-04","objectID":"https://mayuanucas.github.io/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%85%A5%E9%97%A8/:3:0","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼å…¥é—¨","uri":"https://mayuanucas.github.io/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%85%A5%E9%97%A8/"},{"categories":["æ•ˆç‡å·¥å…·"],"content":"ç‹¬å æ¨¡å¼ ç‹¬å æ¨¡å¼å’Œè´ªå©ªæ¨¡å¼å¾ˆåƒï¼Œç‹¬å æ¨¡å¼ä¼šå°½å¯èƒ½å¤šåœ°å»åŒ¹é…ï¼Œå¦‚æœåŒ¹é…å¤±è´¥å°±ç»“æŸï¼Œä¸ä¼šè¿›è¡Œå›æº¯ï¼Œè¿™æ ·çš„è¯å°±æ¯”è¾ƒèŠ‚çœæ—¶é—´ã€‚å…·ä½“çš„æ–¹æ³•å°±æ˜¯åœ¨é‡è¯åé¢åŠ ä¸ŠåŠ å·ï¼ˆ+ï¼‰ã€‚ ç‹¬å æ¨¡å¼æ€§èƒ½æ¯”è¾ƒå¥½ï¼Œå¯ä»¥èŠ‚çº¦åŒ¹é…çš„æ—¶é—´å’Œ CPU èµ„æºï¼Œä½†æœ‰äº›æƒ…å†µä¸‹å¹¶ä¸èƒ½æ»¡è¶³éœ€æ±‚ï¼Œè¦æƒ³ä½¿ç”¨è¿™ä¸ªæ¨¡å¼è¿˜è¦çœ‹å…·ä½“éœ€æ±‚ï¼ˆæ¯”å¦‚æˆ‘ä»¬æ¥ä¸‹æ¥è¦è®²çš„æ¡ˆä¾‹ï¼‰ï¼Œå¦å¤–è¿˜å¾—çœ‹ä½ å½“å‰ä½¿ç”¨çš„è¯­è¨€æˆ–åº“çš„æ”¯æŒç¨‹åº¦ã€‚ åˆ†ç»„ä¸å¼•ç”¨ ","date":"2020-07-04","objectID":"https://mayuanucas.github.io/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%85%A5%E9%97%A8/:4:0","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼å…¥é—¨","uri":"https://mayuanucas.github.io/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%85%A5%E9%97%A8/"},{"categories":["æ•ˆç‡å·¥å…·"],"content":"åˆ†ç»„ä¸ç¼–å· æ‹¬å·åœ¨æ­£åˆ™ä¸­å¯ä»¥ç”¨äºåˆ†ç»„ï¼Œè¢«æ‹¬å·æ‹¬èµ·æ¥çš„éƒ¨åˆ†â€œå­è¡¨è¾¾å¼â€ä¼šè¢«ä¿å­˜æˆä¸€ä¸ªå­ç»„ã€‚åˆ†ç»„å’Œç¼–å·çš„è§„åˆ™ï¼Œç”¨ä¸€å¥è¯æ¥è¯´å°±æ˜¯ï¼Œç¬¬å‡ ä¸ªæ‹¬å·å°±æ˜¯ç¬¬å‡ ä¸ªåˆ†ç»„ã€‚ä»¥æ—¶é—´æ ¼å¼ 2020-05-10 20:23:05ä¸ºä¾‹ï¼Œå‡è®¾æƒ³è¦ä½¿ç”¨æ­£åˆ™æå–å‡ºé‡Œé¢çš„æ—¥æœŸå’Œæ—¶é—´ã€‚ å¯ä»¥å†™å‡ºå¦‚å›¾æ‰€ç¤ºçš„æ­£åˆ™ï¼Œå°†æ—¥æœŸå’Œæ—¶é—´éƒ½æ‹¬å·æ‹¬èµ·æ¥ã€‚è¿™ä¸ªæ­£åˆ™ä¸­ä¸€å…±æœ‰ä¸¤ä¸ªåˆ†ç»„ï¼Œæ—¥æœŸæ˜¯ç¬¬ 1 ä¸ªï¼Œæ—¶é—´æ˜¯ç¬¬ 2 ä¸ªã€‚ ","date":"2020-07-04","objectID":"https://mayuanucas.github.io/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%85%A5%E9%97%A8/:5:0","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼å…¥é—¨","uri":"https://mayuanucas.github.io/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%85%A5%E9%97%A8/"},{"categories":["æ•ˆç‡å·¥å…·"],"content":"ä¸ä¿å­˜å­ç»„ åœ¨æ‹¬å·é‡Œé¢çš„ä¼šä¿å­˜æˆå­ç»„ï¼Œä½†æœ‰äº›æƒ…å†µä¸‹ï¼Œä½ å¯èƒ½åªæƒ³ç”¨æ‹¬å·å°†æŸäº›éƒ¨åˆ†çœ‹æˆä¸€ä¸ªæ•´ä½“ï¼Œåç»­ä¸ç”¨å†ç”¨å®ƒï¼Œç±»ä¼¼è¿™ç§æƒ…å†µï¼Œåœ¨å®é™…ä½¿ç”¨æ—¶ï¼Œæ˜¯æ²¡å¿…è¦ä¿å­˜å­ç»„çš„ã€‚è¿™æ—¶å¯ä»¥åœ¨æ‹¬å·é‡Œé¢ä½¿ç”¨ ?: ä¸ä¿å­˜å­ç»„ã€‚ç”±äºå­ç»„å˜å°‘äº†ï¼Œæ­£åˆ™æ€§èƒ½ä¼šæ›´å¥½ï¼Œåœ¨å­ç»„è®¡æ•°æ—¶ä¹Ÿæ›´ä¸å®¹æ˜“å‡ºé”™ã€‚é‚£ä»€ä¹ˆæ˜¯ä¸ä¿å­˜å­ç»„å‘¢ï¼Ÿå¯ä»¥ç†è§£æˆï¼Œæ‹¬å·åªç”¨äºå½’ç»„ï¼ŒæŠŠæŸä¸ªéƒ¨åˆ†å½“æˆâ€œå•ä¸ªå…ƒç´ â€ï¼Œä¸åˆ†é…ç¼–å·ï¼Œåé¢ä¸ä¼šå†è¿›è¡Œè¿™éƒ¨åˆ†çš„å¼•ç”¨ã€‚ ","date":"2020-07-04","objectID":"https://mayuanucas.github.io/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%85%A5%E9%97%A8/:6:0","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼å…¥é—¨","uri":"https://mayuanucas.github.io/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%85%A5%E9%97%A8/"},{"categories":["æ•ˆç‡å·¥å…·"],"content":"æ‹¬å·åµŒå¥— è¦çœ‹æŸä¸ªæ‹¬å·é‡Œé¢çš„å†…å®¹æ˜¯ç¬¬å‡ ä¸ªåˆ†ç»„æ€ä¹ˆåŠï¼Ÿä¸è¦æ‹…å¿ƒï¼Œå…¶å®æ–¹æ³•å¾ˆç®€å•ï¼Œæˆ‘ä»¬åªéœ€è¦æ•°å·¦æ‹¬å·ï¼ˆå¼€æ‹¬å·ï¼‰æ˜¯ç¬¬å‡ ä¸ªï¼Œå°±å¯ä»¥ç¡®å®šæ˜¯ç¬¬å‡ ä¸ªå­ç»„ã€‚ ","date":"2020-07-04","objectID":"https://mayuanucas.github.io/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%85%A5%E9%97%A8/:7:0","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼å…¥é—¨","uri":"https://mayuanucas.github.io/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%85%A5%E9%97%A8/"},{"categories":["æ•ˆç‡å·¥å…·"],"content":"å‘½ååˆ†ç»„ å‘½ååˆ†ç»„çš„æ ¼å¼ä¸º(?P\u003cåˆ†ç»„å\u003eæ­£åˆ™)ï¼Œä¾‹å¦‚ Djangoçš„è·¯ç”±ä¸­ï¼Œå‘½ååˆ†ç»„ç¤ºä¾‹å¦‚ä¸‹ï¼š url(r'^profile/(?P\u003cusername\u003e\\w+)/$', view_func) ","date":"2020-07-04","objectID":"https://mayuanucas.github.io/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%85%A5%E9%97%A8/:8:0","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼å…¥é—¨","uri":"https://mayuanucas.github.io/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%85%A5%E9%97%A8/"},{"categories":["æ•ˆç‡å·¥å…·"],"content":"åˆ†ç»„å¼•ç”¨ å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ â€œåæ–œæ‰› + ç¼–å·â€ï¼Œå³ \\number çš„æ–¹å¼æ¥è¿›è¡Œå¼•ç”¨ï¼Œè€Œ JavaScript ä¸­æ˜¯é€šè¿‡â€œ$â€ç¼–å·æ¥å¼•ç”¨ï¼Œå¦‚â€œ$1â€ã€‚ åŒ¹é…æ¨¡å¼ ","date":"2020-07-04","objectID":"https://mayuanucas.github.io/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%85%A5%E9%97%A8/:9:0","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼å…¥é—¨","uri":"https://mayuanucas.github.io/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%85%A5%E9%97%A8/"},{"categories":["æ•ˆç‡å·¥å…·"],"content":"ä¸åŒºåˆ†å¤§å°å†™æ¨¡å¼ æŠŠæ¨¡å¼ä¿®é¥°ç¬¦æ”¾åœ¨æ•´ä¸ªæ­£åˆ™å‰é¢æ—¶ï¼Œå°±è¡¨ç¤ºæ•´ä¸ªæ­£åˆ™è¡¨è¾¾å¼éƒ½æ˜¯ä¸åŒºåˆ†å¤§å°å†™çš„ã€‚æ¨¡å¼ä¿®é¥°ç¬¦æ˜¯é€šè¿‡ (? æ¨¡å¼æ ‡è¯†) çš„æ–¹å¼æ¥è¡¨ç¤ºçš„ã€‚ æˆ‘ä»¬åªéœ€è¦æŠŠæ¨¡å¼ä¿®é¥°ç¬¦æ”¾åœ¨å¯¹åº”çš„æ­£åˆ™å‰ï¼Œå°±å¯ä»¥ä½¿ç”¨æŒ‡å®šçš„æ¨¡å¼äº†ã€‚åœ¨ä¸åŒºåˆ†å¤§å°å†™æ¨¡å¼ä¸­ï¼Œç”±äºä¸åˆ†å¤§å°å†™çš„è‹±æ–‡æ˜¯ Case-Insensitiveï¼Œé‚£ä¹ˆå¯¹åº”çš„æ¨¡å¼æ ‡è¯†å°±æ˜¯ I çš„å°å†™å­—æ¯ iï¼Œæ‰€ä»¥ä¸åŒºåˆ†å¤§å°å†™çš„ cat å°±å¯ä»¥å†™æˆ (?i)catã€‚ ä¹Ÿå¯ä»¥ç”¨å®ƒæ¥å°è¯•åŒ¹é…ä¸¤ä¸ªè¿ç»­å‡ºç°çš„ catï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œä½ ä¼šå‘ç°ï¼Œå³ä¾¿æ˜¯ç¬¬ä¸€ä¸ª cat å’Œç¬¬äºŒä¸ª cat å¤§å°å†™ä¸ä¸€è‡´ï¼Œä¹Ÿå¯ä»¥åŒ¹é…ä¸Šã€‚ å¦‚æœæˆ‘ä»¬æƒ³è¦å‰é¢åŒ¹é…ä¸Šçš„ç»“æœï¼Œå’Œç¬¬äºŒæ¬¡é‡å¤æ—¶çš„å¤§å°å†™ä¸€è‡´ï¼Œé‚£è¯¥æ€ä¹ˆåšå‘¢ï¼Ÿæˆ‘ä»¬åªéœ€è¦ç”¨æ‹¬å·æŠŠä¿®é¥°ç¬¦å’Œæ­£åˆ™ cat éƒ¨åˆ†æ‹¬èµ·æ¥ï¼ŒåŠ æ‹¬å·ç›¸å½“äºä½œç”¨èŒƒå›´çš„é™å®šï¼Œè®©ä¸åŒºåˆ†å¤§å°å†™åªä½œç”¨äºè¿™ä¸ªæ‹¬å·é‡Œçš„å†…å®¹ã€‚ é€šè¿‡ä¿®é¥°ç¬¦æŒ‡å®šåŒ¹é…æ¨¡å¼çš„æ–¹å¼ï¼Œåœ¨å¤§éƒ¨åˆ†ç¼–ç¨‹è¯­è¨€ä¸­éƒ½æ˜¯å¯ä»¥ç›´æ¥ä½¿ç”¨çš„ï¼Œä½†åœ¨ JS ä¸­æˆ‘ä»¬éœ€è¦ä½¿ç”¨ /regex/i æ¥æŒ‡å®šåŒ¹é…æ¨¡å¼ã€‚åœ¨ç¼–ç¨‹è¯­è¨€ä¸­é€šå¸¸ä¼šæä¾›ä¸€äº›é¢„å®šä¹‰çš„å¸¸é‡ï¼Œæ¥è¿›è¡ŒåŒ¹é…æ¨¡å¼çš„æŒ‡å®šã€‚æ¯”å¦‚ Python ä¸­å¯ä»¥ä½¿ç”¨ re.IGNORECASE æˆ– re.I ï¼Œæ¥ä¼ å…¥æ­£åˆ™å‡½æ•°ä¸­æ¥è¡¨ç¤ºä¸åŒºåˆ†å¤§å°å†™ã€‚ import re re.findall(r\"cat\", \"CAT Cat cat\", re.IGNORECASE) # è¾“å‡ºç»“æœä¸ºï¼š ['CAT', 'Cat', 'cat'] æ€»ç»“ä¸€ä¸‹ä¸åŒºåˆ†å¤§å°å†™æ¨¡å¼çš„è¦ç‚¹ï¼š ä¸åŒºåˆ†å¤§å°å†™æ¨¡å¼çš„æŒ‡å®šæ–¹å¼ï¼Œä½¿ç”¨æ¨¡å¼ä¿®é¥°ç¬¦ (?i)ï¼› ä¿®é¥°ç¬¦å¦‚æœåœ¨æ‹¬å·å†…ï¼Œä½œç”¨èŒƒå›´æ˜¯è¿™ä¸ªæ‹¬å·å†…çš„æ­£åˆ™ï¼Œè€Œä¸æ˜¯æ•´ä¸ªæ­£åˆ™ï¼› ä½¿ç”¨ç¼–ç¨‹è¯­è¨€æ—¶å¯ä»¥ä½¿ç”¨é¢„å®šä¹‰å¥½çš„å¸¸é‡æ¥æŒ‡å®šåŒ¹é…æ¨¡å¼ã€‚ ","date":"2020-07-04","objectID":"https://mayuanucas.github.io/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%85%A5%E9%97%A8/:10:0","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼å…¥é—¨","uri":"https://mayuanucas.github.io/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%85%A5%E9%97%A8/"},{"categories":["æ•ˆç‡å·¥å…·"],"content":"ç‚¹å·é€šé…æ¨¡å¼ï¼ˆDot Allï¼‰ è‹±æ–‡çš„ç‚¹ï¼ˆ.ï¼‰å¯ä»¥åŒ¹é…ä¸Šä»»ä½•ç¬¦å·ï¼Œä½†ä¸èƒ½åŒ¹é…æ¢è¡Œã€‚å½“æˆ‘ä»¬éœ€è¦åŒ¹é…çœŸæ­£çš„â€œä»»æ„â€ç¬¦å·çš„æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨ [\\s\\S] æˆ– [\\d\\D] æˆ– [\\w\\W] ç­‰ã€‚ ä½†æ˜¯è¿™ä¹ˆå†™ä¸å¤Ÿç®€æ´è‡ªç„¶ï¼Œæ‰€ä»¥æ­£åˆ™ä¸­æä¾›äº†ä¸€ç§æ¨¡å¼ï¼Œè®©è‹±æ–‡çš„ç‚¹ï¼ˆ.ï¼‰å¯ä»¥åŒ¹é…ä¸ŠåŒ…æ‹¬æ¢è¡Œçš„ä»»ä½•å­—ç¬¦ã€‚ è¿™ä¸ªæ¨¡å¼å°±æ˜¯ç‚¹å·é€šé…æ¨¡å¼ï¼Œæœ‰å¾ˆå¤šåœ°æ–¹æŠŠå®ƒç§°ä½œå•è¡ŒåŒ¹é…æ¨¡å¼ï¼Œä½†è¿™ä¹ˆè¯´å®¹æ˜“é€ æˆè¯¯è§£ï¼Œæ¯•ç«Ÿå®ƒä¸å¤šè¡ŒåŒ¹é…æ¨¡å¼æ²¡æœ‰è”ç³»ï¼Œå› æ­¤åœ¨è¿™é‡Œç»Ÿä¸€ç”¨æ›´å®¹æ˜“ç†è§£çš„â€œç‚¹å·é€šé…æ¨¡å¼â€ã€‚å•è¡Œçš„è‹±æ–‡è¡¨ç¤ºæ˜¯ Single Lineï¼Œå•è¡Œæ¨¡å¼å¯¹åº”çš„ä¿®é¥°ç¬¦æ˜¯ (?s)ï¼Œè¿™é‡Œé€‰æ‹©ç”¨ the cat æ¥ä¸¾ä¸€ä¸ªç‚¹å·é€šé…æ¨¡å¼çš„ä¾‹å­ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š ","date":"2020-07-04","objectID":"https://mayuanucas.github.io/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%85%A5%E9%97%A8/:11:0","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼å…¥é—¨","uri":"https://mayuanucas.github.io/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%85%A5%E9%97%A8/"},{"categories":["æ•ˆç‡å·¥å…·"],"content":"å¤šè¡ŒåŒ¹é…æ¨¡å¼ï¼ˆMultilineï¼‰ é€šå¸¸æƒ…å†µä¸‹ï¼Œ^ åŒ¹é…æ•´ä¸ªå­—ç¬¦ä¸²çš„å¼€å¤´ï¼Œ$ åŒ¹é…æ•´ä¸ªå­—ç¬¦ä¸²çš„ç»“å°¾ã€‚å¤šè¡ŒåŒ¹é…æ¨¡å¼æ”¹å˜çš„å°±æ˜¯ \\ ^ å’Œ $ çš„åŒ¹é…è¡Œä¸ºã€‚ å¤šè¡Œæ¨¡å¼çš„ä½œç”¨åœ¨äºï¼Œä½¿ ^ å’Œ $ èƒ½åŒ¹é…ä¸Šæ¯è¡Œçš„å¼€å¤´æˆ–ç»“å°¾ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ¨¡å¼ä¿®é¥°ç¬¦å· (?m) æ¥æŒ‡å®šè¿™ä¸ªæ¨¡å¼ã€‚ ","date":"2020-07-04","objectID":"https://mayuanucas.github.io/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%85%A5%E9%97%A8/:12:0","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼å…¥é—¨","uri":"https://mayuanucas.github.io/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%85%A5%E9%97%A8/"},{"categories":["æ•ˆç‡å·¥å…·"],"content":"æ³¨é‡Šæ¨¡å¼ï¼ˆCommentï¼‰ åœ¨å†™ä»£ç çš„æ—¶å€™ï¼Œé€šå¸¸ä¼šåœ¨ä¸€äº›å…³é”®çš„åœ°æ–¹åŠ ä¸Šæ³¨é‡Šï¼Œè®©ä»£ç æ›´æ˜“äºç†è§£ã€‚å¾ˆå¤šè¯­è¨€ä¹Ÿæ”¯æŒåœ¨æ­£åˆ™ä¸­æ·»åŠ æ³¨é‡Šï¼Œè®©æ­£åˆ™æ›´å®¹æ˜“é˜…è¯»å’Œç»´æŠ¤ï¼Œè¿™å°±æ˜¯æ­£åˆ™çš„æ³¨é‡Šæ¨¡å¼ã€‚æ­£åˆ™ä¸­æ³¨é‡Šæ¨¡å¼æ˜¯ä½¿ç”¨ (?#comment) æ¥è¡¨ç¤ºã€‚ä¾‹å¦‚ï¼š (\\w+)(?#word) \\1(?#word repeat again) æ–­è¨€ ","date":"2020-07-04","objectID":"https://mayuanucas.github.io/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%85%A5%E9%97%A8/:13:0","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼å…¥é—¨","uri":"https://mayuanucas.github.io/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%85%A5%E9%97%A8/"},{"categories":["æ•ˆç‡å·¥å…·"],"content":"å•è¯è¾¹ç•Œ åœ¨æ­£åˆ™ä¸­ä½¿ç”¨\\b æ¥è¡¨ç¤ºå•è¯çš„è¾¹ç•Œã€‚ \\b ä¸­çš„ b å¯ä»¥ç†è§£ä¸ºæ˜¯è¾¹ç•Œï¼ˆBoundaryï¼‰è¿™ä¸ªå•è¯çš„é¦–å­—æ¯ã€‚ ","date":"2020-07-04","objectID":"https://mayuanucas.github.io/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%85%A5%E9%97%A8/:14:0","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼å…¥é—¨","uri":"https://mayuanucas.github.io/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%85%A5%E9%97%A8/"},{"categories":["æ•ˆç‡å·¥å…·"],"content":"è¡Œçš„å¼€å§‹æˆ–ç»“æŸ å’Œå•è¯çš„è¾¹ç•Œç±»ä¼¼ï¼Œåœ¨æ­£åˆ™ä¸­è¿˜æœ‰æ–‡æœ¬æ¯è¡Œçš„å¼€å§‹å’Œç»“æŸï¼Œå¦‚æœæˆ‘ä»¬è¦æ±‚åŒ¹é…çš„å†…å®¹è¦å‡ºç°åœ¨ä¸€è¡Œæ–‡æœ¬å¼€å¤´æˆ–ç»“å°¾ï¼Œå°±å¯ä»¥ä½¿ç”¨ ^ å’Œ $ æ¥è¿›è¡Œä½ç½®ç•Œå®šã€‚ ","date":"2020-07-04","objectID":"https://mayuanucas.github.io/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%85%A5%E9%97%A8/:15:0","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼å…¥é—¨","uri":"https://mayuanucas.github.io/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%85%A5%E9%97%A8/"},{"categories":["æ•ˆç‡å·¥å…·"],"content":"ç¯è§† å·¦å°–æ‹¬å·ä»£è¡¨çœ‹å·¦è¾¹ï¼Œæ²¡æœ‰å°–æ‹¬å·æ˜¯çœ‹å³è¾¹ï¼Œæ„Ÿå¹å·æ˜¯éçš„æ„æ€ã€‚ å› æ­¤ï¼Œé’ˆå¯¹é‚®ç¼–çš„é—®é¢˜ï¼Œå°±å¯ä»¥å†™æˆå·¦è¾¹ä¸æ˜¯æ•°å­—ï¼Œå³è¾¹ä¹Ÿä¸æ˜¯æ•°å­—çš„ 6 ä½æ•°çš„æ­£åˆ™ã€‚å³ (?\u003c!\\d)[1-9]\\d{5}(?!\\d) ä¾‹å¦‚ï¼šç”¨æ­£åˆ™åˆ†ç»„å¼•ç”¨æ¥å®ç°æ›¿æ¢é‡å¤å‡ºç°çš„å•è¯ã€‚ ","date":"2020-07-04","objectID":"https://mayuanucas.github.io/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%85%A5%E9%97%A8/:16:0","tags":["æ­£åˆ™è¡¨è¾¾å¼"],"title":"æ­£åˆ™è¡¨è¾¾å¼å…¥é—¨","uri":"https://mayuanucas.github.io/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%85%A5%E9%97%A8/"},{"categories":["æœºå™¨å­¦ä¹ "],"content":"Apache Spark æ˜¯ä¸€ä¸ªå¿«é€Ÿçš„ï¼Œå¤šç”¨é€”çš„é›†ç¾¤è®¡ç®—ç³»ç»Ÿã€‚å®ƒæä¾›äº† Javaï¼ŒScalaï¼ŒPython å’Œ R çš„é«˜çº§ APIï¼Œä»¥åŠä¸€ä¸ªæ”¯æŒé€šç”¨çš„æ‰§è¡Œå›¾è®¡ç®—çš„ä¼˜åŒ–è¿‡çš„å¼•æ“ã€‚å®ƒè¿˜æ”¯æŒä¸€ç»„ä¸°å¯Œçš„é«˜çº§å·¥å…·ï¼ŒåŒ…æ‹¬ä½¿ç”¨ SQL å¤„ç†ç»“æ„åŒ–æ•°æ®å¤„ç†çš„ Spark SQLï¼Œç”¨äºæœºå™¨å­¦ä¹ çš„ MLlibï¼Œç”¨äºå›¾è®¡ç®—çš„ GraphXï¼Œä»¥åŠ Spark Streamingã€‚ ç®€ä»‹ Spark äº 2009 å¹´è¯ç”ŸäºåŠ å·å¤§å­¦ä¼¯å…‹åˆ©åˆ†æ ¡ AMPLabï¼Œ2013 å¹´è¢«æèµ ç»™ Apache è½¯ä»¶åŸºé‡‘ä¼šï¼Œ2014 å¹´ 2 æœˆæˆä¸º Apache çš„é¡¶çº§é¡¹ç›®ã€‚ç›¸å¯¹äº MapReduce çš„æ‰¹å¤„ç†è®¡ç®—ï¼ŒSpark å¯ä»¥å¸¦æ¥ä¸Šç™¾å€çš„æ€§èƒ½æå‡ï¼Œå› æ­¤å®ƒæˆä¸ºç»§ MapReduce ä¹‹åï¼Œæœ€ä¸ºå¹¿æ³›ä½¿ç”¨çš„åˆ†å¸ƒå¼è®¡ç®—æ¡†æ¶ã€‚ ç‰¹ç‚¹ Apache Spark å…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š ä½¿ç”¨å…ˆè¿›çš„ DAG è°ƒåº¦ç¨‹åºï¼ŒæŸ¥è¯¢ä¼˜åŒ–å™¨å’Œç‰©ç†æ‰§è¡Œå¼•æ“ï¼Œä»¥å®ç°æ€§èƒ½ä¸Šçš„ä¿è¯ï¼› å¤šè¯­è¨€æ”¯æŒï¼Œç›®å‰æ”¯æŒçš„æœ‰ Javaï¼ŒScalaï¼ŒPython å’Œ Rï¼› æä¾›é«˜çº§ APIï¼Œå¯ä»¥è½»æ¾åœ°æ„å»ºåº”ç”¨ç¨‹åºï¼› æ”¯æŒæ‰¹å¤„ç†ï¼Œæµå¤„ç†å’Œå¤æ‚çš„ä¸šåŠ¡åˆ†æï¼› ä¸°å¯Œçš„ç±»åº“æ”¯æŒï¼šåŒ…æ‹¬ SQLï¼ŒMLlibï¼ŒGraphX å’Œ Spark Streaming ç­‰åº“ï¼Œå¹¶ä¸”å¯ä»¥å°†å®ƒä»¬æ— ç¼åœ°è¿›è¡Œç»„åˆï¼› ä¸°å¯Œçš„éƒ¨ç½²æ¨¡å¼ï¼šæ”¯æŒæœ¬åœ°æ¨¡å¼å’Œè‡ªå¸¦çš„é›†ç¾¤æ¨¡å¼ï¼Œä¹Ÿæ”¯æŒåœ¨ Hadoopï¼ŒMesosï¼ŒKubernetes ä¸Šè¿è¡Œï¼› å¤šæ•°æ®æºæ”¯æŒï¼šæ”¯æŒè®¿é—® HDFSï¼ŒAlluxioï¼ŒCassandraï¼ŒHBaseï¼ŒHive ä»¥åŠæ•°ç™¾ä¸ªå…¶ä»–æ•°æ®æºä¸­çš„æ•°æ®ã€‚ é›†ç¾¤æ¶æ„ Termï¼ˆæœ¯è¯­ï¼‰ Meaningï¼ˆå«ä¹‰ï¼‰ Application Spark åº”ç”¨ç¨‹åºï¼Œç”±é›†ç¾¤ä¸Šçš„ä¸€ä¸ª Driver èŠ‚ç‚¹å’Œå¤šä¸ª Executor èŠ‚ç‚¹ç»„æˆã€‚ Driver program ä¸»è¿ç”¨ç¨‹åºï¼Œè¯¥è¿›ç¨‹è¿è¡Œåº”ç”¨çš„ main() æ–¹æ³•å¹¶ä¸”åˆ›å»º SparkContext Cluster manager é›†ç¾¤èµ„æºç®¡ç†å™¨ï¼ˆä¾‹å¦‚ï¼ŒStandlone Managerï¼ŒMesosï¼ŒYARNï¼‰ Worker node æ‰§è¡Œè®¡ç®—ä»»åŠ¡çš„å·¥ä½œèŠ‚ç‚¹ Executor ä½äºå·¥ä½œèŠ‚ç‚¹ä¸Šçš„åº”ç”¨è¿›ç¨‹ï¼Œè´Ÿè´£æ‰§è¡Œè®¡ç®—ä»»åŠ¡å¹¶ä¸”å°†è¾“å‡ºæ•°æ®ä¿å­˜åˆ°å†…å­˜æˆ–è€…ç£ç›˜ä¸­ Task è¢«å‘é€åˆ° Executor ä¸­çš„å·¥ä½œå•å…ƒ æ‰§è¡Œè¿‡ç¨‹ï¼š ç”¨æˆ·ç¨‹åºåˆ›å»º SparkContext åï¼Œå®ƒä¼šè¿æ¥åˆ°é›†ç¾¤èµ„æºç®¡ç†å™¨ï¼Œé›†ç¾¤èµ„æºç®¡ç†å™¨ä¼šä¸ºç”¨æˆ·ç¨‹åºåˆ†é…è®¡ç®—èµ„æºï¼Œå¹¶å¯åŠ¨ Executorï¼› Dirver å°†è®¡ç®—ç¨‹åºåˆ’åˆ†ä¸ºä¸åŒçš„æ‰§è¡Œé˜¶æ®µå’Œå¤šä¸ª Taskï¼Œä¹‹åå°† Task å‘é€ç»™ Executorï¼› Executor è´Ÿè´£æ‰§è¡Œ Taskï¼Œå¹¶å°†æ‰§è¡ŒçŠ¶æ€æ±‡æŠ¥ç»™ Driverï¼ŒåŒæ—¶ä¹Ÿä¼šå°†å½“å‰èŠ‚ç‚¹èµ„æºçš„ä½¿ç”¨æƒ…å†µæ±‡æŠ¥ç»™é›†ç¾¤èµ„æºç®¡ç†å™¨ã€‚ æ ¸å¿ƒç»„ä»¶ Spark åŸºäº Spark Core æ‰©å±•äº†å››ä¸ªæ ¸å¿ƒç»„ä»¶ï¼Œåˆ†åˆ«ç”¨äºæ»¡è¶³ä¸åŒé¢†åŸŸçš„è®¡ç®—éœ€æ±‚ã€‚ ","date":"2020-03-09","objectID":"https://mayuanucas.github.io/spark/:0:0","tags":["Spark","scala"],"title":"Sparkç®€æ˜ä»‹ç»","uri":"https://mayuanucas.github.io/spark/"},{"categories":["æœºå™¨å­¦ä¹ "],"content":"Spark SQL Spark SQL ä¸»è¦ç”¨äºç»“æ„åŒ–æ•°æ®çš„å¤„ç†ã€‚å…¶å…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š èƒ½å¤Ÿå°† SQL æŸ¥è¯¢ä¸ Spark ç¨‹åºæ— ç¼æ··åˆï¼Œå…è®¸æ‚¨ä½¿ç”¨ SQL æˆ– DataFrame API å¯¹ç»“æ„åŒ–æ•°æ®è¿›è¡ŒæŸ¥è¯¢ï¼› æ”¯æŒå¤šç§æ•°æ®æºï¼ŒåŒ…æ‹¬ Hiveï¼ŒAvroï¼ŒParquetï¼ŒORCï¼ŒJSON å’Œ JDBCï¼› æ”¯æŒ HiveQL è¯­æ³•ä»¥åŠç”¨æˆ·è‡ªå®šä¹‰å‡½æ•° (UDF)ï¼Œå…è®¸ä½ è®¿é—®ç°æœ‰çš„ Hive ä»“åº“ï¼› æ”¯æŒæ ‡å‡†çš„ JDBC å’Œ ODBC è¿æ¥ï¼› æ”¯æŒä¼˜åŒ–å™¨ï¼Œåˆ—å¼å­˜å‚¨å’Œä»£ç ç”Ÿæˆç­‰ç‰¹æ€§ï¼Œä»¥æé«˜æŸ¥è¯¢æ•ˆç‡ã€‚ ","date":"2020-03-09","objectID":"https://mayuanucas.github.io/spark/:1:0","tags":["Spark","scala"],"title":"Sparkç®€æ˜ä»‹ç»","uri":"https://mayuanucas.github.io/spark/"},{"categories":["æœºå™¨å­¦ä¹ "],"content":"Spark Streaming Spark Streaming ä¸»è¦ç”¨äºå¿«é€Ÿæ„å»ºå¯æ‰©å±•ï¼Œé«˜ååé‡ï¼Œé«˜å®¹é”™çš„æµå¤„ç†ç¨‹åºã€‚æ”¯æŒä» HDFSï¼ŒFlumeï¼ŒKafkaï¼ŒTwitter å’Œ ZeroMQ è¯»å–æ•°æ®ï¼Œå¹¶è¿›è¡Œå¤„ç†ã€‚ Spark Streaming çš„æœ¬è´¨æ˜¯å¾®æ‰¹å¤„ç†ï¼Œå®ƒå°†æ•°æ®æµè¿›è¡Œæå°ç²’åº¦çš„æ‹†åˆ†ï¼Œæ‹†åˆ†ä¸ºå¤šä¸ªæ‰¹å¤„ç†ï¼Œä»è€Œè¾¾åˆ°æ¥è¿‘äºæµå¤„ç†çš„æ•ˆæœã€‚ ","date":"2020-03-09","objectID":"https://mayuanucas.github.io/spark/:2:0","tags":["Spark","scala"],"title":"Sparkç®€æ˜ä»‹ç»","uri":"https://mayuanucas.github.io/spark/"},{"categories":["æœºå™¨å­¦ä¹ "],"content":"MLlib MLlib æ˜¯ Spark çš„æœºå™¨å­¦ä¹ åº“ã€‚å…¶è®¾è®¡ç›®æ ‡æ˜¯ä½¿å¾—æœºå™¨å­¦ä¹ å˜å¾—ç®€å•ä¸”å¯æ‰©å±•ã€‚å®ƒæä¾›äº†ä»¥ä¸‹å·¥å…·ï¼š å¸¸è§çš„æœºå™¨å­¦ä¹ ç®—æ³•ï¼šå¦‚åˆ†ç±»ï¼Œå›å½’ï¼Œèšç±»å’ŒååŒè¿‡æ»¤ï¼› ç‰¹å¾åŒ–ï¼šç‰¹å¾æå–ï¼Œè½¬æ¢ï¼Œé™ç»´å’Œé€‰æ‹©ï¼› ç®¡é“ï¼šç”¨äºæ„å»ºï¼Œè¯„ä¼°å’Œè°ƒæ•´ ML ç®¡é“çš„å·¥å…·ï¼› æŒä¹…æ€§ï¼šä¿å­˜å’ŒåŠ è½½ç®—æ³•ï¼Œæ¨¡å‹ï¼Œç®¡é“æ•°æ®ï¼› å®ç”¨å·¥å…·ï¼šçº¿æ€§ä»£æ•°ï¼Œç»Ÿè®¡ï¼Œæ•°æ®å¤„ç†ç­‰ã€‚ ","date":"2020-03-09","objectID":"https://mayuanucas.github.io/spark/:3:0","tags":["Spark","scala"],"title":"Sparkç®€æ˜ä»‹ç»","uri":"https://mayuanucas.github.io/spark/"},{"categories":["æœºå™¨å­¦ä¹ "],"content":"Graphx GraphX æ˜¯ Spark ä¸­ç”¨äºå›¾å½¢è®¡ç®—å’Œå›¾å½¢å¹¶è¡Œè®¡ç®—çš„æ–°ç»„ä»¶ã€‚åœ¨é«˜å±‚æ¬¡ä¸Šï¼ŒGraphX é€šè¿‡å¼•å…¥ä¸€ä¸ªæ–°çš„å›¾å½¢æŠ½è±¡æ¥æ‰©å±• RDD(ä¸€ç§å…·æœ‰é™„åŠ åˆ°æ¯ä¸ªé¡¶ç‚¹å’Œè¾¹ç¼˜çš„å±æ€§çš„å®šå‘å¤šé‡å›¾å½¢)ã€‚ä¸ºäº†æ”¯æŒå›¾è®¡ç®—ï¼ŒGraphX æä¾›äº†ä¸€ç»„åŸºæœ¬è¿ç®—ç¬¦ï¼ˆå¦‚ï¼šsubgraphï¼ŒjoinVertices å’Œ aggregateMessagesï¼‰ä»¥åŠä¼˜åŒ–åçš„ Pregel APIã€‚æ­¤å¤–ï¼ŒGraphX è¿˜åŒ…æ‹¬è¶Šæ¥è¶Šå¤šçš„å›¾å½¢ç®—æ³•å’Œæ„å»ºå™¨ï¼Œä»¥ç®€åŒ–å›¾å½¢åˆ†æä»»åŠ¡ã€‚ å¼¹æ€§å¼æ•°æ®é›†RDDs RDD å…¨ç§°ä¸º Resilient Distributed Datasetsï¼Œæ˜¯ Spark æœ€åŸºæœ¬çš„æ•°æ®æŠ½è±¡ï¼Œå®ƒæ˜¯åªè¯»çš„ã€åˆ†åŒºè®°å½•çš„é›†åˆï¼Œæ”¯æŒå¹¶è¡Œæ“ä½œï¼Œå¯ä»¥ç”±å¤–éƒ¨æ•°æ®é›†æˆ–å…¶ä»– RDD è½¬æ¢è€Œæ¥ï¼Œå®ƒå…·æœ‰ä»¥ä¸‹ç‰¹æ€§ï¼š ä¸€ä¸ª RDD ç”±ä¸€ä¸ªæˆ–è€…å¤šä¸ªåˆ†åŒºï¼ˆPartitionsï¼‰ç»„æˆã€‚å¯¹äº RDD æ¥è¯´ï¼Œæ¯ä¸ªåˆ†åŒºä¼šè¢«ä¸€ä¸ªè®¡ç®—ä»»åŠ¡æ‰€å¤„ç†ï¼Œç”¨æˆ·å¯ä»¥åœ¨åˆ›å»º RDD æ—¶æŒ‡å®šå…¶åˆ†åŒºä¸ªæ•°ï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®šï¼Œåˆ™é»˜è®¤é‡‡ç”¨ç¨‹åºæ‰€åˆ†é…åˆ°çš„ CPU çš„æ ¸å¿ƒæ•°ï¼› RDD æ‹¥æœ‰ä¸€ä¸ªç”¨äºè®¡ç®—åˆ†åŒºçš„å‡½æ•° computeï¼› RDD ä¼šä¿å­˜å½¼æ­¤é—´çš„ä¾èµ–å…³ç³»ï¼ŒRDD çš„æ¯æ¬¡è½¬æ¢éƒ½ä¼šç”Ÿæˆä¸€ä¸ªæ–°çš„ä¾èµ–å…³ç³»ï¼Œè¿™ç§ RDD ä¹‹é—´çš„ä¾èµ–å…³ç³»å°±åƒæµæ°´çº¿ä¸€æ ·ã€‚åœ¨éƒ¨åˆ†åˆ†åŒºæ•°æ®ä¸¢å¤±åï¼Œå¯ä»¥é€šè¿‡è¿™ç§ä¾èµ–å…³ç³»é‡æ–°è®¡ç®—ä¸¢å¤±çš„åˆ†åŒºæ•°æ®ï¼Œè€Œä¸æ˜¯å¯¹ RDD çš„æ‰€æœ‰åˆ†åŒºè¿›è¡Œé‡æ–°è®¡ç®—ï¼› Key-Value å‹çš„ RDD è¿˜æ‹¥æœ‰ Partitioner(åˆ†åŒºå™¨)ï¼Œç”¨äºå†³å®šæ•°æ®è¢«å­˜å‚¨åœ¨å“ªä¸ªåˆ†åŒºä¸­ï¼Œç›®å‰ Spark ä¸­æ”¯æŒ HashPartitioner(æŒ‰ç…§å“ˆå¸Œåˆ†åŒº) å’Œ RangeParationer(æŒ‰ç…§èŒƒå›´è¿›è¡Œåˆ†åŒº)ï¼› ä¸€ä¸ªä¼˜å…ˆä½ç½®åˆ—è¡¨ (å¯é€‰)ï¼Œç”¨äºå­˜å‚¨æ¯ä¸ªåˆ†åŒºçš„ä¼˜å…ˆä½ç½® (prefered location)ã€‚å¯¹äºä¸€ä¸ª HDFS æ–‡ä»¶æ¥è¯´ï¼Œè¿™ä¸ªåˆ—è¡¨ä¿å­˜çš„å°±æ˜¯æ¯ä¸ªåˆ†åŒºæ‰€åœ¨çš„å—çš„ä½ç½®ï¼ŒæŒ‰ç…§â€œç§»åŠ¨æ•°æ®ä¸å¦‚ç§»åŠ¨è®¡ç®—â€œçš„ç†å¿µï¼ŒSpark åœ¨è¿›è¡Œä»»åŠ¡è°ƒåº¦çš„æ—¶å€™ï¼Œä¼šå°½å¯èƒ½çš„å°†è®¡ç®—ä»»åŠ¡åˆ†é…åˆ°å…¶æ‰€è¦å¤„ç†æ•°æ®å—çš„å­˜å‚¨ä½ç½®ã€‚ RDD[T] æŠ½è±¡ç±»çš„éƒ¨åˆ†ç›¸å…³ä»£ç å¦‚ä¸‹ï¼š // ç”±å­ç±»å®ç°ä»¥è®¡ç®—ç»™å®šåˆ†åŒº def compute(split: Partition, context: TaskContext): Iterator[T] // è·å–æ‰€æœ‰åˆ†åŒº protected def getPartitions: Array[Partition] // è·å–æ‰€æœ‰ä¾èµ–å…³ç³» protected def getDependencies: Seq[Dependency[_]] = deps // è·å–ä¼˜å…ˆä½ç½®åˆ—è¡¨ protected def getPreferredLocations(split: Partition): Seq[String] = Nil // åˆ†åŒºå™¨ ç”±å­ç±»é‡å†™ä»¥æŒ‡å®šå®ƒä»¬çš„åˆ†åŒºæ–¹å¼ @transient val partitioner: Option[Partitioner] = None Spark SQL ","date":"2020-03-09","objectID":"https://mayuanucas.github.io/spark/:4:0","tags":["Spark","scala"],"title":"Sparkç®€æ˜ä»‹ç»","uri":"https://mayuanucas.github.io/spark/"},{"categories":["æœºå™¨å­¦ä¹ "],"content":"ç®€ä»‹ Spark SQL æ˜¯ Spark ä¸­çš„ä¸€ä¸ªå­æ¨¡å—ï¼Œä¸»è¦ç”¨äºæ“ä½œç»“æ„åŒ–æ•°æ®ã€‚å®ƒå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š èƒ½å¤Ÿå°† SQL æŸ¥è¯¢ä¸ Spark ç¨‹åºæ— ç¼æ··åˆï¼Œå…è®¸æ‚¨ä½¿ç”¨ SQL æˆ– DataFrame API å¯¹ç»“æ„åŒ–æ•°æ®è¿›è¡ŒæŸ¥è¯¢ï¼› æ”¯æŒå¤šç§å¼€å‘è¯­è¨€ï¼› æ”¯æŒå¤šè¾¾ä¸Šç™¾ç§çš„å¤–éƒ¨æ•°æ®æºï¼ŒåŒ…æ‹¬ Hiveï¼ŒAvroï¼ŒParquetï¼ŒORCï¼ŒJSON å’Œ JDBC ç­‰ï¼› æ”¯æŒ HiveQL è¯­æ³•ä»¥åŠ Hive SerDes å’Œ UDFï¼Œå…è®¸ä½ è®¿é—®ç°æœ‰çš„ Hive ä»“åº“ï¼› æ”¯æŒæ ‡å‡†çš„ JDBC å’Œ ODBC è¿æ¥ï¼› æ”¯æŒä¼˜åŒ–å™¨ï¼Œåˆ—å¼å­˜å‚¨å’Œä»£ç ç”Ÿæˆç­‰ç‰¹æ€§ï¼› æ”¯æŒæ‰©å±•å¹¶èƒ½ä¿è¯å®¹é”™ã€‚ ","date":"2020-03-09","objectID":"https://mayuanucas.github.io/spark/:5:0","tags":["Spark","scala"],"title":"Sparkç®€æ˜ä»‹ç»","uri":"https://mayuanucas.github.io/spark/"},{"categories":["æœºå™¨å­¦ä¹ "],"content":"DataFrame \u0026 DataSet ","date":"2020-03-09","objectID":"https://mayuanucas.github.io/spark/:6:0","tags":["Spark","scala"],"title":"Sparkç®€æ˜ä»‹ç»","uri":"https://mayuanucas.github.io/spark/"},{"categories":["æœºå™¨å­¦ä¹ "],"content":"DataFrame ä¸ºäº†æ”¯æŒç»“æ„åŒ–æ•°æ®çš„å¤„ç†ï¼ŒSpark SQL æä¾›äº†æ–°çš„æ•°æ®ç»“æ„ DataFrameã€‚DataFrame æ˜¯ä¸€ä¸ªç”±å…·ååˆ—ç»„æˆçš„æ•°æ®é›†ã€‚å®ƒåœ¨æ¦‚å¿µä¸Šç­‰åŒäºå…³ç³»æ•°æ®åº“ä¸­çš„è¡¨æˆ– R/Python è¯­è¨€ä¸­çš„ dataframeã€‚ ç”±äº Spark SQL æ”¯æŒå¤šç§è¯­è¨€çš„å¼€å‘ï¼Œæ‰€ä»¥æ¯ç§è¯­è¨€éƒ½å®šä¹‰äº† DataFrame çš„æŠ½è±¡ï¼Œä¸»è¦å¦‚ä¸‹ï¼š è¯­è¨€ ä¸»è¦æŠ½è±¡ Scala Dataset[T] \u0026 DataFrame (Dataset[Row] çš„åˆ«å) Java Dataset[T] Python DataFrame R DataFrame ","date":"2020-03-09","objectID":"https://mayuanucas.github.io/spark/:6:1","tags":["Spark","scala"],"title":"Sparkç®€æ˜ä»‹ç»","uri":"https://mayuanucas.github.io/spark/"},{"categories":["æœºå™¨å­¦ä¹ "],"content":"DataFrame å¯¹æ¯” RDDs DataFrame å’Œ RDDs æœ€ä¸»è¦çš„åŒºåˆ«åœ¨äºä¸€ä¸ªé¢å‘çš„æ˜¯ç»“æ„åŒ–æ•°æ®ï¼Œä¸€ä¸ªé¢å‘çš„æ˜¯éç»“æ„åŒ–æ•°æ®ï¼Œå®ƒä»¬å†…éƒ¨çš„æ•°æ®ç»“æ„å¦‚ä¸‹ï¼š DataFrame å†…éƒ¨çš„æœ‰æ˜ç¡® Scheme ç»“æ„ï¼Œå³åˆ—åã€åˆ—å­—æ®µç±»å‹éƒ½æ˜¯å·²çŸ¥çš„ï¼Œè¿™å¸¦æ¥çš„å¥½å¤„æ˜¯å¯ä»¥å‡å°‘æ•°æ®è¯»å–ä»¥åŠæ›´å¥½åœ°ä¼˜åŒ–æ‰§è¡Œè®¡åˆ’ï¼Œä»è€Œä¿è¯æŸ¥è¯¢æ•ˆç‡ã€‚ DataFrame å’Œ RDDs åº”è¯¥å¦‚ä½•é€‰æ‹©ï¼Ÿ å¦‚æœä½ æƒ³ä½¿ç”¨å‡½æ•°å¼ç¼–ç¨‹è€Œä¸æ˜¯ DataFrame APIï¼Œåˆ™ä½¿ç”¨ RDDsï¼› å¦‚æœä½ çš„æ•°æ®æ˜¯éç»“æ„åŒ–çš„ (æ¯”å¦‚æµåª’ä½“æˆ–è€…å­—ç¬¦æµ)ï¼Œåˆ™ä½¿ç”¨ RDDsï¼Œ å¦‚æœä½ çš„æ•°æ®æ˜¯ç»“æ„åŒ–çš„ (å¦‚ RDBMS ä¸­çš„æ•°æ®) æˆ–è€…åŠç»“æ„åŒ–çš„ (å¦‚æ—¥å¿—)ï¼Œå‡ºäºæ€§èƒ½ä¸Šçš„è€ƒè™‘ï¼Œåº”ä¼˜å…ˆä½¿ç”¨ DataFrameã€‚ ","date":"2020-03-09","objectID":"https://mayuanucas.github.io/spark/:6:2","tags":["Spark","scala"],"title":"Sparkç®€æ˜ä»‹ç»","uri":"https://mayuanucas.github.io/spark/"},{"categories":["æœºå™¨å­¦ä¹ "],"content":"DataSet Dataset ä¹Ÿæ˜¯åˆ†å¸ƒå¼çš„æ•°æ®é›†åˆï¼Œåœ¨ Spark 1.6 ç‰ˆæœ¬è¢«å¼•å…¥ï¼Œå®ƒé›†æˆäº† RDD å’Œ DataFrame çš„ä¼˜ç‚¹ï¼Œå…·å¤‡å¼ºç±»å‹çš„ç‰¹ç‚¹ï¼ŒåŒæ—¶æ”¯æŒ Lambda å‡½æ•°ï¼Œä½†åªèƒ½åœ¨ Scala å’Œ Java è¯­è¨€ä¸­ä½¿ç”¨ã€‚åœ¨ Spark 2.0 åï¼Œä¸ºäº†æ–¹ä¾¿å¼€å‘è€…ï¼ŒSpark å°† DataFrame å’Œ Dataset çš„ API èåˆåˆ°ä¸€èµ·ï¼Œæä¾›äº†ç»“æ„åŒ–çš„ API(Structured API)ï¼Œå³ç”¨æˆ·å¯ä»¥é€šè¿‡ä¸€å¥—æ ‡å‡†çš„ API å°±èƒ½å®Œæˆå¯¹ä¸¤è€…çš„æ“ä½œã€‚ ","date":"2020-03-09","objectID":"https://mayuanucas.github.io/spark/:6:3","tags":["Spark","scala"],"title":"Sparkç®€æ˜ä»‹ç»","uri":"https://mayuanucas.github.io/spark/"},{"categories":["æœºå™¨å­¦ä¹ "],"content":"é™æ€ç±»å‹ä¸è¿è¡Œæ—¶ç±»å‹å®‰å…¨ é™æ€ç±»å‹ (Static-typing) ä¸è¿è¡Œæ—¶ç±»å‹å®‰å…¨ (runtime type-safety) ä¸»è¦è¡¨ç°æ˜¯ï¼šåœ¨å®é™…ä½¿ç”¨ä¸­ï¼Œå¦‚æœä½ ç”¨çš„æ˜¯ Spark SQL çš„æŸ¥è¯¢è¯­å¥ï¼Œåˆ™ç›´åˆ°è¿è¡Œæ—¶ä½ æ‰ä¼šå‘ç°æœ‰è¯­æ³•é”™è¯¯ï¼Œè€Œå¦‚æœä½ ç”¨çš„æ˜¯ DataFrame å’Œ Datasetï¼Œåˆ™åœ¨ç¼–è¯‘æ—¶å°±å¯ä»¥å‘ç°é”™è¯¯ (è¿™èŠ‚çœäº†å¼€å‘æ—¶é—´å’Œæ•´ä½“ä»£ä»·)ã€‚DataFrame å’Œ Dataset ä¸»è¦åŒºåˆ«åœ¨äºï¼š åœ¨ DataFrame ä¸­ï¼Œå½“ä½ è°ƒç”¨äº† API ä¹‹å¤–çš„å‡½æ•°ï¼Œç¼–è¯‘å™¨å°±ä¼šæŠ¥é”™ï¼Œä½†å¦‚æœä½ ä½¿ç”¨äº†ä¸€ä¸ªä¸å­˜åœ¨çš„å­—æ®µåå­—ï¼Œç¼–è¯‘å™¨ä¾ç„¶æ— æ³•å‘ç°ã€‚è€Œ Dataset çš„ API éƒ½æ˜¯ç”¨ Lambda å‡½æ•°å’Œ JVM ç±»å‹å¯¹è±¡è¡¨ç¤ºçš„ï¼Œæ‰€æœ‰ä¸åŒ¹é…çš„ç±»å‹å‚æ•°åœ¨ç¼–è¯‘æ—¶å°±ä¼šè¢«å‘ç°ã€‚ ä»¥ä¸Šè¿™äº›æœ€ç»ˆéƒ½è¢«è§£é‡Šæˆå…³äºç±»å‹å®‰å…¨å›¾è°±ï¼Œå¯¹åº”å¼€å‘ä¸­çš„è¯­æ³•å’Œåˆ†æé”™è¯¯ã€‚åœ¨å›¾è°±ä¸­ï¼ŒDataset æœ€ä¸¥æ ¼ï¼Œä½†å¯¹äºå¼€å‘è€…æ¥è¯´æ•ˆç‡æœ€é«˜ã€‚ ","date":"2020-03-09","objectID":"https://mayuanucas.github.io/spark/:6:4","tags":["Spark","scala"],"title":"Sparkç®€æ˜ä»‹ç»","uri":"https://mayuanucas.github.io/spark/"},{"categories":["æœºå™¨å­¦ä¹ "],"content":"DataFrame \u0026 DataSet \u0026 RDDs æ€»ç»“ è¿™é‡Œå¯¹ä¸‰è€…åšä¸€ä¸‹ç®€å•çš„æ€»ç»“ï¼š RDDs é€‚åˆéç»“æ„åŒ–æ•°æ®çš„å¤„ç†ï¼Œè€Œ DataFrame \u0026 DataSet æ›´é€‚åˆç»“æ„åŒ–æ•°æ®å’ŒåŠç»“æ„åŒ–çš„å¤„ç†ï¼› DataFrame \u0026 DataSet å¯ä»¥é€šè¿‡ç»Ÿä¸€çš„ Structured API è¿›è¡Œè®¿é—®ï¼Œè€Œ RDDs åˆ™æ›´é€‚åˆå‡½æ•°å¼ç¼–ç¨‹çš„åœºæ™¯ï¼› ç›¸æ¯”äº DataFrame è€Œè¨€ï¼ŒDataSet æ˜¯å¼ºç±»å‹çš„ (Typed)ï¼Œæœ‰ç€æ›´ä¸ºä¸¥æ ¼çš„é™æ€ç±»å‹æ£€æŸ¥ï¼› DataSetsã€DataFramesã€SQL çš„åº•å±‚éƒ½ä¾èµ–äº† RDDs APIï¼Œå¹¶å¯¹å¤–æä¾›ç»“æ„åŒ–çš„è®¿é—®æ¥å£ã€‚ ","date":"2020-03-09","objectID":"https://mayuanucas.github.io/spark/:6:5","tags":["Spark","scala"],"title":"Sparkç®€æ˜ä»‹ç»","uri":"https://mayuanucas.github.io/spark/"},{"categories":["æœºå™¨å­¦ä¹ "],"content":"Spark SQLçš„è¿è¡ŒåŸç† DataFrameã€DataSet å’Œ Spark SQL çš„å®é™…æ‰§è¡Œæµç¨‹éƒ½æ˜¯ç›¸åŒçš„ï¼š è¿›è¡Œ DataFrame/Dataset/SQL ç¼–ç¨‹ï¼› å¦‚æœæ˜¯æœ‰æ•ˆçš„ä»£ç ï¼Œå³ä»£ç æ²¡æœ‰ç¼–è¯‘é”™è¯¯ï¼ŒSpark ä¼šå°†å…¶è½¬æ¢ä¸ºä¸€ä¸ªé€»è¾‘è®¡åˆ’ï¼› Spark å°†æ­¤é€»è¾‘è®¡åˆ’è½¬æ¢ä¸ºç‰©ç†è®¡åˆ’ï¼ŒåŒæ—¶è¿›è¡Œä»£ç ä¼˜åŒ–ï¼› Spark ç„¶ååœ¨é›†ç¾¤ä¸Šæ‰§è¡Œè¿™ä¸ªç‰©ç†è®¡åˆ’ (åŸºäº RDD æ“ä½œ) ã€‚ é€»è¾‘è®¡åˆ’(Logical Plan) æ‰§è¡Œçš„ç¬¬ä¸€ä¸ªé˜¶æ®µæ˜¯å°†ç”¨æˆ·ä»£ç è½¬æ¢æˆä¸€ä¸ªé€»è¾‘è®¡åˆ’ã€‚å®ƒé¦–å…ˆå°†ç”¨æˆ·ä»£ç è½¬æ¢æˆ unresolved logical plan(æœªè§£å†³çš„é€»è¾‘è®¡åˆ’)ï¼Œä¹‹æ‰€ä»¥è¿™ä¸ªè®¡åˆ’æ˜¯æœªè§£å†³çš„ï¼Œæ˜¯å› ä¸ºå°½ç®¡æ‚¨çš„ä»£ç åœ¨è¯­æ³•ä¸Šæ˜¯æ­£ç¡®çš„ï¼Œä½†æ˜¯å®ƒå¼•ç”¨çš„è¡¨æˆ–åˆ—å¯èƒ½ä¸å­˜åœ¨ã€‚ Spark ä½¿ç”¨ analyzer(åˆ†æå™¨) åŸºäº catalog(å­˜å‚¨çš„æ‰€æœ‰è¡¨å’Œ DataFrames çš„ä¿¡æ¯) è¿›è¡Œè§£æã€‚è§£æå¤±è´¥åˆ™æ‹’ç»æ‰§è¡Œï¼Œè§£ææˆåŠŸåˆ™å°†ç»“æœä¼ ç»™ Catalyst ä¼˜åŒ–å™¨ (Catalyst Optimizer)ï¼Œä¼˜åŒ–å™¨æ˜¯ä¸€ç»„è§„åˆ™çš„é›†åˆï¼Œç”¨äºä¼˜åŒ–é€»è¾‘è®¡åˆ’ï¼Œé€šè¿‡è°“è¯ä¸‹æ¨ç­‰æ–¹å¼è¿›è¡Œä¼˜åŒ–ï¼Œæœ€ç»ˆè¾“å‡ºä¼˜åŒ–åçš„é€»è¾‘æ‰§è¡Œè®¡åˆ’ã€‚ ç‰©ç†è®¡åˆ’(Physical Plan) å¾—åˆ°ä¼˜åŒ–åçš„é€»è¾‘è®¡åˆ’åï¼ŒSpark å°±å¼€å§‹äº†ç‰©ç†è®¡åˆ’è¿‡ç¨‹ã€‚ å®ƒé€šè¿‡ç”Ÿæˆä¸åŒçš„ç‰©ç†æ‰§è¡Œç­–ç•¥ï¼Œå¹¶é€šè¿‡æˆæœ¬æ¨¡å‹æ¥æ¯”è¾ƒå®ƒä»¬ï¼Œä»è€Œé€‰æ‹©ä¸€ä¸ªæœ€ä¼˜çš„ç‰©ç†è®¡åˆ’åœ¨é›†ç¾¤ä¸Šé¢æ‰§è¡Œçš„ã€‚ç‰©ç†è§„åˆ’çš„è¾“å‡ºç»“æœæ˜¯ä¸€ç³»åˆ—çš„ RDDs å’Œè½¬æ¢å…³ç³» (transformations)ã€‚ æ‰§è¡Œ åœ¨é€‰æ‹©ä¸€ä¸ªç‰©ç†è®¡åˆ’åï¼ŒSpark è¿è¡Œå…¶ RDDs ä»£ç ï¼Œå¹¶åœ¨è¿è¡Œæ—¶æ‰§è¡Œè¿›ä¸€æ­¥çš„ä¼˜åŒ–ï¼Œç”Ÿæˆæœ¬åœ° Java å­—èŠ‚ç ï¼Œæœ€åå°†è¿è¡Œç»“æœè¿”å›ç»™ç”¨æˆ·ã€‚ ","date":"2020-03-09","objectID":"https://mayuanucas.github.io/spark/:6:6","tags":["Spark","scala"],"title":"Sparkç®€æ˜ä»‹ç»","uri":"https://mayuanucas.github.io/spark/"},{"categories":["æœºå™¨å­¦ä¹ "],"content":"Structured APIåŸºæœ¬ä½¿ç”¨ åˆ›å»ºDataFrameå’ŒDataset åˆ›å»ºDataFrame Spark ä¸­æ‰€æœ‰åŠŸèƒ½çš„å…¥å£ç‚¹æ˜¯ SparkSessionï¼Œå¯ä»¥ä½¿ç”¨ SparkSession.builder() åˆ›å»ºã€‚åˆ›å»ºååº”ç”¨ç¨‹åºå°±å¯ä»¥ä»ç°æœ‰ RDDï¼ŒHive è¡¨æˆ– Spark æ•°æ®æºåˆ›å»º DataFrameã€‚ç¤ºä¾‹å¦‚ä¸‹ï¼š val spark = SparkSession.builder().appName(\"Spark-SQL\").master(\"local[2]\").getOrCreate() val df = spark.read.json(\"/usr/file/json/emp.json\") df.show() // å»ºè®®åœ¨è¿›è¡Œ spark SQL ç¼–ç¨‹å‰å¯¼å…¥ä¸‹é¢çš„éšå¼è½¬æ¢ï¼Œå› ä¸º DataFrames å’Œ dataSets ä¸­å¾ˆå¤šæ“ä½œéƒ½ä¾èµ–äº†éšå¼è½¬æ¢ import spark.implicits._ å¯ä»¥ä½¿ç”¨ spark-shell è¿›è¡Œæµ‹è¯•ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ spark-shell å¯åŠ¨åä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªåä¸º spark çš„ SparkSessionï¼Œåœ¨å‘½ä»¤è¡Œä¸­å¯ä»¥ç›´æ¥å¼•ç”¨å³å¯ï¼š åˆ›å»ºDataset Spark æ”¯æŒç”±å†…éƒ¨æ•°æ®é›†å’Œå¤–éƒ¨æ•°æ®é›†æ¥åˆ›å»º DataSetï¼Œå…¶åˆ›å»ºæ–¹å¼åˆ†åˆ«å¦‚ä¸‹ï¼š ç”±å¤–éƒ¨æ•°æ®é›†åˆ›å»º // 1.éœ€è¦å¯¼å…¥éšå¼è½¬æ¢ import spark.implicits._ // 2.åˆ›å»º case class,ç­‰ä»·äº Java Bean case class Emp(ename: String, comm: Double, deptno: Long, empno: Long, hiredate: String, job: String, mgr: Long, sal: Double) // 3.ç”±å¤–éƒ¨æ•°æ®é›†åˆ›å»º Datasets val ds = spark.read.json(\"/usr/file/emp.json\").as[Emp] ds.show() ç”±å†…éƒ¨æ•°æ®é›†åˆ›å»º // 1.éœ€è¦å¯¼å…¥éšå¼è½¬æ¢ import spark.implicits._ // 2.åˆ›å»º case class,ç­‰ä»·äº Java Bean case class Emp(ename: String, comm: Double, deptno: Long, empno: Long, hiredate: String, job: String, mgr: Long, sal: Double) // 3.ç”±å†…éƒ¨æ•°æ®é›†åˆ›å»º Datasets val caseClassDS = Seq(Emp(\"ALLEN\", 300.0, 30, 7499, \"1981-02-20 00:00:00\", \"SALESMAN\", 7698, 1600.0), Emp(\"JONES\", 300.0, 30, 7499, \"1981-02-20 00:00:00\", \"SALESMAN\", 7698, 1600.0)) .toDS() caseClassDS.show() ç”±RDDåˆ›å»ºDataFrame Spark æ”¯æŒä¸¤ç§æ–¹å¼æŠŠ RDD è½¬æ¢ä¸º DataFrameï¼Œåˆ†åˆ«æ˜¯ä½¿ç”¨åå°„æ¨æ–­å’ŒæŒ‡å®š Schema è½¬æ¢ï¼š ä½¿ç”¨åå°„æ¨æ–­ // 1.å¯¼å…¥éšå¼è½¬æ¢ import spark.implicits._ // 2.åˆ›å»ºéƒ¨é—¨ç±» case class Dept(deptno: Long, dname: String, loc: String) // 3.åˆ›å»º RDD å¹¶è½¬æ¢ä¸º dataSet val rddToDS = spark.sparkContext .textFile(\"/usr/file/dept.txt\") .map(_.split(\"\\t\")) .map(line =\u003e Dept(line(0).trim.toLong, line(1), line(2))) .toDS() // å¦‚æœè°ƒç”¨ toDF() åˆ™è½¬æ¢ä¸º dataFrame ä»¥ç¼–ç¨‹æ–¹å¼æŒ‡å®šSchema import org.apache.spark.sql.Row import org.apache.spark.sql.types._ // 1.å®šä¹‰æ¯ä¸ªåˆ—çš„åˆ—ç±»å‹ val fields = Array(StructField(\"deptno\", LongType, nullable = true), StructField(\"dname\", StringType, nullable = true), StructField(\"loc\", StringType, nullable = true)) // 2.åˆ›å»º schema val schema = StructType(fields) // 3.åˆ›å»º RDD val deptRDD = spark.sparkContext.textFile(\"/usr/file/dept.txt\") val rowRDD = deptRDD.map(_.split(\"\\t\")).map(line =\u003e Row(line(0).toLong, line(1), line(2))) // 4.å°† RDD è½¬æ¢ä¸º dataFrame val deptDF = spark.createDataFrame(rowRDD, schema) deptDF.show() DataFramesä¸Datasetsäº’ç›¸è½¬æ¢ Spark æä¾›äº†éå¸¸ç®€å•çš„è½¬æ¢æ–¹æ³•ç”¨äº DataFrame ä¸ Dataset é—´çš„äº’ç›¸è½¬æ¢ï¼Œç¤ºä¾‹å¦‚ä¸‹ï¼š # DataFramesè½¬Datasets scala\u003e df.as[Emp] res1: org.apache.spark.sql.Dataset[Emp] = [COMM: double, DEPTNO: bigint ... 6 more fields] # Datasetsè½¬DataFrames scala\u003e ds.toDF() res2: org.apache.spark.sql.DataFrame = [COMM: double, DEPTNO: bigint ... 6 more fields] ","date":"2020-03-09","objectID":"https://mayuanucas.github.io/spark/:6:7","tags":["Spark","scala"],"title":"Sparkç®€æ˜ä»‹ç»","uri":"https://mayuanucas.github.io/spark/"},{"categories":["æœºå™¨å­¦ä¹ "],"content":"Columnsåˆ—æ“ä½œ ","date":"2020-03-09","objectID":"https://mayuanucas.github.io/spark/:7:0","tags":["Spark","scala"],"title":"Sparkç®€æ˜ä»‹ç»","uri":"https://mayuanucas.github.io/spark/"},{"categories":["æœºå™¨å­¦ä¹ "],"content":"å¼•ç”¨åˆ— Spark æ”¯æŒå¤šç§æ–¹æ³•æ¥æ„é€ å’Œå¼•ç”¨åˆ—ï¼Œæœ€ç®€å•çš„æ˜¯ä½¿ç”¨ col() æˆ– column() å‡½æ•°ã€‚ col(\"colName\") column(\"colName\") // å¯¹äº Scala è¯­è¨€è€Œè¨€ï¼Œè¿˜å¯ä»¥ä½¿ç”¨$\"myColumn\"å’Œ'myColumn è¿™ä¸¤ç§è¯­æ³•ç³–è¿›è¡Œå¼•ç”¨ã€‚ df.select($\"ename\", $\"job\").show() df.select('ename, 'job).show() ","date":"2020-03-09","objectID":"https://mayuanucas.github.io/spark/:7:1","tags":["Spark","scala"],"title":"Sparkç®€æ˜ä»‹ç»","uri":"https://mayuanucas.github.io/spark/"},{"categories":["æœºå™¨å­¦ä¹ "],"content":"æ–°å¢åˆ— // åŸºäºå·²æœ‰åˆ—å€¼æ–°å¢åˆ— df.withColumn(\"upSal\",$\"sal\"+1000) // åŸºäºå›ºå®šå€¼æ–°å¢åˆ— df.withColumn(\"intCol\",lit(1000)) ","date":"2020-03-09","objectID":"https://mayuanucas.github.io/spark/:7:2","tags":["Spark","scala"],"title":"Sparkç®€æ˜ä»‹ç»","uri":"https://mayuanucas.github.io/spark/"},{"categories":["æœºå™¨å­¦ä¹ "],"content":"åˆ é™¤åˆ— // æ”¯æŒåˆ é™¤å¤šä¸ªåˆ— df.drop(\"comm\",\"job\").show() ","date":"2020-03-09","objectID":"https://mayuanucas.github.io/spark/:7:3","tags":["Spark","scala"],"title":"Sparkç®€æ˜ä»‹ç»","uri":"https://mayuanucas.github.io/spark/"},{"categories":["æœºå™¨å­¦ä¹ "],"content":"é‡å‘½ååˆ— df.withColumnRenamed(\"comm\", \"common\").show() éœ€è¦è¯´æ˜çš„æ˜¯æ–°å¢ï¼Œåˆ é™¤ï¼Œé‡å‘½ååˆ—éƒ½ä¼šäº§ç”Ÿæ–°çš„ DataFrameï¼ŒåŸæ¥çš„ DataFrame ä¸ä¼šè¢«æ”¹å˜ã€‚ ","date":"2020-03-09","objectID":"https://mayuanucas.github.io/spark/:7:4","tags":["Spark","scala"],"title":"Sparkç®€æ˜ä»‹ç»","uri":"https://mayuanucas.github.io/spark/"},{"categories":["æœºå™¨å­¦ä¹ "],"content":"ä½¿ç”¨Structured APIè¿›è¡ŒåŸºæœ¬æŸ¥è¯¢ // 1.æŸ¥è¯¢å‘˜å·¥å§“ååŠå·¥ä½œ df.select($\"ename\", $\"job\").show() // 2.filter æŸ¥è¯¢å·¥èµ„å¤§äº 2000 çš„å‘˜å·¥ä¿¡æ¯ df.filter($\"sal\" \u003e 2000).show() // 3.orderBy æŒ‰ç…§éƒ¨é—¨ç¼–å·é™åºï¼Œå·¥èµ„å‡åºè¿›è¡ŒæŸ¥è¯¢ df.orderBy(desc(\"deptno\"), asc(\"sal\")).show() // 4.limit æŸ¥è¯¢å·¥èµ„æœ€é«˜çš„ 3 åå‘˜å·¥çš„ä¿¡æ¯ df.orderBy(desc(\"sal\")).limit(3).show() // 5.distinct æŸ¥è¯¢æ‰€æœ‰éƒ¨é—¨ç¼–å· df.select(\"deptno\").distinct().show() // 6.groupBy åˆ†ç»„ç»Ÿè®¡éƒ¨é—¨äººæ•° df.groupBy(\"deptno\").count().show() ","date":"2020-03-09","objectID":"https://mayuanucas.github.io/spark/:8:0","tags":["Spark","scala"],"title":"Sparkç®€æ˜ä»‹ç»","uri":"https://mayuanucas.github.io/spark/"},{"categories":["æœºå™¨å­¦ä¹ "],"content":"ä½¿ç”¨Spark SQLè¿›è¡ŒåŸºæœ¬æŸ¥è¯¢ ","date":"2020-03-09","objectID":"https://mayuanucas.github.io/spark/:9:0","tags":["Spark","scala"],"title":"Sparkç®€æ˜ä»‹ç»","uri":"https://mayuanucas.github.io/spark/"},{"categories":["æœºå™¨å­¦ä¹ "],"content":"Spark SQLåŸºæœ¬ä½¿ç”¨ // 1.é¦–å…ˆéœ€è¦å°† DataFrame æ³¨å†Œä¸ºä¸´æ—¶è§†å›¾ df.createOrReplaceTempView(\"emp\") // 2.æŸ¥è¯¢å‘˜å·¥å§“ååŠå·¥ä½œ spark.sql(\"SELECT ename,job FROM emp\").show() // 3.æŸ¥è¯¢å·¥èµ„å¤§äº 2000 çš„å‘˜å·¥ä¿¡æ¯ spark.sql(\"SELECT * FROM emp where sal \u003e 2000\").show() // 4.orderBy æŒ‰ç…§éƒ¨é—¨ç¼–å·é™åºï¼Œå·¥èµ„å‡åºè¿›è¡ŒæŸ¥è¯¢ spark.sql(\"SELECT * FROM emp ORDER BY deptno DESC,sal ASC\").show() // 5.limit æŸ¥è¯¢å·¥èµ„æœ€é«˜çš„ 3 åå‘˜å·¥çš„ä¿¡æ¯ spark.sql(\"SELECT * FROM emp ORDER BY sal DESC LIMIT 3\").show() // 6.distinct æŸ¥è¯¢æ‰€æœ‰éƒ¨é—¨ç¼–å· spark.sql(\"SELECT DISTINCT(deptno) FROM emp\").show() // 7.åˆ†ç»„ç»Ÿè®¡éƒ¨é—¨äººæ•° spark.sql(\"SELECT deptno,count(ename) FROM emp group by deptno\").show() ","date":"2020-03-09","objectID":"https://mayuanucas.github.io/spark/:9:1","tags":["Spark","scala"],"title":"Sparkç®€æ˜ä»‹ç»","uri":"https://mayuanucas.github.io/spark/"},{"categories":["æœºå™¨å­¦ä¹ "],"content":"å…¨å±€ä¸´æ—¶è§†å›¾ ä¸Šé¢ä½¿ç”¨ createOrReplaceTempView åˆ›å»ºçš„æ˜¯ä¼šè¯ä¸´æ—¶è§†å›¾ï¼Œå®ƒçš„ç”Ÿå‘½å‘¨æœŸä»…é™äºä¼šè¯èŒƒå›´ï¼Œä¼šéšä¼šè¯çš„ç»“æŸè€Œç»“æŸã€‚ ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ createGlobalTempView åˆ›å»ºå…¨å±€ä¸´æ—¶è§†å›¾ï¼Œå…¨å±€ä¸´æ—¶è§†å›¾å¯ä»¥åœ¨æ‰€æœ‰ä¼šè¯ä¹‹é—´å…±äº«ï¼Œå¹¶ç›´åˆ°æ•´ä¸ª Spark åº”ç”¨ç¨‹åºç»ˆæ­¢åæ‰ä¼šæ¶ˆå¤±ã€‚å…¨å±€ä¸´æ—¶è§†å›¾è¢«å®šä¹‰åœ¨å†…ç½®çš„ global_temp æ•°æ®åº“ä¸‹ï¼Œéœ€è¦ä½¿ç”¨é™å®šåç§°è¿›è¡Œå¼•ç”¨ï¼Œå¦‚ SELECT * FROM global_temp.view1ã€‚ // æ³¨å†Œä¸ºå…¨å±€ä¸´æ—¶è§†å›¾ df.createGlobalTempView(\"gemp\") // ä½¿ç”¨é™å®šåç§°è¿›è¡Œå¼•ç”¨ spark.sql(\"SELECT ename,job FROM global_temp.gemp\").show() å‚è€ƒæ–‡çŒ® https://spark.apache.org/docs/latest/index.html https://spark.apache.org/docs/latest/sql-programming-guide.html ","date":"2020-03-09","objectID":"https://mayuanucas.github.io/spark/:9:2","tags":["Spark","scala"],"title":"Sparkç®€æ˜ä»‹ç»","uri":"https://mayuanucas.github.io/spark/"},{"categories":["æœºå™¨å­¦ä¹ "],"content":"XGBoostæ˜¯é™ˆå¤©å¥‡äº2014å¹´æå‡ºçš„ä¸€å¥—å¹¶è¡Œboostç®—æ³•çš„å·¥å…·åº“, LightGBMæ˜¯å¾®è½¯æ¨å‡ºçš„boostingæ¡†æ¶, CatBoostæ˜¯Yandexæ¨å‡ºçš„Boostå·¥å…·åŒ…. æœ¬æ–‡å°†å¯¹è¿™äº›ç®—æ³•è¿›è¡Œä»‹ç»,å¹¶åœ¨æ•°æ®é›†ä¸Šå¯¹ç®—æ³•è¿›è¡Œæµ‹è¯•. XGBoost ","date":"2020-02-10","objectID":"https://mayuanucas.github.io/xgboost-lightgbm/:0:0","tags":["æœºå™¨å­¦ä¹ ","æ•°æ®æŒ–æ˜","sklearn"],"title":"XGBoostã€LightGBMã€CatBoost","uri":"https://mayuanucas.github.io/xgboost-lightgbm/"},{"categories":["æœºå™¨å­¦ä¹ "],"content":"ç®€ä»‹ XGBoostçš„å…¨ç§°æ˜¯eXtreme Gradient Boostingï¼Œæ—¢å¯ä»¥ç”¨äºåˆ†ç±»ä¹Ÿå¯ä»¥ç”¨äºå›å½’é—®é¢˜ä¸­, å®ƒæ˜¯ç»è¿‡ä¼˜åŒ–çš„åˆ†å¸ƒå¼æ¢¯åº¦æå‡åº“ï¼Œæ—¨åœ¨é«˜æ•ˆã€çµæ´»ä¸”å¯ç§»æ¤ã€‚XGBoostæ˜¯å¤§è§„æ¨¡å¹¶è¡Œboosting treeçš„å·¥å…·ï¼Œå®ƒæ˜¯ç›®å‰æœ€å¿«æœ€å¥½çš„å¼€æº boosting treeå·¥å…·åŒ…ï¼Œæ¯”å¸¸è§çš„å·¥å…·åŒ…å¿«10å€ä»¥ä¸Šã€‚åœ¨æ•°æ®ç§‘å­¦æ–¹é¢ï¼Œæœ‰å¤§é‡çš„Kaggleé€‰æ‰‹é€‰ç”¨XGBoostè¿›è¡Œæ•°æ®æŒ–æ˜æ¯”èµ›ï¼Œæ˜¯å„å¤§æ•°æ®ç§‘å­¦æ¯”èµ›çš„å¿…æ€æ­¦å™¨ï¼›åœ¨å·¥ä¸šç•Œå¤§è§„æ¨¡æ•°æ®æ–¹é¢ï¼ŒXGBoostçš„åˆ†å¸ƒå¼ç‰ˆæœ¬æœ‰å¹¿æ³›çš„å¯ç§»æ¤æ€§ï¼Œæ”¯æŒåœ¨Kubernetesã€Hadoopã€SGEã€MPIã€ Daskç­‰å„ä¸ªåˆ†å¸ƒå¼ç¯å¢ƒä¸Šè¿è¡Œï¼Œä½¿å¾—å®ƒå¯ä»¥å¾ˆå¥½åœ°è§£å†³å·¥ä¸šç•Œå¤§è§„æ¨¡æ•°æ®çš„é—®é¢˜ã€‚ ","date":"2020-02-10","objectID":"https://mayuanucas.github.io/xgboost-lightgbm/:1:0","tags":["æœºå™¨å­¦ä¹ ","æ•°æ®æŒ–æ˜","sklearn"],"title":"XGBoostã€LightGBMã€CatBoost","uri":"https://mayuanucas.github.io/xgboost-lightgbm/"},{"categories":["æœºå™¨å­¦ä¹ "],"content":"ä»€ä¹ˆæ˜¯ Gradient Boosting Gradient boosting æ˜¯ boosting çš„å…¶ä¸­ä¸€ç§æ–¹æ³•. æ‰€è°“ Boosting, å°±æ˜¯å°†å¼±åˆ†ç¦»å™¨ $f_i(X)$ ç»„åˆèµ·æ¥å½¢æˆå¼ºåˆ†ç±»å™¨ F(X) çš„ä¸€ç§æ–¹æ³•ã€‚ æ‰€ä»¥ Boosting æœ‰ä¸‰ä¸ªè¦ç´ : A loss function to be optimized: ä¾‹å¦‚åˆ†ç±»é—®é¢˜ä¸­ç”¨ cross entropyï¼Œå›å½’é—®é¢˜ç”¨ mean squared error A weak learner to make predictions: ä¾‹å¦‚å†³ç­–æ ‘ An additive model: å°†å¤šä¸ªå¼±å­¦ä¹ å™¨ç´¯åŠ èµ·æ¥ç»„æˆå¼ºå­¦ä¹ å™¨ï¼Œè¿›è€Œä½¿ç›®æ ‡æŸå¤±å‡½æ•°è¾¾åˆ°æå° Gradient boosting å°±æ˜¯é€šè¿‡åŠ å…¥æ–°çš„å¼±å­¦ä¹ å™¨ï¼Œæ¥åŠªåŠ›çº æ­£å‰é¢æ‰€æœ‰å¼±å­¦ä¹ å™¨çš„æ®‹å·®ï¼Œæœ€ç»ˆè¿™æ ·å¤šä¸ªå­¦ä¹ å™¨ç›¸åŠ åœ¨ä¸€èµ·ç”¨æ¥è¿›è¡Œæœ€ç»ˆé¢„æµ‹ï¼Œå‡†ç¡®ç‡å°±ä¼šæ¯”å•ç‹¬çš„ä¸€ä¸ªè¦é«˜ã€‚ä¹‹æ‰€ä»¥ç§°ä¸º Gradientï¼Œæ˜¯å› ä¸ºåœ¨æ·»åŠ æ–°æ¨¡å‹æ—¶ä½¿ç”¨äº†æ¢¯åº¦ä¸‹é™ç®—æ³•æ¥æœ€å°åŒ–çš„æŸå¤±ã€‚ å¦ä¸€ç§ Gradient Boosting çš„å®ç°å°±æ˜¯ AdaBoostï¼ˆAdaptive Boostingï¼‰ã€‚ AdaBoost å°±æ˜¯å°†å¤šä¸ªå¼±åˆ†ç±»å™¨ï¼Œé€šè¿‡æŠ•ç¥¨çš„æ‰‹æ®µæ¥æ”¹å˜å„ä¸ªåˆ†ç±»å™¨çš„æƒå€¼ï¼Œä½¿åˆ†é”™çš„åˆ†ç±»å™¨è·å¾—è¾ƒå¤§æƒå€¼ã€‚åŒæ—¶åœ¨æ¯ä¸€æ¬¡å¾ªç¯ä¸­ä¹Ÿæ”¹å˜æ ·æœ¬çš„åˆ†å¸ƒï¼Œè¿™æ ·è¢«é”™è¯¯åˆ†ç±»çš„æ ·æœ¬ä¹Ÿä¼šå—åˆ°æ›´å¤šçš„å…³æ³¨ã€‚ ","date":"2020-02-10","objectID":"https://mayuanucas.github.io/xgboost-lightgbm/:2:0","tags":["æœºå™¨å­¦ä¹ ","æ•°æ®æŒ–æ˜","sklearn"],"title":"XGBoostã€LightGBMã€CatBoost","uri":"https://mayuanucas.github.io/xgboost-lightgbm/"},{"categories":["æœºå™¨å­¦ä¹ "],"content":"ä¸ºä»€ä¹ˆä½¿ç”¨ XGBoost XGBoost æ˜¯å¯¹ gradient boosting decision tree çš„å®ç°ï¼Œä½†æ˜¯ä¸€èˆ¬æ¥è¯´ï¼Œgradient boosting çš„å®ç°æ˜¯æ¯”è¾ƒæ…¢çš„ï¼Œå› ä¸ºæ¯æ¬¡éƒ½è¦å…ˆæ„é€ å‡ºä¸€ä¸ªæ ‘å¹¶æ·»åŠ åˆ°æ•´ä¸ªæ¨¡å‹åºåˆ—ä¸­ã€‚è€Œ XGBoost çš„ç‰¹ç‚¹å°±æ˜¯è®¡ç®—é€Ÿåº¦å¿«ï¼Œæ¨¡å‹è¡¨ç°å¥½ï¼Œè¿™ä¸¤ç‚¹ä¹Ÿæ­£æ˜¯é¡¹ç›®çš„ç›®æ ‡ã€‚ è¡¨ç°å¿«æ˜¯å› ä¸ºå®ƒå…·æœ‰è¿™æ ·çš„è®¾è®¡ï¼š Parallelizationï¼šè®­ç»ƒæ—¶å¯ä»¥ç”¨æ‰€æœ‰çš„ CPU å†…æ ¸æ¥å¹¶è¡ŒåŒ–å»ºæ ‘ã€‚ Distributed Computingï¼šç”¨åˆ†å¸ƒå¼è®¡ç®—æ¥è®­ç»ƒéå¸¸å¤§çš„æ¨¡å‹ã€‚ Out-of-Core Computingï¼šå¯¹äºéå¸¸å¤§çš„æ•°æ®é›†è¿˜å¯ä»¥è¿›è¡Œ Out-of-Core Computingã€‚ Cache Optimization of data structures and algorithmsï¼šæ›´å¥½åœ°åˆ©ç”¨ç¡¬ä»¶èµ„æºã€‚ ","date":"2020-02-10","objectID":"https://mayuanucas.github.io/xgboost-lightgbm/:3:0","tags":["æœºå™¨å­¦ä¹ ","æ•°æ®æŒ–æ˜","sklearn"],"title":"XGBoostã€LightGBMã€CatBoost","uri":"https://mayuanucas.github.io/xgboost-lightgbm/"},{"categories":["æœºå™¨å­¦ä¹ "],"content":"åº”ç”¨ ","date":"2020-02-10","objectID":"https://mayuanucas.github.io/xgboost-lightgbm/:4:0","tags":["æœºå™¨å­¦ä¹ ","æ•°æ®æŒ–æ˜","sklearn"],"title":"XGBoostã€LightGBMã€CatBoost","uri":"https://mayuanucas.github.io/xgboost-lightgbm/"},{"categories":["æœºå™¨å­¦ä¹ "],"content":"ä½¿ç”¨æ–¹å¼ ä½¿ç”¨xgbooståº“æœ‰ä¸¤ç§æ–¹å¼ï¼š ç¬¬ä¸€ç§æ–¹å¼ï¼Œç›´æ¥ä½¿ç”¨xgbooståº“çš„å»ºæ¨¡æµç¨‹ import xgboost as xgb # ç¬¬ä¸€æ­¥ï¼Œè¯»å–æ•°æ® xgb.DMatrix() # ç¬¬äºŒæ­¥ï¼Œè®¾ç½®å‚æ•° param = {} # ç¬¬ä¸‰æ­¥ï¼Œè®­ç»ƒæ¨¡å‹ bst = xgb.train(param) # ç¬¬å››æ­¥ï¼Œé¢„æµ‹ç»“æœ bst.predict() â€‹ å…¶ä¸­æœ€æ ¸å¿ƒçš„ï¼Œæ˜¯DMtarixè¿™ä¸ªè¯»å–æ•°æ®çš„ç±»ï¼Œä»¥åŠtrain()è¿™ä¸ªç”¨äºè®­ç»ƒçš„ç±»ã€‚ä¸sklearnæŠŠæ‰€æœ‰çš„å‚æ•°éƒ½å†™åœ¨ç±»ä¸­çš„æ–¹å¼ä¸åŒï¼Œxgbooståº“ä¸­å¿…é¡»å…ˆä½¿ç”¨å­—å…¸è®¾å®šå‚æ•°é›†ï¼Œå†ä½¿ç”¨trainæ¥å°†å‚æ•°åŠè¾“å…¥ï¼Œç„¶åè¿›è¡Œè®­ç»ƒã€‚ä¼šè¿™æ ·è®¾è®¡çš„åŸ å› ï¼Œæ˜¯å› ä¸ºXGBæ‰€æ¶‰åŠåˆ°çš„å‚æ•°å®åœ¨å¤ªå¤šï¼Œå…¨éƒ¨å†™åœ¨xgb.train()ä¸­å¤ªé•¿ä¹Ÿå®¹æ˜“å‡ºé”™ã€‚ paramså¯èƒ½çš„å–å€¼ä»¥åŠxgboost.trainçš„å‚æ•°å¦‚ä¸‹ï¼š params {eta, gamma, max_depth, min_child_weight, max_delta_step, subsample, colsample_bytree, colsample_bylevel, colsample_bynode, lambda, alpha, tree_method string, sketch_eps, scale_pos_weight, updater, refresh_leaf, process_type, grow_policy, max_leaves, max_bin, predictor, num_parallel_tree} xgboost.train (params, dtrain, num_boost_round=10, evals=(), obj=None, feval=None, maximize=False, early_stopping_rounds=None, evals_result=None, verbose_eval=True, xgb_model=None, callbacks=None, learning_rates=None) ç¬¬äºŒç§æ–¹å¼ï¼Œä½¿ç”¨xgbooståº“ä¸­çš„sklearnçš„APIã€‚ â€‹ å¯ä»¥è°ƒç”¨å¦‚ä¸‹çš„ç±»ï¼Œå¹¶ç”¨ sklearnå½“ä¸­æƒ¯ä¾‹çš„å®ä¾‹åŒ–ï¼Œï¬tå’Œpredictçš„æµç¨‹æ¥è¿è¡ŒXGBï¼Œå¹¶ä¸”ä¹Ÿå¯ä»¥è°ƒç”¨å±æ€§æ¯”å¦‚coef_ç­‰ç­‰ã€‚ class xgboost.XGBRegressor (max_depth=3, learning_rate=0.1, n_estimators=100, silent=True, objective='reg:linear', booster='gbtree', n_jobs=1, nthread=None, gamma=0, min_child_weight=1, max_delta_step=0, subsample=1, colsample_bytree=1, colsample_bylevel=1, reg_alpha=0, reg_lambda=1, scale_pos_weight=1, base_score=0.5, random_state=0, seed=None, missing=None, importance_type='gain', **kwargs) è°ƒç”¨xgboost.trainå’Œè°ƒç”¨sklearnAPIä¸­çš„ç±»XGBRegressorï¼Œéœ€è¦è¾“å…¥çš„å‚æ•°æ˜¯ä¸åŒçš„ï¼Œè€Œä¸”çœ‹èµ·æ¥ç›¸å½“çš„ä¸åŒã€‚ä½† å…¶å®ï¼Œè¿™äº›å‚æ•°åªæ˜¯å†™æ³•ä¸åŒï¼ŒåŠŸèƒ½æ˜¯ç›¸åŒçš„ã€‚æ¯”å¦‚è¯´ï¼Œæˆ‘ä»¬çš„paramså­—å…¸ä¸­çš„ç¬¬ä¸€ä¸ªå‚æ•°etaï¼Œå…¶å®å°±æ˜¯æˆ‘ä»¬ XGBRegressoré‡Œé¢çš„å‚æ•°learning_rateï¼Œä»–ä»¬çš„å«ä¹‰å’Œå®ç°çš„åŠŸèƒ½æ˜¯ä¸€æ¨¡ä¸€æ ·çš„ã€‚åªä¸è¿‡åœ¨sklearnAPIä¸­ï¼Œå¼€å‘å›¢ é˜Ÿå‹å¥½åœ°å¸®åŠ©æˆ‘ä»¬å°†å‚æ•°çš„åç§°è°ƒèŠ‚æˆäº†ä¸sklearnä¸­å…¶ä»–çš„ç®—æ³•ç±»æ›´ç›¸ä¼¼çš„æ ·å­ã€‚ â€‹ XGBoostæœ¬èº«çš„æ ¸å¿ƒæ˜¯åŸºäºæ¢¯åº¦æå‡æ ‘å®ç°çš„é›†æˆç®—æ³•ï¼Œæ•´ä½“æ¥è¯´å¯ä»¥æœ‰ä¸‰ä¸ªæ ¸å¿ƒéƒ¨åˆ†ï¼šé›†æˆç®—æ³•æœ¬èº«ï¼Œç”¨äºé›†æˆçš„å¼±è¯„ä¼°å™¨ï¼Œä»¥åŠåº”ç”¨ä¸­çš„å…¶ä»–è¿‡ç¨‹ã€‚ä¸‰ä¸ªéƒ¨åˆ†ä¸­ï¼Œå‰ä¸¤ä¸ªéƒ¨åˆ†åŒ…å«äº†XGBoostçš„æ ¸å¿ƒåŸç†ä»¥åŠæ•°å­¦è¿‡ç¨‹ï¼Œæœ€åçš„éƒ¨åˆ†ä¸»è¦æ˜¯åœ¨XGBooståº”ç”¨ä¸­å æœ‰ä¸€å¸­ä¹‹åœ°ã€‚ ","date":"2020-02-10","objectID":"https://mayuanucas.github.io/xgboost-lightgbm/:4:1","tags":["æœºå™¨å­¦ä¹ ","æ•°æ®æŒ–æ˜","sklearn"],"title":"XGBoostã€LightGBMã€CatBoost","uri":"https://mayuanucas.github.io/xgboost-lightgbm/"},{"categories":["æœºå™¨å­¦ä¹ "],"content":"å‚æ•°ä»‹ç» å‚æ•° é›†æˆç®—æ³• å¼±è¯„ä¼°å™¨ å…¶ä»–è¿‡ç¨‹ n_estimators âˆš learning_rate âˆš silent âˆš subsample âˆš max_depth âˆš objective âˆš booster âˆš gamma âˆš min_child_weight âˆš max_delta_step âˆš colsample_bytree âˆš colsample_bylevel âˆš reg_alpha âˆš reg_lambda âˆš nthread âˆš n_jobs âˆš scale_pos_weight âˆš base_score âˆš seed âˆš andom_state âˆš missing âˆš importance_type âˆš é€‰æ‹©å¼±è¯„ä¼°å™¨ï¼šé‡è¦å‚æ•° booster æ¢¯åº¦æå‡ç®—æ³•ä¸­ä¸åªæœ‰æ¢¯åº¦æå‡æ ‘ï¼ŒXGBä½œä¸ºæ¢¯åº¦æå‡ç®—æ³•çš„è¿›åŒ–ï¼Œè‡ªç„¶ä¹Ÿä¸åªæœ‰æ ‘æ¨¡å‹ä¸€ç§å¼±è¯„ä¼°å™¨ã€‚åœ¨XGBä¸­ï¼Œ é™¤äº†æ ‘æ¨¡å‹ï¼Œè¿˜å¯ä»¥é€‰ç”¨çº¿æ€§æ¨¡å‹ï¼Œæ¯”å¦‚çº¿æ€§å›å½’ï¼Œæ¥è¿›è¡Œé›†æˆã€‚è™½ç„¶ä¸»æµçš„XGBä¾ç„¶æ˜¯æ ‘æ¨¡å‹ï¼Œä½†ä¹Ÿå¯ä»¥ ä½¿ç”¨å…¶ä»–çš„æ¨¡å‹ã€‚åŸºäºXGBçš„è¿™ç§æ€§è´¨ï¼Œæœ‰å‚æ•°â€œbooster\"æ¥æ§åˆ¶ä½¿ç”¨æ€æ ·çš„å¼±è¯„ä¼°å™¨ã€‚ xgb.train() \u0026 params xgb.XGBRegressor() xgb_model booster ä½¿ç”¨å“ªç§å¼±è¯„ä¼°å™¨ã€‚å¯ä»¥è¾“å…¥gbtreeï¼Œ gblinearæˆ–dartã€‚è¾“å…¥çš„è¯„ä¼°å™¨ä¸åŒï¼Œä½¿ç”¨ çš„paramså‚æ•°ä¹Ÿä¸åŒï¼Œæ¯ç§è¯„ä¼°å™¨éƒ½æœ‰è‡ª å·±çš„paramsåˆ—è¡¨ã€‚è¯„ä¼°å™¨å¿…é¡»äºparamå‚ æ•°ç›¸åŒ¹é…ï¼Œå¦åˆ™æŠ¥é”™ã€‚ ä½¿ç”¨å“ªç§å¼±è¯„ä¼°å™¨ã€‚å¯ä»¥è¾“å…¥gbtreeï¼Œgblinearæˆ–dartã€‚ gbtreeä»£è¡¨æ¢¯åº¦æå‡æ ‘ï¼Œdartæ˜¯Dropouts meet Multiple Additive Regression Treesï¼Œå¯è¯‘ä¸ºæŠ›å¼ƒæå‡æ ‘ï¼Œåœ¨å»ºæ ‘çš„è¿‡ç¨‹ä¸­ä¼šæŠ›å¼ƒä¸€éƒ¨åˆ†æ ‘ï¼Œæ¯”æ¢¯åº¦æå‡æ ‘æœ‰æ›´å¥½çš„é˜²è¿‡æ‹ŸåˆåŠŸèƒ½ï¼Œè¾“å…¥gblinearä½¿ç”¨çº¿æ€§æ¨¡å‹ã€‚ ä¸¤ä¸ªå‚æ•°éƒ½é»˜è®¤ä¸º\"gbtree\"ï¼Œå¦‚æœä¸æƒ³ä½¿ç”¨æ ‘æ¨¡å‹ï¼Œåˆ™å¯ä»¥è‡ªè¡Œè°ƒæ•´ã€‚å½“XGBä½¿ç”¨çº¿æ€§æ¨¡å‹çš„æ—¶å€™ï¼Œå®ƒçš„è®¸å¤šæ•°å­¦è¿‡ç¨‹å°±ä¸ä½¿ç”¨æ™®é€šçš„Boostingé›†æˆéå¸¸ç›¸ä¼¼ã€‚ XGBçš„ç›®æ ‡å‡½æ•°ï¼šé‡è¦å‚æ•°objective æ¢¯åº¦æå‡ç®—æ³•ä¸­éƒ½å­˜åœ¨ç€æŸå¤±å‡½æ•°ã€‚ä¸åŒäºé€»è¾‘å›å½’å’ŒSVMç­‰ç®—æ³•ä¸­å›ºå®šçš„æŸå¤±å‡½æ•°å†™æ³•ï¼Œé›†æˆç®—æ³•ä¸­çš„æŸå¤±å‡½æ•°æ˜¯å¯é€‰çš„ï¼Œè¦é€‰ç”¨ä»€ä¹ˆæŸå¤±å‡½æ•°å–å†³äºæˆ‘ä»¬å¸Œæœ›è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Œä»¥åŠå¸Œæœ›ä½¿ç”¨æ€æ ·çš„æ¨¡å‹ã€‚æ¯”å¦‚è¯´ï¼Œå¦‚æœæˆ‘ä»¬çš„ç›®æ ‡æ˜¯è¿›è¡Œå›å½’é¢„æµ‹ï¼Œé‚£æˆ‘ä»¬å¯ä»¥é€‰æ‹©è°ƒèŠ‚åçš„å‡æ–¹è¯¯å·®RMSEä½œä¸ºæˆ‘ä»¬çš„æŸå¤±å‡½æ•°ã€‚å¦‚æœæˆ‘ä»¬æ˜¯è¿›è¡Œåˆ†ç±»é¢„æµ‹ï¼Œé‚£æˆ‘ä»¬å¯ä»¥é€‰æ‹©é”™è¯¯ç‡erroræˆ–è€…å¯¹æ•°æŸå¤±log_lossã€‚åªè¦æˆ‘ä»¬é€‰å‡ºçš„å‡½æ•°æ˜¯ä¸€ä¸ªå¯å¾®çš„ï¼Œèƒ½å¤Ÿä»£è¡¨æŸç§æŸå¤±çš„å‡½æ•°ï¼Œå®ƒå°±å¯ä»¥æ˜¯æˆ‘ä»¬XGBä¸­çš„æŸå¤±å‡½æ•°ã€‚ åœ¨ä¼—å¤šæœºå™¨å­¦ä¹ ç®—æ³•ä¸­ï¼ŒæŸå¤±å‡½æ•°çš„æ ¸å¿ƒæ˜¯è¡¡é‡æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›ï¼Œå³æ¨¡å‹åœ¨æœªçŸ¥æ•°æ®ä¸Šçš„é¢„æµ‹çš„å‡†ç¡®ä¸å¦ï¼Œæˆ‘ä»¬è®­ç»ƒæ¨¡å‹çš„æ ¸å¿ƒç›®æ ‡ä¹Ÿæ˜¯å¸Œæœ›æ¨¡å‹èƒ½å¤Ÿé¢„æµ‹å‡†ç¡®ã€‚åœ¨XGBä¸­ï¼Œå‡†ç¡®é¢„æµ‹è‡ªç„¶æ˜¯éå¸¸é‡è¦çš„å› ç´ ï¼Œä½†éœ€æ³¨æ„ï¼ŒXGB æ˜¯å®ç°äº†æ¨¡å‹è¡¨ç°å’Œè¿ç®—é€Ÿåº¦çš„å¹³è¡¡çš„ç®—æ³•ã€‚æ™®é€šçš„æŸå¤±å‡½æ•°ï¼Œæ¯”å¦‚é”™è¯¯ç‡ï¼Œå‡æ–¹è¯¯å·®ç­‰ï¼Œéƒ½åªèƒ½å¤Ÿè¡¡é‡æ¨¡å‹çš„è¡¨ç°ï¼Œæ— æ³•è¡¡é‡æ¨¡å‹çš„è¿ç®—é€Ÿåº¦ã€‚è®¸å¤šæ¨¡å‹ä¸­ä½¿ç”¨ç©ºé—´å¤æ‚åº¦å’Œæ—¶é—´å¤æ‚åº¦æ¥è¡¡é‡æ¨¡å‹çš„è¿ç®—æ•ˆ ç‡ã€‚XGBå› æ­¤å¼•å…¥äº†æ¨¡å‹å¤æ‚åº¦æ¥è¡¡é‡ç®—æ³•çš„è¿ç®—æ•ˆç‡ã€‚å› æ­¤XGBçš„ç›®æ ‡å‡½æ•°è¢«å†™ä½œï¼šä¼ ç»ŸæŸå¤±å‡½æ•° + æ¨¡å‹å¤æ‚åº¦ã€‚ $$ Obj = \\sum_{i=1}^ml(y_i,\\hat{y_i}) + \\sum_{k=1}^K\\Omega(f_k) $$ å…¶ä¸­$i$ä»£è¡¨æ•°æ®é›†ä¸­çš„ç¬¬ $i$ ä¸ªæ ·æœ¬ï¼Œ$m$ è¡¨ç¤ºå¯¼å…¥ç¬¬ $k$ æ£µæ ‘çš„æ•°æ®æ€»é‡ï¼Œ$K$ ä»£è¡¨å»ºç«‹çš„æ‰€æœ‰æ ‘(n_estimators)ï¼Œå½“åªå»ºç«‹äº† $t$ æ£µæ ‘çš„æ—¶å€™ï¼Œå¼å­åº”å½“ä¸º $\\sum_{k=1}^t\\Omega(f_k)$ã€‚ç¬¬ä¸€é¡¹ä»£è¡¨ä¼ ç»Ÿçš„æŸå¤±å‡½æ•°ï¼Œè¡¡é‡çœŸå®æ ‡ç­¾ $y_i$ ä¸é¢„æµ‹å€¼ $\\hat{y_i}$ ä¹‹é—´çš„å·®å¼‚ï¼Œé€šå¸¸æ˜¯RMSEè°ƒèŠ‚åçš„å‡æ–¹è¯¯å·®ã€‚ç¬¬äºŒé¡¹ä»£è¡¨æ¨¡å‹çš„å¤æ‚åº¦ï¼Œä½¿ç”¨æ ‘æ¨¡å‹çš„æŸç§å˜æ¢ $\\Omega$ è¡¨ç¤ºï¼Œè¿™ä¸ªå˜åŒ–ä»£è¡¨äº†ä¸€ä¸ªä»æ ‘çš„ç»“æ„æ¥è¡¡é‡æ ‘æ¨¡å‹çš„å¤æ‚åº¦çš„å¼å­ï¼Œå¯ä»¥æœ‰å¤šç§å®šä¹‰ã€‚æ³¨æ„ï¼Œæˆ‘ä»¬çš„ç¬¬äºŒé¡¹ä¸­æ²¡æœ‰ç‰¹å¾çŸ©é˜µ $x_i$ çš„ä»‹å…¥ã€‚æˆ‘ä»¬åœ¨è¿­ä»£ æ¯ä¸€æ£µæ ‘çš„è¿‡ç¨‹ä¸­ï¼Œéƒ½æœ€å°åŒ– Obj æ¥åŠ›æ±‚è·å–æœ€ä¼˜çš„ $\\hat{y}$ ï¼Œå› æ­¤æˆ‘ä»¬åŒæ—¶æœ€å°åŒ–äº†æ¨¡å‹çš„é”™è¯¯ç‡å’Œæ¨¡å‹çš„å¤æ‚åº¦ï¼Œè¿™ç§ è®¾è®¡ç›®æ ‡å‡½æ•°çš„æ–¹æ³•ä¸å¾—ä¸è¯´å®åœ¨æ˜¯éå¸¸å·§å¦™å’Œèªæ˜ã€‚ è¿˜å¯ä»¥ä»å¦ä¸€ä¸ªè§’åº¦å»ç†è§£ç›®æ ‡å‡½æ•°,å³æ–¹å·®-åå·®å›°å¢ƒã€‚åœ¨æœºå™¨å­¦ä¹ ä¸­ï¼Œç”¨æ¥è¡¡é‡æ¨¡å‹åœ¨æœªçŸ¥æ•°æ®ä¸Šçš„å‡†ç¡®ç‡çš„æŒ‡æ ‡ï¼Œå«åšæ³›åŒ–è¯¯å·®ï¼ˆGenelization errorï¼‰ã€‚ä¸€ä¸ªé›†æˆæ¨¡å‹(f) åœ¨æœªçŸ¥æ•°æ®é›†(D)ä¸Šçš„æ³›åŒ–è¯¯å·® $E(f;D)$ ï¼Œç”±æ–¹å·®(var)ï¼Œåå·®(bais)å’Œå™ªå£° $\\varepsilon$å…±åŒå†³å®šï¼Œæ³›åŒ–è¯¯å·®è¶Šå°ï¼Œæ¨¡å‹å°±è¶Šç†æƒ³ã€‚ä»ä¸‹é¢çš„å›¾å¯ä»¥çœ‹å‡ºæ¥ï¼Œæ–¹å·®å’Œåå·®æ˜¯æ­¤æ¶ˆå½¼é•¿çš„ï¼Œå¹¶ä¸”æ¨¡å‹çš„å¤æ‚åº¦è¶Šé«˜ï¼Œæ–¹å·®è¶Šå¤§ï¼Œåå·®è¶Šå°ã€‚ æ–¹å·®å¯ä»¥è¢«ç®€å•åœ°è§£é‡Šä¸ºæ¨¡å‹åœ¨ä¸åŒæ•°æ®é›†ä¸Šè¡¨ç°å‡ºæ¥åœ°ç¨³å®šæ€§ï¼Œè€Œåå·®æ˜¯æ¨¡å‹é¢„æµ‹çš„å‡†ç¡®åº¦ã€‚é‚£æ–¹å·®-åå·®å›°å¢ƒå°±å¯ä»¥å¯¹åº”åˆ° Obj ä¸­äº†: $$ Obj = \\sum_{i=1}^ml(y_i,\\hat{y_i}) + \\sum_{k=1}^K\\Omega(f_k) $$ ç¬¬ä¸€é¡¹æ˜¯è¡¡é‡æˆ‘ä»¬æ¨¡å‹çš„åå·®ï¼Œæ¨¡å‹è¶Šä¸å‡†ç¡®ï¼Œç¬¬ä¸€é¡¹å°±ä¼šè¶Šå¤§ã€‚ç¬¬äºŒé¡¹æ˜¯è¡¡é‡æˆ‘ä»¬çš„æ–¹å·®ï¼Œæ¨¡å‹è¶Šå¤æ‚ï¼Œæ¨¡å‹çš„å­¦ä¹ å°±ä¼šè¶Šå…·ä½“ï¼Œåˆ°ä¸åŒæ•°æ®é›†ä¸Šçš„è¡¨ç°å°±ä¼šå·®å¼‚å·¨å¤§ï¼Œæ–¹å·®å°±ä¼šè¶Šå¤§ã€‚æ‰€ä»¥æˆ‘ä»¬æ±‚è§£çš„æœ€å°å€¼ï¼Œå…¶å®æ˜¯åœ¨æ±‚è§£æ–¹å·®ä¸åå·®çš„å¹³è¡¡ç‚¹ï¼Œä»¥æ±‚æ¨¡å‹çš„æ³›åŒ–è¯¯å·®æœ€å°ï¼Œè¿è¡Œé€Ÿåº¦æœ€å¿«ã€‚æˆ‘ä»¬çŸ¥é“æ ‘æ¨¡å‹å’Œæ ‘çš„é›†æˆæ¨¡å‹éƒ½æ˜¯å­¦ä¹ å¤©æ‰ï¼Œæ˜¯å¤©ç”Ÿè¿‡æ‹Ÿåˆçš„æ¨¡å‹ï¼Œå› æ­¤å¤§å¤šæ•°æ ‘æ¨¡å‹æœ€åˆéƒ½ä¼šå‡ºç°åœ¨å›¾åƒçš„å³ä¸Šæ–¹ï¼Œæˆ‘ä»¬å¿…é¡»é€šè¿‡å‰ªææ¥æ§åˆ¶æ¨¡å‹ä¸è¦è¿‡æ‹Ÿåˆã€‚ç°åœ¨ XGBoostçš„æŸå¤±å‡½æ•°ä¸­è‡ªå¸¦é™åˆ¶æ–¹å·®å˜å¤§çš„éƒ¨åˆ†ï¼Œä¹Ÿå°±æ˜¯è¯´XGBoostä¼šæ¯”å…¶ä»–çš„æ ‘æ¨¡å‹æ›´åŠ èªæ˜ï¼Œä¸ä¼šè½»æ˜“è½åˆ°å›¾åƒçš„å³ä¸Šæ–¹ã€‚å¯è§ï¼Œè¿™ä¸ªæ¨¡å‹åœ¨è®¾è®¡çš„æ—¶å€™çš„ç¡®æ˜¯è€ƒè™‘äº†æ–¹æ–¹é¢é¢ï¼Œéš¾æ€ªXGBoostä¼šå¦‚æ­¤å¼ºå¤§äº†ã€‚ åœ¨åº”ç”¨ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨å‚æ•°â€œobjective\"æ¥ç¡®å®šæˆ‘ä»¬ç›®æ ‡å‡½æ•°çš„ç¬¬ä¸€éƒ¨åˆ†ä¸­çš„ $l(y_i, \\hat{y_i})$ ï¼Œä¹Ÿå°±æ˜¯è¡¡é‡æŸå¤±çš„éƒ¨åˆ†ã€‚ xgb.train() xgb.XGBRegressor() Xgb.XGBClassifier() obj: é»˜è®¤binary:logistic objective: é»˜è®¤reg:linear objective: é»˜è®¤binary:logistic å¸¸ç”¨çš„é€‰æ‹©æœ‰ï¼š è¾“å…¥ é€‰ç”¨çš„æŸå¤±å‡½æ•° reg:linear ä½¿ç”¨çº¿æ€§å›å½’çš„æŸå¤±å‡½æ•°ï¼Œå‡æ–¹è¯¯å·®ï¼Œå›å½’æ—¶ä½¿ç”¨ binary:logistic ä½¿ç”¨é€»è¾‘å›å½’çš„æŸå¤±å‡½æ•°ï¼Œå¯¹æ•°æŸå¤±log_lossï¼ŒäºŒåˆ†ç±»æ—¶ä½¿ç”¨ binary:logistic ä½¿ç”¨æ”¯æŒå‘é‡æœºçš„æŸå¤±å‡½æ•°ï¼ŒHinge Lossï¼ŒäºŒåˆ†ç±»æ—¶ä½¿ç”¨ multi:softmax ä½¿ç”¨softmaxæŸå¤±å‡½æ•°ï¼Œå¤šåˆ†ç±»æ—¶ä½¿ç”¨ è¿˜å¯ä»¥é€‰æ‹©è‡ªå®šä¹‰æŸå¤±å‡½æ•°ã€‚æ¯”å¦‚è¯´ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©è¾“å…¥å¹³æ–¹æŸå¤± $l(y_i, \\hat{y_i} = (y_i - \\hat{y_i})^2)$ï¼Œæ­¤æ—¶XGBoost å…¶å®å°±æ˜¯ç®—æ³•æ¢¯åº¦æå‡æœºå™¨ï¼ˆgradient boosted machineï¼‰ã€‚åœ¨xgboostä¸­ï¼Œæˆ‘ä»¬è¢«å…è®¸è‡ªå®šä¹‰æŸå¤±å‡½æ•°ï¼Œä½†é€šå¸¸æˆ‘ä»¬è¿˜æ˜¯ä½¿ç”¨ç±»å·²ç»ä¸ºæˆ‘ä»¬è®¾ç½®å¥½çš„æŸå¤±å‡½æ•°ã€‚å›å½’ç±»ä¸­æœ¬æ¥ä½¿ç”¨çš„å°±æ˜¯reg:linearï¼Œå› æ­¤åœ¨è¿™é‡Œæ— éœ€åšä»»ä½•è°ƒæ•´ã€‚æ³¨æ„ï¼šåˆ†ç±»å‹çš„ç›®æ ‡å‡½æ•°å¯¼å…¥å›å½’ç±»ä¸­ä¼šç›´æ¥æŠ¥é”™ã€‚ç°åœ¨æ¥è¯•è¯•çœ‹xgbè‡ªèº«çš„è°ƒç”¨æ–¹å¼ã€‚ ç”±äºxgbä¸­æ‰€æœ‰çš„å‚æ•°éƒ½éœ€è¦è‡ªå·±çš„è¾“å…¥ï¼Œå¹¶ä¸”objectiveå‚æ•°çš„é»˜è®¤å€¼æ˜¯äºŒåˆ†ç±»ï¼Œå› æ­¤æˆ‘ä»¬å¿…é¡»æ‰‹åŠ¨è°ƒèŠ‚ã€‚ æ­£åˆ™åŒ–å‚æ•° å¯¹æ¯ä¸€æ£µæ ‘ï¼Œå®ƒéƒ½æœ‰è‡ªå·±ç‹¬ç‰¹çš„ç»“æ„ï¼Œè¿™ä¸ªç»“æ„å³æ˜¯æŒ‡å¶å­èŠ‚ç‚¹çš„æ•°é‡ï¼Œæ ‘çš„æ·±åº¦ï¼Œå¶å­çš„ä½ç½®ç­‰ç­‰æ‰€å½¢æˆçš„ä¸€ä¸ªå¯ä»¥å®šä¹‰å”¯ä¸€æ¨¡å‹çš„æ ‘ç»“æ„ã€‚åœ¨è¿™ä¸ªç»“æ„ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ $q(x_i)$è¡¨ç¤ºæ ·æœ¬$x_i$ æ‰€åœ¨çš„å¶å­èŠ‚ç‚¹ï¼Œå¹¶ä¸”ä½¿ç”¨$w_{q(x_i)}$ æ¥è¡¨ç¤ºè¿™ä¸ªæ ·æœ¬è½åˆ°ç¬¬ tæ£µæ ‘ä¸Šçš„ç¬¬$q(x_i)$ ä¸ªå¶å­èŠ‚ç‚¹ä¸­æ‰€è·å¾—çš„åˆ†æ•°ï¼Œäºæ˜¯æœ‰ï¼š $$ f_t(x_i) = w_{q(x_i)} $$ è¿™æ˜¯å¯¹äºæ¯ä¸€ä¸ªæ ·æœ¬è€Œè¨€çš„å¶å­æƒé‡ï¼Œç„¶è€Œåœ¨ä¸€ä¸ªå¶å­èŠ‚ç‚¹ä¸Šçš„æ‰€æœ‰æ ·æœ¬æ‰€å¯¹åº”çš„å¶å­æƒé‡æ˜¯ç›¸åŒçš„ã€‚è®¾ä¸€æ£µæ ‘ä¸Šæ€»å…±åŒ…å«äº†Tä¸ªå¶å­èŠ‚ç‚¹ï¼Œå…¶ä¸­æ¯ä¸ªå¶å­èŠ‚ç‚¹çš„ç´¢å¼•ä¸ºj ï¼Œåˆ™è¿™ä¸ªå¶å­èŠ‚ç‚¹ä¸Šçš„æ ·æœ¬æƒé‡æ˜¯$w_j$ ã€‚ä¾æ®è¿™ä¸ªï¼Œæˆ‘ä»¬å®šä¹‰æ¨¡å‹çš„å¤æ‚åº¦$\\Omega(f)$ä¸ºï¼ˆæ³¨æ„è¿™ä¸æ˜¯å”¯ä¸€å¯èƒ½çš„å®šä¹‰ï¼Œæˆ‘ä»¬å½“ç„¶è¿˜å¯ä»¥ä½¿ç”¨å…¶ä»–çš„å®šä¹‰ï¼Œåªè¦æ»¡è¶³å¶å­è¶Šå¤š/æ·±åº¦è¶Šå¤§ï¼Œ å¤æ‚åº¦è¶Šå¤§çš„ç†è®ºï¼Œå¯ä»¥è‡ªå·±å†³å®šè¦æ˜¯ä¸€ä¸ªæ€æ ·çš„å¼å­ï¼‰ï¼š $$ \\Omega(f) = \\gamma T + æ­£åˆ™é¡¹(Regularization) $$ å¦‚æœä½¿ç”¨$L2$æ­£åˆ™é¡¹ï¼š $$ = \\gamma T + \\frac 1{2} \\lambda|w|^2 $$ $$ =\\gamma T + \\frac 1{2} \\lambda \\sum_{j=1}^T w_j^2 $$ å¦‚æœä½¿ç”¨$L1$æ­£åˆ™é¡¹ï¼š $$ = \\gamma T + \\frac 1{2} \\alpha|w| $$ $$ =\\gamma T + \\frac 1{2} \\alpha \\sum_{j=1}^T |w_j| $$ è¿˜å¯ä»¥ä¸¤ä¸ªä¸€èµ·ä½¿ç”¨ï¼š $$ =\\gamma T + \\frac 1{2} \\alpha \\sum_{j=1}^T |w_j| + \\frac 1{2} \\lambda \\sum_{j=1}^T w_j^2 $$ è¿™ä¸ªç»“æ„ä¸­æœ‰ä¸¤éƒ¨åˆ†å†…å®¹ï¼Œä¸€éƒ¨åˆ†æ˜¯æ§åˆ¶æ ‘ç»“æ„çš„$\\gamma T$ ï¼Œå¦ä¸€éƒ¨åˆ†åˆ™æ˜¯æˆ‘ä»¬çš„æ­£åˆ™é¡¹ã€‚å¶å­æ•°é‡ å¯ä»¥ä»£è¡¨æ•´ä¸ªæ ‘ç»“æ„ï¼Œè¿™æ˜¯å› ä¸ºåœ¨X","date":"2020-02-10","objectID":"https://mayuanucas.github.io/xgboost-lightgbm/:4:2","tags":["æœºå™¨å­¦ä¹ ","æ•°æ®æŒ–æ˜","sklearn"],"title":"XGBoostã€LightGBMã€CatBoost","uri":"https://mayuanucas.github.io/xgboost-lightgbm/"},{"categories":["æœºå™¨å­¦ä¹ "],"content":"ç®€ä»‹ GBDT (Gradient Boosting Decision Tree) æ˜¯æœºå™¨å­¦ä¹ ä¸­ä¸€ä¸ªé•¿ç››ä¸è¡°çš„æ¨¡å‹ï¼Œå…¶ä¸»è¦æ€æƒ³æ˜¯åˆ©ç”¨å¼±åˆ†ç±»å™¨ï¼ˆå†³ç­–æ ‘ï¼‰è¿­ä»£è®­ç»ƒä»¥å¾—åˆ°æœ€ä¼˜æ¨¡å‹ï¼Œè¯¥æ¨¡å‹å…·æœ‰è®­ç»ƒæ•ˆæœå¥½ã€ä¸æ˜“è¿‡æ‹Ÿåˆç­‰ä¼˜ç‚¹ã€‚GBDT ä¸ä»…åœ¨å·¥ä¸šç•Œåº”ç”¨å¹¿æ³›ï¼Œé€šå¸¸è¢«ç”¨äºå¤šåˆ†ç±»ã€ç‚¹å‡»ç‡é¢„æµ‹ã€æœç´¢æ’åºç­‰ä»»åŠ¡ï¼›åœ¨å„ç§æ•°æ®æŒ–æ˜ç«èµ›ä¸­ä¹Ÿæ˜¯è‡´å‘½æ­¦å™¨ï¼Œæ®ç»Ÿè®¡Kaggleä¸Šçš„æ¯”èµ›æœ‰ä¸€åŠä»¥ä¸Šçš„å† å†›æ–¹æ¡ˆéƒ½æ˜¯åŸºäº GBDTã€‚è€Œ LightGBMï¼ˆLight Gradient Boosting Machineï¼‰æ˜¯ä¸€ä¸ªå®ç° GBDT ç®—æ³•çš„æ¡†æ¶ï¼Œæ”¯æŒé«˜æ•ˆç‡çš„å¹¶è¡Œè®­ç»ƒï¼Œå¹¶ä¸”å…·æœ‰æ›´å¿«çš„è®­ç»ƒé€Ÿåº¦ã€æ›´ä½çš„å†…å­˜æ¶ˆè€—ã€æ›´å¥½çš„å‡†ç¡®ç‡ã€æ”¯æŒåˆ†å¸ƒå¼å¯ä»¥å¿«é€Ÿå¤„ç†æµ·é‡æ•°æ®ç­‰ä¼˜ç‚¹ã€‚ ","date":"2020-02-10","objectID":"https://mayuanucas.github.io/xgboost-lightgbm/:5:0","tags":["æœºå™¨å­¦ä¹ ","æ•°æ®æŒ–æ˜","sklearn"],"title":"XGBoostã€LightGBMã€CatBoost","uri":"https://mayuanucas.github.io/xgboost-lightgbm/"},{"categories":["æœºå™¨å­¦ä¹ "],"content":"ä¸ºä»€ä¹ˆä½¿ç”¨LightGBM å¸¸ç”¨çš„æœºå™¨å­¦ä¹ ç®—æ³•ï¼Œä¾‹å¦‚ç¥ç»ç½‘ç»œç­‰ç®—æ³•ï¼Œéƒ½å¯ä»¥ä»¥mini-batchçš„æ–¹å¼è®­ç»ƒï¼Œè®­ç»ƒæ•°æ®çš„å¤§å°ä¸ä¼šå—åˆ°å†…å­˜é™åˆ¶ã€‚è€ŒGBDTåœ¨æ¯ä¸€æ¬¡è¿­ä»£çš„æ—¶å€™ï¼Œéƒ½éœ€è¦éå†æ•´ä¸ªè®­ç»ƒæ•°æ®å¤šæ¬¡ã€‚å¦‚æœæŠŠæ•´ä¸ªè®­ç»ƒæ•°æ®è£…è¿›å†…å­˜åˆ™ä¼šé™åˆ¶è®­ç»ƒæ•°æ®çš„å¤§å°ï¼›å¦‚æœä¸è£…è¿›å†…å­˜ï¼Œåå¤åœ°è¯»å†™è®­ç»ƒæ•°æ®åˆä¼šæ¶ˆè€—éå¸¸å¤§çš„æ—¶é—´ã€‚å°¤å…¶é¢å¯¹å·¥ä¸šçº§æµ·é‡çš„æ•°æ®ï¼Œæ™®é€šçš„GBDTç®—æ³•æ˜¯ä¸èƒ½æ»¡è¶³å…¶éœ€æ±‚çš„ã€‚ LightGBMæå‡ºçš„ä¸»è¦åŸå› å°±æ˜¯ä¸ºäº†è§£å†³GBDTåœ¨æµ·é‡æ•°æ®é‡åˆ°çš„é—®é¢˜ï¼Œè®©GBDTå¯ä»¥æ›´å¥½æ›´å¿«åœ°ç”¨äºå·¥ä¸šå®è·µã€‚ ","date":"2020-02-10","objectID":"https://mayuanucas.github.io/xgboost-lightgbm/:6:0","tags":["æœºå™¨å­¦ä¹ ","æ•°æ®æŒ–æ˜","sklearn"],"title":"XGBoostã€LightGBMã€CatBoost","uri":"https://mayuanucas.github.io/xgboost-lightgbm/"},{"categories":["æœºå™¨å­¦ä¹ "],"content":"XGBoostçš„ä¸è¶³åŠLightGBMçš„ä¼˜åŒ– ","date":"2020-02-10","objectID":"https://mayuanucas.github.io/xgboost-lightgbm/:7:0","tags":["æœºå™¨å­¦ä¹ ","æ•°æ®æŒ–æ˜","sklearn"],"title":"XGBoostã€LightGBMã€CatBoost","uri":"https://mayuanucas.github.io/xgboost-lightgbm/"},{"categories":["æœºå™¨å­¦ä¹ "],"content":"XGBoostçš„ä¸è¶³ åœ¨LightGBMæå‡ºä¹‹å‰ï¼Œæœ€æœ‰åçš„GBDTå·¥å…·å°±æ˜¯XGBoostäº†ï¼Œå®ƒæ˜¯åŸºäºé¢„æ’åºæ–¹æ³•çš„å†³ç­–æ ‘ç®—æ³•ã€‚è¿™ç§æ„å»ºå†³ç­–æ ‘çš„ç®—æ³•åŸºæœ¬æ€æƒ³æ˜¯ï¼šé¦–å…ˆï¼Œå¯¹æ‰€æœ‰ç‰¹å¾éƒ½æŒ‰ç…§ç‰¹å¾çš„æ•°å€¼è¿›è¡Œé¢„æ’åºã€‚å…¶æ¬¡ï¼Œåœ¨éå†åˆ†å‰²ç‚¹çš„æ—¶å€™ç”¨ O(data) çš„ä»£ä»·æ‰¾åˆ°ä¸€ä¸ªç‰¹å¾ä¸Šçš„æœ€å¥½åˆ†å‰²ç‚¹ã€‚æœ€åï¼Œåœ¨æ‰¾åˆ°ä¸€ä¸ªç‰¹å¾çš„æœ€å¥½åˆ†å‰²ç‚¹çš„æ¡ä»¶ä¸‹ï¼Œå°†æ•°æ®åˆ†è£‚æˆå·¦å³å­èŠ‚ç‚¹ã€‚ è¿™æ ·çš„é¢„æ’åºç®—æ³•çš„ä¼˜ç‚¹æ˜¯èƒ½ç²¾ç¡®åœ°æ‰¾åˆ°åˆ†å‰²ç‚¹ã€‚ä½†æ˜¯ç¼ºç‚¹ä¹Ÿå¾ˆæ˜æ˜¾ï¼šé¦–å…ˆï¼Œç©ºé—´æ¶ˆè€—å¤§ã€‚è¿™æ ·çš„ç®—æ³•éœ€è¦ä¿å­˜æ•°æ®çš„ç‰¹å¾å€¼ï¼Œè¿˜ä¿å­˜äº†ç‰¹å¾æ’åºçš„ç»“æœï¼ˆä¾‹å¦‚ï¼Œä¸ºäº†åç»­å¿«é€Ÿçš„è®¡ç®—åˆ†å‰²ç‚¹ï¼Œä¿å­˜äº†æ’åºåçš„ç´¢å¼•ï¼‰ï¼Œè¿™å°±éœ€è¦æ¶ˆè€—è®­ç»ƒæ•°æ®ä¸¤å€çš„å†…å­˜ã€‚å…¶æ¬¡ï¼Œæ—¶é—´ä¸Šä¹Ÿæœ‰è¾ƒå¤§çš„å¼€é”€ï¼Œåœ¨éå†æ¯ä¸€ä¸ªåˆ†å‰²ç‚¹çš„æ—¶å€™ï¼Œéƒ½éœ€è¦è¿›è¡Œåˆ†è£‚å¢ç›Šçš„è®¡ç®—ï¼Œæ¶ˆè€—çš„ä»£ä»·å¤§ã€‚æœ€åï¼Œå¯¹cacheä¼˜åŒ–ä¸å‹å¥½ã€‚åœ¨é¢„æ’åºåï¼Œç‰¹å¾å¯¹æ¢¯åº¦çš„è®¿é—®æ˜¯ä¸€ç§éšæœºè®¿é—®ï¼Œå¹¶ä¸”ä¸åŒçš„ç‰¹å¾è®¿é—®çš„é¡ºåºä¸ä¸€æ ·ï¼Œæ— æ³•å¯¹cacheè¿›è¡Œä¼˜åŒ–ã€‚åŒæ—¶ï¼Œåœ¨æ¯ä¸€å±‚é•¿æ ‘çš„æ—¶å€™ï¼Œéœ€è¦éšæœºè®¿é—®ä¸€ä¸ªè¡Œç´¢å¼•åˆ°å¶å­ç´¢å¼•çš„æ•°ç»„ï¼Œå¹¶ä¸”ä¸åŒç‰¹å¾è®¿é—®çš„é¡ºåºä¹Ÿä¸ä¸€æ ·ï¼Œä¹Ÿä¼šé€ æˆè¾ƒå¤§çš„cache missã€‚ ","date":"2020-02-10","objectID":"https://mayuanucas.github.io/xgboost-lightgbm/:7:1","tags":["æœºå™¨å­¦ä¹ ","æ•°æ®æŒ–æ˜","sklearn"],"title":"XGBoostã€LightGBMã€CatBoost","uri":"https://mayuanucas.github.io/xgboost-lightgbm/"},{"categories":["æœºå™¨å­¦ä¹ "],"content":"LightGBMçš„ä¼˜åŒ– ä¸ºäº†é¿å…ä¸Šè¿°XGBoostçš„ç¼ºé™·ï¼Œå¹¶ä¸”èƒ½å¤Ÿåœ¨ä¸æŸå®³å‡†ç¡®ç‡çš„æ¡ä»¶ä¸‹åŠ å¿«GBDTæ¨¡å‹çš„è®­ç»ƒé€Ÿåº¦ï¼ŒlightGBMåœ¨ä¼ ç»Ÿçš„GBDTç®—æ³•ä¸Šè¿›è¡Œäº†å¦‚ä¸‹ä¼˜åŒ–ï¼š åŸºäºHistogramçš„å†³ç­–æ ‘ç®—æ³• å•è¾¹æ¢¯åº¦é‡‡æ · Gradient-based One-Side Sampling(GOSS)ï¼šä½¿ç”¨GOSSå¯ä»¥å‡å°‘å¤§é‡åªå…·æœ‰å°æ¢¯åº¦çš„æ•°æ®å®ä¾‹ï¼Œè¿™æ ·åœ¨è®¡ç®—ä¿¡æ¯å¢ç›Šçš„æ—¶å€™åªåˆ©ç”¨å‰©ä¸‹çš„å…·æœ‰é«˜æ¢¯åº¦çš„æ•°æ®å°±å¯ä»¥äº†ï¼Œç›¸æ¯”XGBoostéå†æ‰€æœ‰ç‰¹å¾å€¼èŠ‚çœäº†ä¸å°‘æ—¶é—´å’Œç©ºé—´ä¸Šçš„å¼€é”€ äº’æ–¥ç‰¹å¾æ†ç»‘ Exclusive Feature Bundling(EFB)ï¼šä½¿ç”¨EFBå¯ä»¥å°†è®¸å¤šäº’æ–¥çš„ç‰¹å¾ç»‘å®šä¸ºä¸€ä¸ªç‰¹å¾ï¼Œè¿™æ ·è¾¾åˆ°äº†é™ç»´çš„ç›®çš„ å¸¦æ·±åº¦é™åˆ¶çš„Leaf-wiseçš„å¶å­ç”Ÿé•¿ç­–ç•¥ï¼šå¤§å¤šæ•°GBDTå·¥å…·ä½¿ç”¨ä½æ•ˆçš„æŒ‰å±‚ç”Ÿé•¿ (level-wise) çš„å†³ç­–æ ‘ç”Ÿé•¿ç­–ç•¥ï¼Œå› ä¸ºå®ƒä¸åŠ åŒºåˆ†çš„å¯¹å¾…åŒä¸€å±‚çš„å¶å­ï¼Œå¸¦æ¥äº†å¾ˆå¤šæ²¡å¿…è¦çš„å¼€é”€ã€‚å®é™…ä¸Šå¾ˆå¤šå¶å­çš„åˆ†è£‚å¢ç›Šè¾ƒä½ï¼Œæ²¡å¿…è¦è¿›è¡Œæœç´¢å’Œåˆ†è£‚ã€‚LightGBMä½¿ç”¨äº†å¸¦æœ‰æ·±åº¦é™åˆ¶çš„æŒ‰å¶å­ç”Ÿé•¿ (leaf-wise) ç®—æ³• ç›´æ¥æ”¯æŒç±»åˆ«ç‰¹å¾(Categorical Feature) æ”¯æŒé«˜æ•ˆå¹¶è¡Œ Cacheå‘½ä¸­ç‡ä¼˜åŒ– ","date":"2020-02-10","objectID":"https://mayuanucas.github.io/xgboost-lightgbm/:7:2","tags":["æœºå™¨å­¦ä¹ ","æ•°æ®æŒ–æ˜","sklearn"],"title":"XGBoostã€LightGBMã€CatBoost","uri":"https://mayuanucas.github.io/xgboost-lightgbm/"},{"categories":["æœºå™¨å­¦ä¹ "],"content":"LightGBMçš„ä¼˜ç¼ºç‚¹ ","date":"2020-02-10","objectID":"https://mayuanucas.github.io/xgboost-lightgbm/:8:0","tags":["æœºå™¨å­¦ä¹ ","æ•°æ®æŒ–æ˜","sklearn"],"title":"XGBoostã€LightGBMã€CatBoost","uri":"https://mayuanucas.github.io/xgboost-lightgbm/"},{"categories":["æœºå™¨å­¦ä¹ "],"content":"ä¼˜ç‚¹ é€Ÿåº¦æ›´å¿« LightGBM é‡‡ç”¨äº†ç›´æ–¹å›¾ç®—æ³•å°†éå†æ ·æœ¬è½¬å˜ä¸ºéå†ç›´æ–¹å›¾ï¼Œæå¤§çš„é™ä½äº†æ—¶é—´å¤æ‚åº¦ LightGBM åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­é‡‡ç”¨å•è¾¹æ¢¯åº¦ç®—æ³•è¿‡æ»¤æ‰æ¢¯åº¦å°çš„æ ·æœ¬ï¼Œå‡å°‘äº†å¤§é‡çš„è®¡ç®— LightGBM é‡‡ç”¨äº†åŸºäº Leaf-wise ç®—æ³•çš„å¢é•¿ç­–ç•¥æ„å»ºæ ‘ï¼Œå‡å°‘äº†å¾ˆå¤šä¸å¿…è¦çš„è®¡ç®—é‡ LightGBM é‡‡ç”¨ä¼˜åŒ–åçš„ç‰¹å¾å¹¶è¡Œã€æ•°æ®å¹¶è¡Œæ–¹æ³•åŠ é€Ÿè®¡ç®—ï¼Œå½“æ•°æ®é‡éå¸¸å¤§çš„æ—¶å€™è¿˜å¯ä»¥é‡‡ç”¨æŠ•ç¥¨å¹¶è¡Œçš„ç­–ç•¥ LightGBM å¯¹ç¼“å­˜ä¹Ÿè¿›è¡Œäº†ä¼˜åŒ–ï¼Œå¢åŠ äº†ç¼“å­˜å‘½ä¸­ç‡ å†…å­˜æ›´å° XGBoostä½¿ç”¨é¢„æ’åºåéœ€è¦è®°å½•ç‰¹å¾å€¼åŠå…¶å¯¹åº”æ ·æœ¬çš„ç»Ÿè®¡å€¼çš„ç´¢å¼•ï¼Œè€Œ LightGBM ä½¿ç”¨äº†ç›´æ–¹å›¾ç®—æ³•å°†ç‰¹å¾å€¼è½¬å˜ä¸º bin å€¼ï¼Œä¸”ä¸éœ€è¦è®°å½•ç‰¹å¾åˆ°æ ·æœ¬çš„ç´¢å¼•ï¼Œå°†ç©ºé—´å¤æ‚åº¦ä» O(2*data) é™ä½ä¸º O(bin) ï¼Œæå¤§çš„å‡å°‘äº†å†…å­˜æ¶ˆè€— LightGBM é‡‡ç”¨äº†ç›´æ–¹å›¾ç®—æ³•å°†å­˜å‚¨ç‰¹å¾å€¼è½¬å˜ä¸ºå­˜å‚¨ bin å€¼ï¼Œé™ä½äº†å†…å­˜æ¶ˆè€— LightGBM åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­é‡‡ç”¨äº’æ–¥ç‰¹å¾æ†ç»‘ç®—æ³•å‡å°‘äº†ç‰¹å¾æ•°é‡ï¼Œé™ä½äº†å†…å­˜æ¶ˆè€— ","date":"2020-02-10","objectID":"https://mayuanucas.github.io/xgboost-lightgbm/:8:1","tags":["æœºå™¨å­¦ä¹ ","æ•°æ®æŒ–æ˜","sklearn"],"title":"XGBoostã€LightGBMã€CatBoost","uri":"https://mayuanucas.github.io/xgboost-lightgbm/"},{"categories":["æœºå™¨å­¦ä¹ "],"content":"ç¼ºç‚¹ å¯èƒ½ä¼šé•¿å‡ºæ¯”è¾ƒæ·±çš„å†³ç­–æ ‘ï¼Œäº§ç”Ÿè¿‡æ‹Ÿåˆã€‚å› æ­¤LightGBMåœ¨Leaf-wiseä¹‹ä¸Šå¢åŠ äº†ä¸€ä¸ªæœ€å¤§æ·±åº¦é™åˆ¶ï¼Œåœ¨ä¿è¯é«˜æ•ˆç‡çš„åŒæ—¶é˜²æ­¢è¿‡æ‹Ÿåˆ Boostingæ—æ˜¯è¿­ä»£ç®—æ³•ï¼Œæ¯ä¸€æ¬¡è¿­ä»£éƒ½æ ¹æ®ä¸Šä¸€æ¬¡è¿­ä»£çš„é¢„æµ‹ç»“æœå¯¹æ ·æœ¬è¿›è¡Œæƒé‡è°ƒæ•´ï¼Œæ‰€ä»¥éšç€è¿­ä»£ä¸æ–­è¿›è¡Œï¼Œè¯¯å·®ä¼šè¶Šæ¥è¶Šå°ï¼Œæ¨¡å‹çš„åå·®ï¼ˆbiasï¼‰ä¼šä¸æ–­é™ä½ã€‚ç”±äºLightGBMæ˜¯åŸºäºåå·®çš„ç®—æ³•ï¼Œæ‰€ä»¥ä¼šå¯¹å™ªç‚¹è¾ƒä¸ºæ•æ„Ÿ åœ¨å¯»æ‰¾æœ€ä¼˜è§£æ—¶ï¼Œä¾æ®çš„æ˜¯æœ€ä¼˜åˆ‡åˆ†å˜é‡ï¼Œæ²¡æœ‰å°†æœ€ä¼˜è§£æ˜¯å…¨éƒ¨ç‰¹å¾çš„ç»¼åˆè¿™ä¸€ç†å¿µè€ƒè™‘è¿›å» ","date":"2020-02-10","objectID":"https://mayuanucas.github.io/xgboost-lightgbm/:8:2","tags":["æœºå™¨å­¦ä¹ ","æ•°æ®æŒ–æ˜","sklearn"],"title":"XGBoostã€LightGBMã€CatBoost","uri":"https://mayuanucas.github.io/xgboost-lightgbm/"},{"categories":["æœºå™¨å­¦ä¹ "],"content":"åº”ç”¨ ","date":"2020-02-10","objectID":"https://mayuanucas.github.io/xgboost-lightgbm/:9:0","tags":["æœºå™¨å­¦ä¹ ","æ•°æ®æŒ–æ˜","sklearn"],"title":"XGBoostã€LightGBMã€CatBoost","uri":"https://mayuanucas.github.io/xgboost-lightgbm/"},{"categories":["æœºå™¨å­¦ä¹ "],"content":"å®‰è£…LightGBMä¾èµ–åŒ… pip install lightgbm ","date":"2020-02-10","objectID":"https://mayuanucas.github.io/xgboost-lightgbm/:9:1","tags":["æœºå™¨å­¦ä¹ ","æ•°æ®æŒ–æ˜","sklearn"],"title":"XGBoostã€LightGBMã€CatBoost","uri":"https://mayuanucas.github.io/xgboost-lightgbm/"},{"categories":["æœºå™¨å­¦ä¹ "],"content":"LightGBMåˆ†ç±»å’Œå›å½’ LightGBMæœ‰ä¸¤å¤§ç±»æ¥å£ï¼šLightGBMåŸç”Ÿæ¥å£ å’Œ scikit-learnæ¥å£ ï¼Œå¹¶ä¸”LightGBMèƒ½å¤Ÿå®ç°åˆ†ç±»å’Œå›å½’ä¸¤ç§ä»»åŠ¡ã€‚ åŸºäºLightGBMåŸç”Ÿæ¥å£çš„åˆ†ç±» import numpy as np from sklearn import datasets from sklearn.model_selection import train_test_split from sklearn.metrics import roc_auc_score, accuracy_score import lightgbm as lgb # åŠ è½½æ•°æ® iris = datasets.load_iris() # åˆ’åˆ†è®­ç»ƒé›†å’Œæµ‹è¯•é›† X_train, X_test, y_train, y_test = train_test_split(iris.data, iris.target, test_size=0.3) # è½¬æ¢ä¸ºDatasetæ•°æ®æ ¼å¼ train_data = lgb.Dataset(X_train, label=y_train) validation_data = lgb.Dataset(X_test, label=y_test) # å‚æ•° params = { 'learning_rate': 0.1, 'lambda_l1': 0.1, 'lambda_l2': 0.2, 'max_depth': 4, 'objective': 'multiclass', # ç›®æ ‡å‡½æ•° 'num_class': 3, } # æ¨¡å‹è®­ç»ƒ gbm = lgb.train(params, train_data, valid_sets=[validation_data]) # æ¨¡å‹é¢„æµ‹ y_pred = gbm.predict(X_test) y_pred = [list(x).index(max(x)) for x in y_pred] print(y_pred) # æ¨¡å‹è¯„ä¼° print(accuracy_score(y_test, y_pred)) åŸºäºScikit-learnæ¥å£çš„åˆ†ç±» from lightgbm import LGBMClassifier from sklearn.metrics import accuracy_score from sklearn.model_selection import GridSearchCV from sklearn.datasets import load_iris from sklearn.model_selection import train_test_split from sklearn.externals import joblib # åŠ è½½æ•°æ® iris = load_iris() data = iris.data target = iris.target # åˆ’åˆ†è®­ç»ƒæ•°æ®å’Œæµ‹è¯•æ•°æ® X_train, X_test, y_train, y_test = train_test_split(data, target, test_size=0.2) # æ¨¡å‹è®­ç»ƒ gbm = LGBMClassifier(num_leaves=31, learning_rate=0.05, n_estimators=20) gbm.fit(X_train, y_train, eval_set=[(X_test, y_test)], early_stopping_rounds=5) # æ¨¡å‹å­˜å‚¨ joblib.dump(gbm, 'loan_model.pkl') # æ¨¡å‹åŠ è½½ gbm = joblib.load('loan_model.pkl') # æ¨¡å‹é¢„æµ‹ y_pred = gbm.predict(X_test, num_iteration=gbm.best_iteration_) # æ¨¡å‹è¯„ä¼° print('The accuracy of prediction is:', accuracy_score(y_test, y_pred)) # ç‰¹å¾é‡è¦åº¦ print('Feature importances:', list(gbm.feature_importances_)) # Feature importances: [28, 6, 97, 61] # ç½‘æ ¼æœç´¢ï¼Œå‚æ•°ä¼˜åŒ– estimator = LGBMClassifier(num_leaves=31) param_grid = { 'learning_rate': [0.01, 0.1, 1], 'n_estimators': [20, 40] } gbm = GridSearchCV(estimator, param_grid) gbm.fit(X_train, y_train) print('Best parameters found by grid search are:', gbm.best_params_) # Best parameters found by grid search are: {'learning_rate': 0.1, 'n_estimators': 20} åŸºäºLightGBMåŸç”Ÿæ¥å£çš„å›å½’ å¯¹äºLightGBMè§£å†³å›å½’é—®é¢˜ï¼Œæˆ‘ä»¬ç”¨Kaggleæ¯”èµ›ä¸­å›å½’é—®é¢˜ï¼šHouse Prices: Advanced Regression Techniquesï¼Œåœ°å€ï¼šhttps://www.kaggle.com/c/house-prices-advanced-regression-techniques æ¥è¿›è¡Œå®ä¾‹è®²è§£ã€‚ è¯¥æˆ¿ä»·é¢„æµ‹çš„è®­ç»ƒæ•°æ®é›†ä¸­ä¸€å…±æœ‰åˆ—ï¼Œç¬¬ä¸€åˆ—æ˜¯Idï¼Œæœ€åä¸€åˆ—æ˜¯labelï¼Œä¸­é—´åˆ—æ˜¯ç‰¹å¾ã€‚è¿™åˆ—ç‰¹å¾ä¸­ï¼Œæœ‰åˆ—æ˜¯åˆ†ç±»å‹å˜é‡ï¼Œåˆ—æ˜¯æ•´æ•°å˜é‡ï¼Œåˆ—æ˜¯æµ®ç‚¹å‹å˜é‡ã€‚è®­ç»ƒæ•°æ®é›†ä¸­å­˜åœ¨ç¼ºå¤±å€¼ã€‚ import pandas as pd from sklearn.model_selection import train_test_split import lightgbm as lgb from sklearn.metrics import mean_absolute_error from sklearn.preprocessing import Imputer # 1.è¯»æ–‡ä»¶ data = pd.read_csv('./dataset/train.csv') # 2.åˆ‡åˆ†æ•°æ®è¾“å…¥ï¼šç‰¹å¾ è¾“å‡ºï¼šé¢„æµ‹ç›®æ ‡å˜é‡ y = data.SalePrice X = data.drop(['SalePrice'], axis=1).select_dtypes(exclude=['object']) # 3.åˆ‡åˆ†è®­ç»ƒé›†ã€æµ‹è¯•é›†,åˆ‡åˆ†æ¯”ä¾‹7.5 : 2.5 train_X, test_X, train_y, test_y = train_test_split(X.values, y.values, test_size=0.25) # 4.ç©ºå€¼å¤„ç†ï¼Œé»˜è®¤æ–¹æ³•ï¼šä½¿ç”¨ç‰¹å¾åˆ—çš„å¹³å‡å€¼è¿›è¡Œå¡«å…… my_imputer = Imputer() train_X = my_imputer.fit_transform(train_X) test_X = my_imputer.transform(test_X) # 5.è½¬æ¢ä¸ºDatasetæ•°æ®æ ¼å¼ lgb_train = lgb.Dataset(train_X, train_y) lgb_eval = lgb.Dataset(test_X, test_y, reference=lgb_train) # 6.å‚æ•° params = { 'task': 'train', 'boosting_type': 'gbdt', # è®¾ç½®æå‡ç±»å‹ 'objective': 'regression', # ç›®æ ‡å‡½æ•° 'metric': {'l2', 'auc'}, # è¯„ä¼°å‡½æ•° 'num_leaves': 31, # å¶å­èŠ‚ç‚¹æ•° 'learning_rate': 0.05, # å­¦ä¹ é€Ÿç‡ 'feature_fraction': 0.9, # å»ºæ ‘çš„ç‰¹å¾é€‰æ‹©æ¯”ä¾‹ 'bagging_fraction': 0.8, # å»ºæ ‘çš„æ ·æœ¬é‡‡æ ·æ¯”ä¾‹ 'bagging_freq': 5, # k æ„å‘³ç€æ¯ k æ¬¡è¿­ä»£æ‰§è¡Œbagging 'verbose': 1 # \u003c0 æ˜¾ç¤ºè‡´å‘½çš„, =0 æ˜¾ç¤ºé”™è¯¯ (è­¦å‘Š), \u003e0 æ˜¾ç¤ºä¿¡æ¯ } # 7.è°ƒç”¨LightGBMæ¨¡å‹ï¼Œä½¿ç”¨è®­ç»ƒé›†æ•°æ®è¿›è¡Œè®­ç»ƒï¼ˆæ‹Ÿåˆï¼‰ # Add verbosity=2 to print messages while running boosting my_model = lgb.train(params, lgb_train, num_boost_round=20, valid_sets=lgb_eval, early_stopping_rounds=5) # 8.ä½¿ç”¨æ¨¡å‹å¯¹æµ‹è¯•é›†æ•°æ®è¿›è¡Œé¢„æµ‹ predictions = my_model.predict(test_X, num_iteration=my_model.best_iteration) # 9.å¯¹æ¨¡å‹çš„é¢„æµ‹ç»“æœè¿›è¡Œè¯„åˆ¤ï¼ˆå¹³å‡ç»å¯¹è¯¯å·®ï¼‰ print(\"Mean Absolute Error : \" + str(mean_absolute_error(predictions, test_y))) # Mean Absolute Error : 55355.984107934746 åŸºäºScikit-learnæ¥å£çš„å›å½’ impo","date":"2020-02-10","objectID":"https://mayuanucas.github.io/xgboost-lightgbm/:9:2","tags":["æœºå™¨å­¦ä¹ ","æ•°æ®æŒ–æ˜","sklearn"],"title":"XGBoostã€LightGBMã€CatBoost","uri":"https://mayuanucas.github.io/xgboost-lightgbm/"},{"categories":["æœºå™¨å­¦ä¹ "],"content":"LightGBMè°ƒå‚ ","date":"2020-02-10","objectID":"https://mayuanucas.github.io/xgboost-lightgbm/:10:0","tags":["æœºå™¨å­¦ä¹ ","æ•°æ®æŒ–æ˜","sklearn"],"title":"XGBoostã€LightGBMã€CatBoost","uri":"https://mayuanucas.github.io/xgboost-lightgbm/"},{"categories":["æœºå™¨å­¦ä¹ "],"content":"æ§åˆ¶å‚æ•° Control Parameters å«ä¹‰ ç”¨æ³• max_depth æ ‘çš„æœ€å¤§æ·±åº¦ å½“æ¨¡å‹è¿‡æ‹Ÿåˆæ—¶,å¯ä»¥è€ƒè™‘é¦–å…ˆé™ä½ max_depth min_data_in_leaf å¶å­å¯èƒ½å…·æœ‰çš„æœ€å°è®°å½•æ•° é»˜è®¤20ï¼Œè¿‡æ‹Ÿåˆæ—¶ç”¨ feature_fraction ä¾‹å¦‚ ä¸º0.8æ—¶ï¼Œæ„å‘³ç€åœ¨æ¯æ¬¡è¿­ä»£ä¸­éšæœºé€‰æ‹©80ï¼…çš„å‚æ•°æ¥å»ºæ ‘ boosting ä¸º random forest æ—¶ç”¨ bagging_fraction æ¯æ¬¡è¿­ä»£æ—¶ç”¨çš„æ•°æ®æ¯”ä¾‹ ç”¨äºåŠ å¿«è®­ç»ƒé€Ÿåº¦å’Œå‡å°è¿‡æ‹Ÿåˆ early_stopping_round å¦‚æœä¸€æ¬¡éªŒè¯æ•°æ®çš„ä¸€ä¸ªåº¦é‡åœ¨æœ€è¿‘çš„early_stopping_round å›åˆä¸­æ²¡æœ‰æé«˜ï¼Œæ¨¡å‹å°†åœæ­¢è®­ç»ƒ åŠ é€Ÿåˆ†æï¼Œå‡å°‘è¿‡å¤šè¿­ä»£ lambda æŒ‡å®šæ­£åˆ™åŒ– 0ï½1 min_gain_to_split æè¿°åˆ†è£‚çš„æœ€å° gain æ§åˆ¶æ ‘çš„æœ‰ç”¨çš„åˆ†è£‚ max_cat_group åœ¨ group è¾¹ç•Œä¸Šæ‰¾åˆ°åˆ†å‰²ç‚¹ å½“ç±»åˆ«æ•°é‡å¾ˆå¤šæ—¶ï¼Œæ‰¾åˆ†å‰²ç‚¹å¾ˆ ","date":"2020-02-10","objectID":"https://mayuanucas.github.io/xgboost-lightgbm/:10:1","tags":["æœºå™¨å­¦ä¹ ","æ•°æ®æŒ–æ˜","sklearn"],"title":"XGBoostã€LightGBMã€CatBoost","uri":"https://mayuanucas.github.io/xgboost-lightgbm/"},{"categories":["æœºå™¨å­¦ä¹ "],"content":"æ ¸å¿ƒå‚æ•° CoreParameters å«ä¹‰ ç”¨æ³• Task æ•°æ®çš„ç”¨é€” é€‰æ‹© train æˆ–è€… predict application æ¨¡å‹çš„ç”¨é€” é€‰æ‹© regression: å›å½’æ—¶ï¼Œbinary: äºŒåˆ†ç±»æ—¶ï¼Œmulticlass: å¤šåˆ†ç±»æ—¶ boosting è¦ç”¨çš„ç®—æ³• gbdtï¼Œ rf: random forestï¼Œ dart: Dropouts meet Multiple Additive Regression Treesï¼Œ goss: Gradient-based One-Side Sampling num_boost_round è¿­ä»£æ¬¡æ•° é€šå¸¸ 100+ learning_rate å¦‚æœä¸€æ¬¡éªŒè¯æ•°æ®çš„ä¸€ä¸ªåº¦é‡åœ¨æœ€è¿‘çš„ early_stopping_round å›åˆä¸­æ²¡æœ‰æé«˜ï¼Œæ¨¡å‹å°†åœæ­¢è®­ç»ƒ å¸¸ç”¨ 0.1, 0.001, 0.003â€¦ num_leaves é»˜è®¤ 31 device cpu æˆ–è€… gpu metric mae: mean absolute error ï¼Œ mse: mean squared error ï¼Œ binary_logloss: loss for binary classification ï¼Œ multi_logloss: loss for multi classification ","date":"2020-02-10","objectID":"https://mayuanucas.github.io/xgboost-lightgbm/:10:2","tags":["æœºå™¨å­¦ä¹ ","æ•°æ®æŒ–æ˜","sklearn"],"title":"XGBoostã€LightGBMã€CatBoost","uri":"https://mayuanucas.github.io/xgboost-lightgbm/"},{"categories":["æœºå™¨å­¦ä¹ "],"content":"IOå‚æ•° IO parameter å«ä¹‰ max_bin è¡¨ç¤º feature å°†å­˜å…¥çš„ bin çš„æœ€å¤§æ•°é‡ categorical_feature å¦‚æœ categorical_features = 0,1,2ï¼Œ åˆ™åˆ— 0ï¼Œ1ï¼Œ2æ˜¯ categorical å˜é‡ ignore_column ä¸ categorical_features ç±»ä¼¼ï¼Œåªä¸è¿‡ä¸æ˜¯å°†ç‰¹å®šçš„åˆ—è§†ä¸ºcategoricalï¼Œè€Œæ˜¯å®Œå…¨å¿½ç•¥ save_binary è¿™ä¸ªå‚æ•°ä¸º true æ—¶ï¼Œåˆ™æ•°æ®é›†è¢«ä¿å­˜ä¸ºäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œä¸‹æ¬¡è¯»æ•°æ®æ—¶é€Ÿåº¦ä¼šå˜å¿« ","date":"2020-02-10","objectID":"https://mayuanucas.github.io/xgboost-lightgbm/:10:3","tags":["æœºå™¨å­¦ä¹ ","æ•°æ®æŒ–æ˜","sklearn"],"title":"XGBoostã€LightGBMã€CatBoost","uri":"https://mayuanucas.github.io/xgboost-lightgbm/"},{"categories":["æœºå™¨å­¦ä¹ "],"content":"è°ƒå‚ IO parameter å«ä¹‰ num_leaves å–å€¼åº” \u003c= 2 ^ï¼ˆmax_depthï¼‰ï¼Œ è¶…è¿‡æ­¤å€¼ä¼šå¯¼è‡´è¿‡æ‹Ÿåˆ min_data_in_leaf å°†å®ƒè®¾ç½®ä¸ºè¾ƒå¤§çš„å€¼å¯ä»¥é¿å…ç”Ÿé•¿å¤ªæ·±çš„æ ‘ï¼Œä½†å¯èƒ½ä¼šå¯¼è‡´ underfittingï¼Œåœ¨å¤§å‹æ•°æ®é›†æ—¶å°±è®¾ç½®ä¸ºæ•°ç™¾æˆ–æ•°åƒ max_depth è¿™ä¸ªä¹Ÿæ˜¯å¯ä»¥é™åˆ¶æ ‘çš„æ·±åº¦ ä¸‹è¡¨å¯¹åº”äº† Faster Speed ï¼Œbetter accuracy ï¼Œover-fitting ä¸‰ç§ç›®çš„æ—¶ï¼Œå¯ä»¥è°ƒçš„å‚æ•°ï¼š Faster Speed better accuracy over-fitting å°† max_bin è®¾ç½®å°ä¸€äº› ç”¨è¾ƒå¤§çš„ max_bin max_bin å°ä¸€äº› num_leaves å¤§ä¸€äº› num_leaves å°ä¸€äº› ç”¨ feature_fraction æ¥åš sub-sampling ç”¨ feature_fraction ç”¨ bagging_fraction å’Œ bagging_freq è®¾å®š bagging_fraction å’Œ bagging_freq training data å¤šä¸€äº› training data å¤šä¸€äº› ç”¨ save_binary æ¥åŠ é€Ÿæ•°æ®åŠ è½½ ç›´æ¥ç”¨ categorical feature ç”¨ gmin_data_in_leaf å’Œ min_sum_hessian_in_leaf ç”¨ parallel learning ç”¨ dart ç”¨ lambda_l1, lambda_l2 ï¼Œmin_gain_to_split åšæ­£åˆ™åŒ– num_iterations å¤§ä¸€äº›ï¼Œlearning_rate å°ä¸€äº› ç”¨ max_depth æ§åˆ¶æ ‘çš„æ·±åº¦ CatBoost ","date":"2020-02-10","objectID":"https://mayuanucas.github.io/xgboost-lightgbm/:10:4","tags":["æœºå™¨å­¦ä¹ ","æ•°æ®æŒ–æ˜","sklearn"],"title":"XGBoostã€LightGBMã€CatBoost","uri":"https://mayuanucas.github.io/xgboost-lightgbm/"},{"categories":["æœºå™¨å­¦ä¹ "],"content":"ç®€ä»‹ CatBoostæ˜¯ä¿„ç½—æ–¯çš„æœç´¢å·¨å¤´ Yandex åœ¨2017å¹´å¼€æºçš„æœºå™¨å­¦ä¹ åº“ï¼Œä¹Ÿæ˜¯Boostingæ—ç®—æ³•çš„ä¸€ç§ï¼ŒåŒå‰é¢ä»‹ç»è¿‡çš„XGBoostå’ŒLightGBMç±»ä¼¼ï¼Œä¾ç„¶æ˜¯åœ¨GBDTç®—æ³•æ¡†æ¶ä¸‹çš„ä¸€ç§æ”¹è¿›å®ç°ï¼Œæ˜¯ä¸€ç§åŸºäºå¯¹ç§°å†³ç­–æ ‘ï¼ˆoblivious treesï¼‰ç®—æ³•çš„å‚æ•°å°‘ã€æ”¯æŒç±»åˆ«å‹å˜é‡å’Œé«˜å‡†ç¡®æ€§çš„GBDTæ¡†æ¶ï¼Œä¸»è¦è¯´è§£å†³çš„ç—›ç‚¹æ˜¯é«˜æ•ˆåˆç†åœ°å¤„ç†ç±»åˆ«å‹ç‰¹å¾ï¼Œè¿™ä¸ªä»å®ƒçš„åå­—å°±å¯ä»¥çœ‹å¾—å‡ºæ¥ï¼ŒCatBoostæ˜¯ç”±catgoricalå’Œboostç»„æˆï¼Œå¦å¤–æ˜¯å¤„ç†æ¢¯åº¦åå·®ï¼ˆGradient biasï¼‰ä»¥åŠé¢„æµ‹åç§»ï¼ˆPrediction shiftï¼‰é—®é¢˜ï¼Œæé«˜ç®—æ³•çš„å‡†ç¡®æ€§å’Œæ³›åŒ–èƒ½åŠ›ã€‚ ä¸XGBoostã€LightGBMç›¸æ¯”ï¼ŒCatBoostçš„åˆ›æ–°ç‚¹æœ‰ï¼š åµŒå…¥äº†è‡ªåŠ¨å°†ç±»åˆ«å‹ç‰¹å¾å¤„ç†ä¸ºæ•°å€¼å‹ç‰¹å¾çš„åˆ›æ–°ç®—æ³•ã€‚é¦–å…ˆå¯¹categorical featuresåšä¸€äº›ç»Ÿè®¡ï¼Œè®¡ç®—æŸä¸ªç±»åˆ«ç‰¹å¾ï¼ˆcategoryï¼‰å‡ºç°çš„é¢‘ç‡ï¼Œä¹‹ååŠ ä¸Šè¶…å‚æ•°ï¼Œç”Ÿæˆæ–°çš„æ•°å€¼å‹ç‰¹å¾ï¼ˆnumerical featuresï¼‰ã€‚ Catboostè¿˜ä½¿ç”¨äº†ç»„åˆç±»åˆ«ç‰¹å¾ï¼Œå¯ä»¥åˆ©ç”¨åˆ°ç‰¹å¾ä¹‹é—´çš„è”ç³»ï¼Œè¿™æå¤§çš„ä¸°å¯Œäº†ç‰¹å¾ç»´åº¦ã€‚ é‡‡ç”¨æ’åºæå‡çš„æ–¹æ³•å¯¹æŠ—è®­ç»ƒé›†ä¸­çš„å™ªå£°ç‚¹ï¼Œä»è€Œé¿å…æ¢¯åº¦ä¼°è®¡çš„åå·®ï¼Œè¿›è€Œè§£å†³é¢„æµ‹åç§»çš„é—®é¢˜ã€‚ é‡‡ç”¨äº†å®Œå…¨å¯¹ç§°æ ‘ä½œä¸ºåŸºæ¨¡å‹ã€‚ ","date":"2020-02-10","objectID":"https://mayuanucas.github.io/xgboost-lightgbm/:11:0","tags":["æœºå™¨å­¦ä¹ ","æ•°æ®æŒ–æ˜","sklearn"],"title":"XGBoostã€LightGBMã€CatBoost","uri":"https://mayuanucas.github.io/xgboost-lightgbm/"},{"categories":["æœºå™¨å­¦ä¹ "],"content":"ç±»åˆ«å‹ç‰¹å¾ ","date":"2020-02-10","objectID":"https://mayuanucas.github.io/xgboost-lightgbm/:12:0","tags":["æœºå™¨å­¦ä¹ ","æ•°æ®æŒ–æ˜","sklearn"],"title":"XGBoostã€LightGBMã€CatBoost","uri":"https://mayuanucas.github.io/xgboost-lightgbm/"},{"categories":["æœºå™¨å­¦ä¹ "],"content":"ç±»åˆ«å‹ç‰¹å¾çš„ç›¸å…³å·¥ä½œ æ‰€è°“ç±»åˆ«å‹ç‰¹å¾ï¼Œå³è¿™ç±»ç‰¹å¾ä¸æ˜¯æ•°å€¼å‹ç‰¹å¾ï¼Œè€Œæ˜¯ç¦»æ•£çš„é›†åˆï¼Œæ¯”å¦‚çœä»½åï¼ˆå±±ä¸œã€å±±è¥¿ã€æ²³åŒ—ç­‰ï¼‰ï¼ŒåŸå¸‚åï¼ˆåŒ—äº¬ã€ä¸Šæµ·ã€æ·±åœ³ç­‰ï¼‰ï¼Œå­¦å†ï¼ˆæœ¬ç§‘ã€ç¡•å£«ã€åšå£«ç­‰ï¼‰ã€‚åœ¨æ¢¯åº¦æå‡ç®—æ³•ä¸­ï¼Œæœ€å¸¸ç”¨çš„æ˜¯å°†è¿™äº›ç±»åˆ«å‹ç‰¹å¾è½¬ä¸ºæ•°å€¼å‹æ¥å¤„ç†ï¼Œä¸€èˆ¬ç±»åˆ«å‹ç‰¹å¾ä¼šè½¬åŒ–ä¸ºä¸€ä¸ªæˆ–å¤šä¸ªæ•°å€¼å‹ç‰¹å¾ã€‚ å¦‚æœæŸä¸ªç±»åˆ«å‹ç‰¹å¾åŸºæ•°æ¯”è¾ƒä½ï¼ˆlow-cardinality featuresï¼‰ï¼Œå³è¯¥ç‰¹å¾çš„æ‰€æœ‰å€¼å»é‡åæ„æˆçš„é›†åˆå…ƒç´ ä¸ªæ•°æ¯”è¾ƒå°‘ï¼Œä¸€èˆ¬åˆ©ç”¨One-hotç¼–ç æ–¹æ³•å°†ç‰¹å¾è½¬ä¸ºæ•°å€¼å‹ã€‚One-hotç¼–ç å¯ä»¥åœ¨æ•°æ®é¢„å¤„ç†æ—¶å®Œæˆï¼Œä¹Ÿå¯ä»¥åœ¨æ¨¡å‹è®­ç»ƒçš„æ—¶å€™å®Œæˆï¼Œä»è®­ç»ƒæ—¶é—´çš„è§’åº¦ï¼Œåä¸€ç§æ–¹æ³•çš„å®ç°æ›´ä¸ºé«˜æ•ˆï¼ŒCatBoostå¯¹äºåŸºæ•°è¾ƒä½çš„ç±»åˆ«å‹ç‰¹å¾ä¹Ÿæ˜¯é‡‡ç”¨åä¸€ç§å®ç°ã€‚ æ˜¾ç„¶ï¼Œåœ¨é«˜åŸºæ•°ç±»åˆ«å‹ç‰¹å¾ï¼ˆhigh cardinality featuresï¼‰ å½“ä¸­ï¼Œæ¯”å¦‚ user IDï¼Œè¿™ç§ç¼–ç æ–¹å¼ä¼šäº§ç”Ÿå¤§é‡æ–°çš„ç‰¹å¾ï¼Œé€ æˆç»´åº¦ç¾éš¾ã€‚ä¸€ç§æŠ˜ä¸­çš„åŠæ³•æ˜¯å¯ä»¥å°†ç±»åˆ«åˆ†ç»„æˆæœ‰é™ä¸ªçš„ç¾¤ä½“å†è¿›è¡ŒOne-hotç¼–ç ã€‚ä¸€ç§å¸¸è¢«ä½¿ç”¨çš„æ–¹æ³•æ˜¯æ ¹æ®ç›®æ ‡å˜é‡ç»Ÿè®¡ï¼ˆTarget Statisticsï¼Œä»¥ä¸‹ç®€ç§°TSï¼‰è¿›è¡Œåˆ†ç»„ï¼Œç›®æ ‡å˜é‡ç»Ÿè®¡ç”¨äºä¼°ç®—æ¯ä¸ªç±»åˆ«çš„ç›®æ ‡å˜é‡æœŸæœ›å€¼ã€‚ç”šè‡³æœ‰äººç›´æ¥ç”¨TSä½œä¸ºä¸€ä¸ªæ–°çš„æ•°å€¼å‹å˜é‡æ¥ä»£æ›¿åŸæ¥çš„ç±»åˆ«å‹å˜é‡ã€‚é‡è¦çš„æ˜¯ï¼Œå¯ä»¥é€šè¿‡å¯¹TSæ•°å€¼å‹ç‰¹å¾çš„é˜ˆå€¼è®¾ç½®ï¼ŒåŸºäºå¯¹æ•°æŸå¤±ã€åŸºå°¼ç³»æ•°æˆ–è€…å‡æ–¹å·®ï¼Œå¾—åˆ°ä¸€ä¸ªå¯¹äºè®­ç»ƒé›†è€Œè¨€å°†ç±»åˆ«ä¸€åˆ†ä¸ºäºŒçš„æ‰€æœ‰å¯èƒ½åˆ’åˆ†å½“ä¸­æœ€ä¼˜çš„é‚£ä¸ªã€‚åœ¨LightGBMå½“ä¸­ï¼Œç±»åˆ«å‹ç‰¹å¾ç”¨æ¯ä¸€æ­¥æ¢¯åº¦æå‡æ—¶çš„æ¢¯åº¦ç»Ÿè®¡ï¼ˆGradient Statisticsï¼Œä»¥ä¸‹ç®€ç§°GSï¼‰æ¥è¡¨ç¤ºã€‚è™½ç„¶ä¸ºå»ºæ ‘æä¾›äº†é‡è¦çš„ä¿¡æ¯ï¼Œä½†æ˜¯è¿™ç§æ–¹æ³•æœ‰ä»¥ä¸‹ä¸¤ä¸ªç¼ºç‚¹ï¼š å¢åŠ è®¡ç®—æ—¶é—´ï¼Œå› ä¸ºéœ€è¦å¯¹æ¯ä¸€ä¸ªç±»åˆ«å‹ç‰¹å¾ï¼Œåœ¨è¿­ä»£çš„æ¯ä¸€æ­¥ï¼Œéƒ½éœ€è¦å¯¹GSè¿›è¡Œè®¡ç®—ï¼› å¢åŠ å­˜å‚¨éœ€æ±‚ï¼Œå¯¹äºä¸€ä¸ªç±»åˆ«å‹å˜é‡ï¼Œéœ€è¦å­˜å‚¨æ¯ä¸€æ¬¡åˆ†ç¦»æ¯ä¸ªèŠ‚ç‚¹çš„ç±»åˆ«ï¼› ä¸ºäº†å…‹æœè¿™äº›ç¼ºç‚¹ï¼ŒLightGBMä»¥æŸå¤±éƒ¨åˆ†ä¿¡æ¯ä¸ºä»£ä»·å°†æ‰€æœ‰çš„é•¿å°¾ç±»åˆ«å½’ä¸ºä¸€ç±»ï¼Œä½œè€…å£°ç§°è¿™æ ·å¤„ç†é«˜åŸºæ•°ç±»åˆ«å‹ç‰¹å¾æ—¶æ¯”One-hotç¼–ç è¿˜æ˜¯å¥½ä¸å°‘ã€‚ä¸è¿‡å¦‚æœé‡‡ç”¨TSç‰¹å¾ï¼Œé‚£ä¹ˆå¯¹äºæ¯ä¸ªç±»åˆ«åªéœ€è¦è®¡ç®—å’Œå­˜å‚¨ä¸€ä¸ªæ•°å­—ã€‚ å› æ­¤ï¼Œé‡‡ç”¨TSä½œä¸ºä¸€ä¸ªæ–°çš„æ•°å€¼å‹ç‰¹å¾æ˜¯æœ€æœ‰æ•ˆã€ä¿¡æ¯æŸå¤±æœ€å°çš„å¤„ç†ç±»åˆ«å‹ç‰¹å¾çš„æ–¹æ³•ã€‚TSä¹Ÿè¢«å¹¿æ³›åº”ç”¨åœ¨ç‚¹å‡»é¢„æµ‹ä»»åŠ¡å½“ä¸­ï¼Œè¿™ä¸ªåœºæ™¯å½“ä¸­çš„ç±»åˆ«å‹ç‰¹å¾æœ‰ç”¨æˆ·ã€åœ°åŒºã€å¹¿å‘Šã€å¹¿å‘Šå‘å¸ƒè€…ç­‰ã€‚æ¥ä¸‹æ¥ç€é‡è®¨è®ºTSï¼Œæš‚æ—¶å°†One-hotç¼–ç å’ŒGSæ”¾ä¸€è¾¹ã€‚ ","date":"2020-02-10","objectID":"https://mayuanucas.github.io/xgboost-lightgbm/:12:1","tags":["æœºå™¨å­¦ä¹ ","æ•°æ®æŒ–æ˜","sklearn"],"title":"XGBoostã€LightGBMã€CatBoost","uri":"https://mayuanucas.github.io/xgboost-lightgbm/"},{"categories":["æœºå™¨å­¦ä¹ "],"content":"ç›®æ ‡å˜é‡ç»Ÿè®¡ï¼ˆTarget Statisticsï¼‰ CatBoostç®—æ³•çš„è®¾è®¡åˆè¡·æ˜¯ä¸ºäº†æ›´å¥½çš„å¤„ç†GBDTç‰¹å¾ä¸­çš„categorical featuresã€‚åœ¨å¤„ç† GBDTç‰¹å¾ä¸­çš„categorical featuresçš„æ—¶å€™ï¼Œæœ€ç®€å•çš„æ–¹æ³•æ˜¯ç”¨ categorical feature å¯¹åº”çš„æ ‡ç­¾çš„å¹³å‡å€¼æ¥æ›¿æ¢ã€‚ åœ¨å†³ç­–æ ‘ä¸­ï¼Œæ ‡ç­¾å¹³å‡å€¼å°†ä½œä¸ºèŠ‚ç‚¹åˆ†è£‚çš„æ ‡å‡†ã€‚è¿™ç§æ–¹æ³•è¢«ç§°ä¸º Greedy Target-based Statistics , ç®€ç§° Greedy TSï¼Œç”¨å…¬å¼æ¥è¡¨è¾¾å°±æ˜¯ï¼š $$ \\hat x_k^{i} = \\frac {\\sum_{j=1}^n[x_{j,k} = x_{i,k}] * Y_i}{\\sum_{j=1}^n[x_{j,k} = x_{i,k}]} $$ è¿™ç§æ–¹æ³•æœ‰ä¸€ä¸ªæ˜¾è€Œæ˜“è§çš„ç¼ºé™·ï¼Œå°±æ˜¯é€šå¸¸ç‰¹å¾æ¯”æ ‡ç­¾åŒ…å«æ›´å¤šçš„ä¿¡æ¯ï¼Œå¦‚æœå¼ºè¡Œç”¨æ ‡ç­¾çš„å¹³å‡å€¼æ¥è¡¨ç¤ºç‰¹å¾çš„è¯ï¼Œå½“è®­ç»ƒæ•°æ®é›†å’Œæµ‹è¯•æ•°æ®é›†æ•°æ®ç»“æ„å’Œåˆ†å¸ƒä¸ä¸€æ ·çš„æ—¶å€™ä¼šå‡ºæ¡ä»¶åç§»é—®é¢˜ã€‚ ä¸€ä¸ªæ ‡å‡†çš„æ”¹è¿› Greedy TSçš„æ–¹å¼æ˜¯æ·»åŠ å…ˆéªŒåˆ†å¸ƒé¡¹ï¼Œè¿™æ ·å¯ä»¥å‡å°‘å™ªå£°å’Œä½é¢‘ç‡ç±»åˆ«å‹æ•°æ®å¯¹äºæ•°æ®åˆ†å¸ƒçš„å½±å“ï¼š $$ \\hat x_k^i = \\frac {\\sum_{j=1}^{p-1}[x_{\\sigma_{j,k}} = x_{\\sigma_{p,k}}]Y_{\\sigma_j} + a * p}{\\sum_{j=1}^{p-1}[x_{\\sigma_{j,k}} = x_{\\sigma_{p,k}}] + a} $$ å…¶ä¸­ p æ˜¯æ·»åŠ çš„å…ˆéªŒé¡¹ï¼Œ a é€šå¸¸æ˜¯å¤§äº 0 çš„æƒé‡ç³»æ•°ã€‚æ·»åŠ å…ˆéªŒé¡¹æ˜¯ä¸€ä¸ªæ™®éåšæ³•ï¼Œé’ˆå¯¹ç±»åˆ«æ•°è¾ƒå°‘çš„ç‰¹å¾ï¼Œå®ƒå¯ä»¥å‡å°‘å™ªå£°æ•°æ®ã€‚å¯¹äºå›å½’é—®é¢˜ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå…ˆéªŒé¡¹å¯å–æ•°æ®é›†labelçš„å‡å€¼ã€‚å¯¹äºäºŒåˆ†ç±»ï¼Œå…ˆéªŒé¡¹æ˜¯æ­£ä¾‹çš„å…ˆéªŒæ¦‚ç‡ã€‚åˆ©ç”¨å¤šä¸ªæ•°æ®é›†æ’åˆ—ä¹Ÿæ˜¯æœ‰æ•ˆçš„ï¼Œä½†æ˜¯ï¼Œå¦‚æœç›´æ¥è®¡ç®—å¯èƒ½å¯¼è‡´è¿‡æ‹Ÿåˆã€‚CatBooståˆ©ç”¨äº†ä¸€ä¸ªæ¯”è¾ƒæ–°é¢–çš„è®¡ç®—å¶å­èŠ‚ç‚¹å€¼çš„æ–¹æ³•ï¼Œè¿™ç§æ–¹å¼ï¼ˆoblivious treesï¼Œå¯¹ç§°æ ‘ï¼‰å¯ä»¥é¿å…å¤šä¸ªæ•°æ®é›†æ’åˆ—ä¸­ç›´æ¥è®¡ç®—ä¼šå‡ºç°è¿‡æ‹Ÿåˆçš„é—®é¢˜ã€‚ å½“ç„¶ï¼Œåœ¨è®ºæ–‡ã€ŠCatBoost: unbiased boosting with categorical featuresã€‹ä¸­ï¼Œè¿˜æåˆ°äº†å…¶å®ƒå‡ ç§æ”¹è¿›Greedy TSçš„æ–¹æ³•ï¼Œåˆ†åˆ«æœ‰ï¼šHoldout TSã€Leave-one-out TSã€Ordered TSã€‚ ","date":"2020-02-10","objectID":"https://mayuanucas.github.io/xgboost-lightgbm/:12:2","tags":["æœºå™¨å­¦ä¹ ","æ•°æ®æŒ–æ˜","sklearn"],"title":"XGBoostã€LightGBMã€CatBoost","uri":"https://mayuanucas.github.io/xgboost-lightgbm/"},{"categories":["æœºå™¨å­¦ä¹ "],"content":"ç‰¹å¾ç»„åˆ å€¼å¾—æ³¨æ„çš„æ˜¯å‡ ä¸ªç±»åˆ«å‹ç‰¹å¾çš„ä»»æ„ç»„åˆéƒ½å¯è§†ä¸ºæ–°çš„ç‰¹å¾ã€‚ä¾‹å¦‚ï¼Œåœ¨éŸ³ä¹æ¨èåº”ç”¨ä¸­ï¼Œæˆ‘ä»¬æœ‰ä¸¤ä¸ªç±»åˆ«å‹ç‰¹å¾ï¼šç”¨æˆ·IDå’ŒéŸ³ä¹æµæ´¾ã€‚å¦‚æœæœ‰äº›ç”¨æˆ·æ›´å–œæ¬¢æ‘‡æ»šä¹ï¼Œå°†ç”¨æˆ·IDå’ŒéŸ³ä¹æµæ´¾è½¬æ¢ä¸ºæ•°å­—ç‰¹å¾æ—¶ï¼Œæ ¹æ®ä¸Šè¿°è¿™äº›ä¿¡æ¯å°±ä¼šä¸¢å¤±ã€‚ç»“åˆè¿™ä¸¤ä¸ªç‰¹å¾å°±å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¹¶ä¸”å¯ä»¥å¾—åˆ°ä¸€ä¸ªæ–°çš„å¼ºå¤§çš„ç‰¹å¾ã€‚ç„¶è€Œï¼Œç»„åˆçš„æ•°é‡ä¼šéšç€æ•°æ®é›†ä¸­ç±»åˆ«å‹ç‰¹å¾çš„æ•°é‡æˆæŒ‡æ•°å¢é•¿ï¼Œå› æ­¤ä¸å¯èƒ½åœ¨ç®—æ³•ä¸­è€ƒè™‘æ‰€æœ‰ç»„åˆã€‚ä¸ºå½“å‰æ ‘æ„é€ æ–°çš„åˆ†å‰²ç‚¹æ—¶ï¼ŒCatBoostä¼šé‡‡ç”¨è´ªå©ªçš„ç­–ç•¥è€ƒè™‘ç»„åˆã€‚å¯¹äºæ ‘çš„ç¬¬ä¸€æ¬¡åˆ†å‰²ï¼Œä¸è€ƒè™‘ä»»ä½•ç»„åˆã€‚å¯¹äºä¸‹ä¸€ä¸ªåˆ†å‰²ï¼ŒCatBoostå°†å½“å‰æ ‘çš„æ‰€æœ‰ç»„åˆã€ç±»åˆ«å‹ç‰¹å¾ä¸æ•°æ®é›†ä¸­çš„æ‰€æœ‰ç±»åˆ«å‹ç‰¹å¾ç›¸ç»“åˆï¼Œå¹¶å°†æ–°çš„ç»„åˆç±»åˆ«å‹ç‰¹å¾åŠ¨æ€åœ°è½¬æ¢ä¸ºæ•°å€¼å‹ç‰¹å¾ã€‚CatBoostè¿˜é€šè¿‡ä»¥ä¸‹æ–¹å¼ç”Ÿæˆæ•°å€¼å‹ç‰¹å¾å’Œç±»åˆ«å‹ç‰¹å¾çš„ç»„åˆï¼šæ ‘ä¸­é€‰å®šçš„æ‰€æœ‰åˆ†å‰²ç‚¹éƒ½è¢«è§†ä¸ºå…·æœ‰ä¸¤ä¸ªå€¼çš„ç±»åˆ«å‹ç‰¹å¾ï¼Œå¹¶åƒç±»åˆ«å‹ç‰¹å¾ä¸€æ ·è¢«è¿›è¡Œç»„åˆè€ƒè™‘ã€‚ ","date":"2020-02-10","objectID":"https://mayuanucas.github.io/xgboost-lightgbm/:12:3","tags":["æœºå™¨å­¦ä¹ ","æ•°æ®æŒ–æ˜","sklearn"],"title":"XGBoostã€LightGBMã€CatBoost","uri":"https://mayuanucas.github.io/xgboost-lightgbm/"},{"categories":["æœºå™¨å­¦ä¹ "],"content":"CatBoostå¤„ç†Categorical featuresæ€»ç»“ é¦–å…ˆä¼šè®¡ç®—ä¸€äº›æ•°æ®çš„statisticsã€‚è®¡ç®—æŸä¸ªcategoryå‡ºç°çš„é¢‘ç‡ï¼ŒåŠ ä¸Šè¶…å‚æ•°ï¼Œç”Ÿæˆæ–°çš„numerical featuresã€‚è¿™ä¸€ç­–ç•¥è¦æ±‚åŒä¸€æ ‡ç­¾æ•°æ®ä¸èƒ½æ’åˆ—åœ¨ä¸€èµ·ï¼ˆå³å…ˆå…¨æ˜¯0ä¹‹åå…¨æ˜¯1è¿™ç§æ–¹å¼ï¼‰ï¼Œè®­ç»ƒä¹‹å‰éœ€è¦æ‰“ä¹±æ•°æ®é›†ã€‚ ç¬¬äºŒï¼Œä½¿ç”¨æ•°æ®çš„ä¸åŒæ’åˆ—ï¼ˆå®é™…ä¸Šæ˜¯4ä¸ªï¼‰ã€‚åœ¨æ¯ä¸€è½®å»ºç«‹æ ‘ä¹‹å‰ï¼Œå…ˆæ‰”ä¸€è½®éª°å­ï¼Œå†³å®šä½¿ç”¨å“ªä¸ªæ’åˆ—æ¥ç”Ÿæˆæ ‘ã€‚ ç¬¬ä¸‰ï¼Œè€ƒè™‘ä½¿ç”¨categorical featuresçš„ä¸åŒç»„åˆã€‚ä¾‹å¦‚é¢œè‰²å’Œç§ç±»ç»„åˆèµ·æ¥ï¼Œå¯ä»¥æ„æˆç±»ä¼¼äºblue dogè¿™æ ·çš„ç‰¹å¾ã€‚å½“éœ€è¦ç»„åˆçš„categorical featureså˜å¤šæ—¶ï¼ŒCatBooståªè€ƒè™‘ä¸€éƒ¨åˆ†combinationsã€‚åœ¨é€‰æ‹©ç¬¬ä¸€ä¸ªèŠ‚ç‚¹æ—¶ï¼Œåªè€ƒè™‘é€‰æ‹©ä¸€ä¸ªç‰¹å¾ï¼Œä¾‹å¦‚Aã€‚åœ¨ç”Ÿæˆç¬¬äºŒä¸ªèŠ‚ç‚¹æ—¶ï¼Œè€ƒè™‘Aå’Œä»»æ„ä¸€ä¸ªcategorical featureçš„ç»„åˆï¼Œé€‰æ‹©å…¶ä¸­æœ€å¥½çš„ã€‚å°±è¿™æ ·ä½¿ç”¨è´ªå¿ƒç®—æ³•ç”Ÿæˆcombinationsã€‚ ç¬¬å››ï¼Œé™¤éå‘genderè¿™ç§ç»´æ•°å¾ˆå°çš„æƒ…å†µï¼Œä¸å»ºè®®è‡ªå·±ç”ŸæˆOne-hotç¼–ç å‘é‡ï¼Œæœ€å¥½äº¤ç»™ç®—æ³•æ¥å¤„ç†ã€‚ ","date":"2020-02-10","objectID":"https://mayuanucas.github.io/xgboost-lightgbm/:12:4","tags":["æœºå™¨å­¦ä¹ ","æ•°æ®æŒ–æ˜","sklearn"],"title":"XGBoostã€LightGBMã€CatBoost","uri":"https://mayuanucas.github.io/xgboost-lightgbm/"},{"categories":["æœºå™¨å­¦ä¹ "],"content":"å…‹æœæ¢¯åº¦åå·® å¯¹äºå­¦ä¹ CatBoostå…‹æœæ¢¯åº¦åå·®çš„å†…å®¹ï¼Œæå‡ºäº†ä¸‰ä¸ªé—®é¢˜ï¼š ä¸ºä»€ä¹ˆä¼šæœ‰æ¢¯åº¦åå·®ï¼Ÿ æ¢¯åº¦åå·®é€ æˆäº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ å¦‚ä½•è§£å†³æ¢¯åº¦åå·®ï¼Ÿ CatBoostå’Œæ‰€æœ‰æ ‡å‡†æ¢¯åº¦æå‡ç®—æ³•ä¸€æ ·ï¼Œéƒ½æ˜¯é€šè¿‡æ„å»ºæ–°æ ‘æ¥æ‹Ÿåˆå½“å‰æ¨¡å‹çš„æ¢¯åº¦ã€‚ç„¶è€Œï¼Œæ‰€æœ‰ç»å…¸çš„æå‡ç®—æ³•éƒ½å­˜åœ¨ç”±æœ‰åçš„ç‚¹æ€æ¢¯åº¦ä¼°è®¡å¼•èµ·çš„è¿‡æ‹Ÿåˆé—®é¢˜ã€‚åœ¨æ¯ä¸ªæ­¥éª¤ä¸­ä½¿ç”¨çš„æ¢¯åº¦éƒ½ä½¿ç”¨å½“å‰æ¨¡å‹ä¸­çš„ç›¸åŒçš„æ•°æ®ç‚¹æ¥ä¼°è®¡ï¼Œè¿™å¯¼è‡´ä¼°è®¡æ¢¯åº¦åœ¨ç‰¹å¾ç©ºé—´çš„ä»»ä½•åŸŸä¸­çš„åˆ†å¸ƒä¸è¯¥åŸŸä¸­æ¢¯åº¦çš„çœŸå®åˆ†å¸ƒç›¸æ¯”å‘ç”Ÿäº†åç§»ï¼Œä»è€Œå¯¼è‡´è¿‡æ‹Ÿåˆã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒCatBoostå¯¹ç»å…¸çš„æ¢¯åº¦æå‡ç®—æ³•è¿›è¡Œäº†ä¸€äº›æ”¹è¿›ï¼Œç®€è¦ä»‹ç»å¦‚ä¸‹ã€‚ è®¸å¤šåˆ©ç”¨GBDTæŠ€æœ¯çš„ç®—æ³•ï¼ˆä¾‹å¦‚ï¼ŒXGBoostã€LightGBMï¼‰ï¼Œæ„å»ºä¸‹ä¸€æ£µæ ‘åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µï¼šé€‰æ‹©æ ‘ç»“æ„å’Œåœ¨æ ‘ç»“æ„å›ºå®šåè®¡ç®—å¶å­èŠ‚ç‚¹çš„å€¼ã€‚ä¸ºäº†é€‰æ‹©æœ€ä½³çš„æ ‘ç»“æ„ï¼Œç®—æ³•é€šè¿‡æšä¸¾ä¸åŒçš„åˆ†å‰²ï¼Œç”¨è¿™äº›åˆ†å‰²æ„å»ºæ ‘ï¼Œå¯¹å¾—åˆ°çš„å¶å­èŠ‚ç‚¹è®¡ç®—å€¼ï¼Œç„¶åå¯¹å¾—åˆ°çš„æ ‘è®¡ç®—è¯„åˆ†ï¼Œæœ€åé€‰æ‹©æœ€ä½³çš„åˆ†å‰²ã€‚ä¸¤ä¸ªé˜¶æ®µå¶å­èŠ‚ç‚¹çš„å€¼éƒ½æ˜¯è¢«å½“åšæ¢¯åº¦æˆ–ç‰›é¡¿æ­¥é•¿çš„è¿‘ä¼¼å€¼æ¥è®¡ç®—ã€‚åœ¨CatBoostä¸­ï¼Œç¬¬ä¸€é˜¶æ®µé‡‡ç”¨æ¢¯åº¦æ­¥é•¿çš„æ— åä¼°è®¡ï¼Œç¬¬äºŒé˜¶æ®µä½¿ç”¨ä¼ ç»Ÿçš„GBDTæ–¹æ¡ˆæ‰§è¡Œã€‚æ—¢ç„¶åŸæ¥çš„æ¢¯åº¦ä¼°è®¡æ˜¯æœ‰åçš„ï¼Œé‚£ä¹ˆæ€ä¹ˆèƒ½æ”¹æˆæ— åä¼°è®¡å‘¢ï¼Ÿ è®¾ $F_i$ ä¸ºæ„å»ºi æ£µæ ‘åçš„æ¨¡å‹ï¼Œ$g^i(X_k,Y_k)$ ä¸ºæ„å»º iæ£µæ ‘åç¬¬k ä¸ªè®­ç»ƒæ ·æœ¬ä¸Šé¢çš„æ¢¯åº¦å€¼ã€‚ä¸ºäº†ä½¿å¾—$g^i(X_k,Y_k)$ æ— åäºæ¨¡å‹ $F_i$ ï¼Œæˆ‘ä»¬éœ€è¦åœ¨æ²¡æœ‰$X_k$ å‚ä¸çš„æƒ…å†µä¸‹å¯¹æ¨¡å‹ è¿›è¡Œè®­ç»ƒã€‚ç”±äºæˆ‘ä»¬éœ€è¦å¯¹æ‰€æœ‰è®­ç»ƒæ ·æœ¬è®¡ç®—æ— åçš„æ¢¯åº¦ä¼°è®¡ï¼Œä¹çœ‹èµ·æ¥å¯¹äº$F_i$ çš„è®­ç»ƒä¸èƒ½ä½¿ç”¨ä»»ä½•æ ·æœ¬ï¼Œè²Œä¼¼æ— æ³•å®ç°çš„æ ·å­ã€‚æˆ‘ä»¬è¿ç”¨ä¸‹é¢è¿™ä¸ªæŠ€å·§æ¥å¤„ç†è¿™ä¸ªé—®é¢˜ï¼šå¯¹äºæ¯ä¸€ä¸ªæ ·æœ¬ $X_k$ï¼Œæˆ‘ä»¬è®­ç»ƒä¸€ä¸ªå•ç‹¬çš„æ¨¡å‹ $M_k$ï¼Œä¸”è¯¥æ¨¡å‹ä»ä¸ä½¿ç”¨åŸºäºè¯¥æ ·æœ¬çš„æ¢¯åº¦ä¼°è®¡è¿›è¡Œæ›´æ–°ã€‚æˆ‘ä»¬ä½¿ç”¨$M_k$ æ¥ä¼°è®¡ $X_k$ ä¸Šçš„æ¢¯åº¦ï¼Œå¹¶ä½¿ç”¨è¿™ä¸ªä¼°è®¡å¯¹ç»“æœæ ‘è¿›è¡Œè¯„åˆ†ã€‚ç”¨ä¼ªç æè¿°å¦‚ä¸‹ï¼Œå…¶ä¸­ $Loss(y_i, a)$ æ˜¯éœ€è¦ä¼˜åŒ–çš„æŸå¤±å‡½æ•°ï¼Œ y æ˜¯æ ‡ç­¾å€¼ï¼Œ a æ˜¯å…¬å¼è®¡ç®—å€¼ã€‚ ","date":"2020-02-10","objectID":"https://mayuanucas.github.io/xgboost-lightgbm/:13:0","tags":["æœºå™¨å­¦ä¹ ","æ•°æ®æŒ–æ˜","sklearn"],"title":"XGBoostã€LightGBMã€CatBoost","uri":"https://mayuanucas.github.io/xgboost-lightgbm/"},{"categories":["æœºå™¨å­¦ä¹ "],"content":"é¢„æµ‹åç§»å’Œæ’åºæå‡ ","date":"2020-02-10","objectID":"https://mayuanucas.github.io/xgboost-lightgbm/:14:0","tags":["æœºå™¨å­¦ä¹ ","æ•°æ®æŒ–æ˜","sklearn"],"title":"XGBoostã€LightGBMã€CatBoost","uri":"https://mayuanucas.github.io/xgboost-lightgbm/"},{"categories":["æœºå™¨å­¦ä¹ "],"content":"é¢„æµ‹åç§» å¯¹äºå­¦ä¹ é¢„æµ‹åç§»çš„å†…å®¹ï¼Œæå‡ºäº†ä¸¤ä¸ªé—®é¢˜ï¼š ä»€ä¹ˆæ˜¯é¢„æµ‹åç§»ï¼Ÿ ç”¨ä»€ä¹ˆåŠæ³•è§£å†³é¢„æµ‹åç§»é—®é¢˜ï¼Ÿ é¢„æµ‹åç§»ï¼ˆPrediction shiftï¼‰æ˜¯ç”±æ¢¯åº¦åå·®é€ æˆçš„ã€‚åœ¨GDBTçš„æ¯ä¸€æ­¥è¿­ä»£ä¸­, æŸå¤±å‡½æ•°ä½¿ç”¨ç›¸åŒçš„æ•°æ®é›†æ±‚å¾—å½“å‰æ¨¡å‹çš„æ¢¯åº¦, ç„¶åè®­ç»ƒå¾—åˆ°åŸºå­¦ä¹ å™¨, ä½†è¿™ä¼šå¯¼è‡´æ¢¯åº¦ä¼°è®¡åå·®, è¿›è€Œå¯¼è‡´æ¨¡å‹äº§ç”Ÿè¿‡æ‹Ÿåˆçš„é—®é¢˜ã€‚CatBoosté€šè¿‡é‡‡ç”¨æ’åºæå‡ ï¼ˆOrdered boostingï¼‰ çš„æ–¹å¼æ›¿æ¢ä¼ ç»Ÿç®—æ³•ä¸­æ¢¯åº¦ä¼°è®¡æ–¹æ³•ï¼Œè¿›è€Œå‡è½»æ¢¯åº¦ä¼°è®¡çš„åå·®ï¼Œæé«˜æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›ã€‚ä¸‹é¢æˆ‘ä»¬å¯¹é¢„æµ‹åç§»è¿›è¡Œè¯¦ç»†çš„æè¿°å’Œåˆ†æã€‚ é¦–å…ˆæ¥çœ‹ä¸‹GBDTçš„æ•´ä½“è¿­ä»£è¿‡ç¨‹ï¼š GBDTç®—æ³•æ˜¯é€šè¿‡ä¸€ç»„åˆ†ç±»å™¨çš„ä¸²è¡Œè¿­ä»£ï¼Œæœ€ç»ˆå¾—åˆ°ä¸€ä¸ªå¼ºå­¦ä¹ å™¨ï¼Œä»¥æ­¤æ¥è¿›è¡Œæ›´é«˜ç²¾åº¦çš„åˆ†ç±»ã€‚å®ƒä½¿ç”¨äº†å‰å‘åˆ†å¸ƒç®—æ³•ï¼Œå¼±å­¦ä¹ å™¨ä½¿ç”¨åˆ†ç±»å›å½’æ ‘ï¼ˆCARTï¼‰ã€‚ å‡è®¾å‰ä¸€è½®è¿­ä»£å¾—åˆ°çš„å¼ºå­¦ä¹ å™¨æ˜¯ $F^{t-1}(x)$ , æŸå¤±å‡½æ•°æ˜¯$L(y, F^{t-1}(x))$ ï¼Œåˆ™æœ¬è½®è¿­ä»£çš„ç›®çš„æ˜¯æ‰¾åˆ°ä¸€ä¸ªCARTå›å½’æ ‘æ¨¡å‹çš„å¼±å­¦ä¹ å™¨ $h^t$ï¼Œè®©æœ¬è½®çš„æŸå¤±å‡½æ•°æœ€å°ã€‚ä¸‹é¢çš„å¼å­è¡¨ç¤ºçš„æ˜¯æœ¬è½®è¿­ä»£çš„ç›®æ ‡å‡½æ•° $h^t$ ã€‚ $$ h^t = \\arg \\min_{h\\in H}EL((y,F^{t-1}(x) + h(x))) $$ GBDTä½¿ç”¨æŸå¤±å‡½æ•°çš„è´Ÿæ¢¯åº¦æ¥æ‹Ÿåˆæ¯ä¸€è½®çš„æŸå¤±çš„è¿‘ä¼¼å€¼ï¼Œä¸‹é¢å¼å­ä¸­$g^t(x,y)$ è¡¨ç¤ºçš„æ˜¯ä¸Šè¿°æ¢¯åº¦ã€‚ $$ g^t(x,y) = \\frac {\\partial L(y,s)}{\\partial s}|_{s=F^{t-1}(x)} $$ é€šå¸¸ç”¨ä¸‹å¼è¿‘ä¼¼æ‹Ÿåˆ$h^t$. $$ h^t = \\arg \\min_{h\\in H}E(-g^t(x,y) - h(x))^2 $$ æœ€ç»ˆå¾—åˆ°æœ¬è½®çš„å¼ºå­¦ä¹ å™¨ï¼Œå¦‚å¼ï¼ˆ4ï¼‰æ‰€ç¤ºï¼š $$ F^t(x) = F^{t-1}(x) + h^t $$ **åœ¨è¿™ä¸ªè¿‡ç¨‹å½“ä¸­ï¼Œåç§»æ˜¯è¿™æ ·å‘ç”Ÿçš„ï¼š** æ ¹æ® D\\${X_k}$ è¿›è¡Œéšæœºè®¡ç®—çš„æ¡ä»¶åˆ†å¸ƒ$g^t(X_k, y_k)|X_k$ ä¸æµ‹è¯•é›†çš„åˆ†å¸ƒ$g^t(X,y)|X$ å‘ç”Ÿåç§»ï¼Œè¿™æ ·ç”±å…¬å¼ï¼ˆ3ï¼‰å®šä¹‰çš„åŸºå­¦ä¹ å™¨ ä¸å…¬å¼ï¼ˆ1ï¼‰å®šä¹‰çš„äº§ç”Ÿåå·®ï¼Œæœ€åå½±å“æ¨¡å‹ $F^t$ çš„æ³›åŒ–èƒ½åŠ›ã€‚ ","date":"2020-02-10","objectID":"https://mayuanucas.github.io/xgboost-lightgbm/:14:1","tags":["æœºå™¨å­¦ä¹ ","æ•°æ®æŒ–æ˜","sklearn"],"title":"XGBoostã€LightGBMã€CatBoost","uri":"https://mayuanucas.github.io/xgboost-lightgbm/"},{"categories":["æœºå™¨å­¦ä¹ "],"content":"æ’åºæå‡ ä¸ºäº†å…‹æœé¢„æµ‹åç§»é—®é¢˜ï¼ŒCatBoostæå‡ºäº†ä¸€ç§æ–°çš„å«åšOrdered boostingçš„ç®—æ³•ã€‚ ç”±ä¸Šå›¾çš„Ordered boostingç®—æ³•å¯çŸ¥ï¼Œä¸ºäº†å¾—åˆ°æ— åæ¢¯åº¦ä¼°è®¡, CatBoostå¯¹æ¯ä¸€ä¸ªæ ·æœ¬ éƒ½ä¼šè®­ç»ƒä¸€ä¸ªå•ç‹¬çš„æ¨¡å‹ ï¼Œæ¨¡å‹ ç”±ä½¿ç”¨ä¸åŒ…å«æ ·æœ¬çš„è®­ç»ƒé›†è®­ç»ƒå¾—åˆ°ã€‚æˆ‘ä»¬ä½¿ç”¨ æ¥å¾—åˆ°å…³äºæ ·æœ¬çš„æ¢¯åº¦ä¼°è®¡ï¼Œå¹¶ä½¿ç”¨è¯¥æ¢¯åº¦æ¥è®­ç»ƒåŸºå­¦ä¹ å™¨å¹¶å¾—åˆ°æœ€ç»ˆçš„æ¨¡å‹ã€‚ Ordered boostingç®—æ³•å¥½æ˜¯å¥½ï¼Œä½†æ˜¯åœ¨å¤§éƒ¨åˆ†çš„å®é™…ä»»åŠ¡å½“ä¸­éƒ½ä¸å…·å¤‡ä½¿ç”¨ä»·å€¼ï¼Œå› ä¸ºéœ€è¦è®­ç»ƒ ä¸ªä¸åŒçš„æ¨¡å‹ï¼Œå¤§å¤§å¢åŠ çš„å†…å­˜æ¶ˆè€—å’Œæ—¶é—´å¤æ‚åº¦ã€‚åœ¨CatBoostå½“ä¸­ï¼Œæˆ‘ä»¬ä»¥å†³ç­–æ ‘ä¸ºåŸºå­¦ä¹ å™¨çš„æ¢¯åº¦æå‡ç®—æ³•çš„åŸºç¡€ä¸Šï¼Œå¯¹è¯¥ç®—æ³•è¿›è¡Œäº†æ”¹è¿›ã€‚ å‰é¢æåˆ°è¿‡ï¼Œåœ¨ä¼ ç»Ÿçš„GBDTæ¡†æ¶å½“ä¸­ï¼Œæ„å»ºä¸‹ä¸€æ£µæ ‘åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µï¼šé€‰æ‹©æ ‘ç»“æ„å’Œåœ¨æ ‘ç»“æ„å›ºå®šåè®¡ç®—å¶å­èŠ‚ç‚¹çš„å€¼ã€‚CatBoostä¸»è¦åœ¨ç¬¬ä¸€é˜¶æ®µè¿›è¡Œä¼˜åŒ–ã€‚åœ¨å»ºæ ‘çš„é˜¶æ®µï¼ŒCatBoostæœ‰ä¸¤ç§æå‡æ¨¡å¼ï¼ŒOrderedå’ŒPlainã€‚Plainæ¨¡å¼æ˜¯é‡‡ç”¨å†…å»ºçš„ordered TSå¯¹ç±»åˆ«å‹ç‰¹å¾è¿›è¡Œè½¬åŒ–åçš„æ ‡å‡†GBDTç®—æ³•ã€‚Orderedåˆ™æ˜¯å¯¹Ordered boostingç®—æ³•çš„ä¼˜åŒ–ã€‚ä¸¤ç§æå‡æ¨¡å¼çš„å…·ä½“ä»‹ç»å¯ä»¥ç¿»çœ‹è®ºæ–‡ã€ŠCatBoost: unbiased boosting with categorical featuresã€‹ã€‚ ","date":"2020-02-10","objectID":"https://mayuanucas.github.io/xgboost-lightgbm/:14:2","tags":["æœºå™¨å­¦ä¹ ","æ•°æ®æŒ–æ˜","sklearn"],"title":"XGBoostã€LightGBMã€CatBoost","uri":"https://mayuanucas.github.io/xgboost-lightgbm/"},{"categories":["æœºå™¨å­¦ä¹ "],"content":"å¿«é€Ÿè¯„åˆ† CatBoostä½¿ç”¨å¯¹ç§°æ ‘ï¼ˆoblivious treesï¼‰ä½œä¸ºåŸºé¢„æµ‹å™¨ã€‚åœ¨è¿™ç±»æ ‘ä¸­ï¼Œç›¸åŒçš„åˆ†å‰²å‡†åˆ™åœ¨æ ‘çš„æ•´ä¸ªä¸€å±‚ä¸Šä½¿ç”¨ã€‚è¿™ç§æ ‘æ˜¯å¹³è¡¡çš„ï¼Œä¸å¤ªå®¹æ˜“è¿‡æ‹Ÿåˆã€‚æ¢¯åº¦æå‡å¯¹ç§°æ ‘è¢«æˆåŠŸåœ°ç”¨äºå„ç§å­¦ä¹ ä»»åŠ¡ä¸­ã€‚åœ¨å¯¹ç§°æ ‘ä¸­ï¼Œæ¯ä¸ªå¶å­èŠ‚ç‚¹çš„ç´¢å¼•å¯ä»¥è¢«ç¼–ç ä¸ºé•¿åº¦ç­‰äºæ ‘æ·±åº¦çš„äºŒè¿›åˆ¶å‘é‡ã€‚è¿™åœ¨CatBoostæ¨¡å‹è¯„ä¼°å™¨ä¸­å¾—åˆ°äº†å¹¿æ³›çš„åº”ç”¨ï¼šæˆ‘ä»¬é¦–å…ˆå°†æ‰€æœ‰æµ®ç‚¹ç‰¹å¾ã€ç»Ÿè®¡ä¿¡æ¯å’Œç‹¬çƒ­ç¼–ç ç‰¹å¾è¿›è¡ŒäºŒå€¼åŒ–ï¼Œç„¶åä½¿ç”¨äºŒè¿›åˆ¶ç‰¹å¾æ¥è®¡ç®—æ¨¡å‹é¢„æµ‹å€¼ã€‚ ","date":"2020-02-10","objectID":"https://mayuanucas.github.io/xgboost-lightgbm/:15:0","tags":["æœºå™¨å­¦ä¹ ","æ•°æ®æŒ–æ˜","sklearn"],"title":"XGBoostã€LightGBMã€CatBoost","uri":"https://mayuanucas.github.io/xgboost-lightgbm/"},{"categories":["æœºå™¨å­¦ä¹ "],"content":"åŸºäºGPUå®ç°å¿«é€Ÿè®­ç»ƒ å¯†é›†çš„æ•°å€¼ç‰¹å¾ã€‚ å¯¹äºä»»ä½•GBDTç®—æ³•è€Œè¨€ï¼Œæœ€å¤§çš„éš¾ç‚¹ä¹‹ä¸€å°±æ˜¯æœç´¢æœ€ä½³åˆ†å‰²ã€‚å°¤å…¶æ˜¯å¯¹äºå¯†é›†çš„æ•°å€¼ç‰¹å¾æ•°æ®é›†æ¥è¯´ï¼Œè¯¥æ­¥éª¤æ˜¯å»ºç«‹å†³ç­–æ ‘æ—¶çš„ä¸»è¦è®¡ç®—è´Ÿæ‹…ã€‚CatBoostä½¿ç”¨oblivious å†³ç­–æ ‘ä½œä¸ºåŸºæ¨¡å‹ï¼Œå¹¶å°†ç‰¹å¾ç¦»æ•£åŒ–åˆ°å›ºå®šæ•°é‡çš„ç®±å­ä¸­ä»¥å‡å°‘å†…å­˜ä½¿ç”¨ã€‚å°±GPUå†…å­˜ä½¿ç”¨è€Œè¨€ï¼ŒCatBoostè‡³å°‘ä¸LightGBMä¸€æ ·æœ‰æ•ˆã€‚ä¸»è¦æ”¹è¿›ä¹‹å¤„å°±æ˜¯åˆ©ç”¨äº†ä¸€ç§ä¸ä¾èµ–äºåŸå­æ“ä½œçš„ç›´æ–¹å›¾è®¡ç®—æ–¹æ³•ã€‚ ç±»åˆ«å‹ç‰¹å¾ã€‚ CatBoostå®ç°äº†å¤šç§å¤„ç†ç±»åˆ«å‹ç‰¹å¾çš„æ–¹æ³•ï¼Œå¹¶ä½¿ç”¨å®Œç¾å“ˆå¸Œæ¥å­˜å‚¨ç±»åˆ«å‹ç‰¹å¾çš„å€¼ï¼Œä»¥å‡å°‘å†…å­˜ä½¿ç”¨ã€‚ç”±äºGPUå†…å­˜çš„é™åˆ¶ï¼Œåœ¨CPU RAMä¸­å­˜å‚¨æŒ‰ä½å‹ç¼©çš„å®Œç¾å“ˆå¸Œï¼Œä»¥åŠè¦æ±‚çš„æ•°æ®æµã€é‡å è®¡ç®—å’Œå†…å­˜ç­‰æ“ä½œã€‚é€šè¿‡å“ˆå¸Œæ¥åˆ†ç»„è§‚å¯Ÿã€‚åœ¨æ¯ä¸ªç»„ä¸­ï¼Œæˆ‘ä»¬éœ€è¦è®¡ç®—ä¸€äº›ç»Ÿè®¡é‡çš„å‰ç¼€å’Œã€‚è¯¥ç»Ÿè®¡é‡çš„è®¡ç®—ä½¿ç”¨åˆ†æ®µæ‰«æGPUå›¾å…ƒå®ç°ã€‚ å¤šGPUæ”¯æŒã€‚ CatBoostä¸­çš„GPUå®ç°å¯æ”¯æŒå¤šä¸ªGPUã€‚åˆ†å¸ƒå¼æ ‘å­¦ä¹ å¯ä»¥é€šè¿‡æ•°æ®æˆ–ç‰¹å¾è¿›è¡Œå¹¶è¡ŒåŒ–ã€‚CatBoosté‡‡ç”¨å¤šä¸ªå­¦ä¹ æ•°æ®é›†æ’åˆ—çš„è®¡ç®—æ–¹æ¡ˆï¼Œåœ¨è®­ç»ƒæœŸé—´è®¡ç®—ç±»åˆ«å‹ç‰¹å¾çš„ç»Ÿè®¡æ•°æ®ã€‚ ","date":"2020-02-10","objectID":"https://mayuanucas.github.io/xgboost-lightgbm/:16:0","tags":["æœºå™¨å­¦ä¹ ","æ•°æ®æŒ–æ˜","sklearn"],"title":"XGBoostã€LightGBMã€CatBoost","uri":"https://mayuanucas.github.io/xgboost-lightgbm/"},{"categories":["æœºå™¨å­¦ä¹ "],"content":"CatBoostçš„ä¼˜ç¼ºç‚¹ ","date":"2020-02-10","objectID":"https://mayuanucas.github.io/xgboost-lightgbm/:17:0","tags":["æœºå™¨å­¦ä¹ ","æ•°æ®æŒ–æ˜","sklearn"],"title":"XGBoostã€LightGBMã€CatBoost","uri":"https://mayuanucas.github.io/xgboost-lightgbm/"},{"categories":["æœºå™¨å­¦ä¹ "],"content":"ä¼˜ç‚¹ æ€§èƒ½å“è¶Šï¼š åœ¨æ€§èƒ½æ–¹é¢å¯ä»¥åŒ¹æ•Œä»»ä½•å…ˆè¿›çš„æœºå™¨å­¦ä¹ ç®—æ³•ï¼› é²æ£’æ€§/å¼ºå¥æ€§ï¼š å®ƒå‡å°‘äº†å¯¹å¾ˆå¤šè¶…å‚æ•°è°ƒä¼˜çš„éœ€æ±‚ï¼Œå¹¶é™ä½äº†è¿‡åº¦æ‹Ÿåˆçš„æœºä¼šï¼Œè¿™ä¹Ÿä½¿å¾—æ¨¡å‹å˜å¾—æ›´åŠ å…·æœ‰é€šç”¨æ€§ï¼› æ˜“äºä½¿ç”¨ï¼š æä¾›ä¸scikité›†æˆçš„Pythonæ¥å£ï¼Œä»¥åŠRå’Œå‘½ä»¤è¡Œç•Œé¢ï¼› å®ç”¨ï¼š å¯ä»¥å¤„ç†ç±»åˆ«å‹ã€æ•°å€¼å‹ç‰¹å¾ï¼› å¯æ‰©å±•ï¼š æ”¯æŒè‡ªå®šä¹‰æŸå¤±å‡½æ•°ï¼› ","date":"2020-02-10","objectID":"https://mayuanucas.github.io/xgboost-lightgbm/:17:1","tags":["æœºå™¨å­¦ä¹ ","æ•°æ®æŒ–æ˜","sklearn"],"title":"XGBoostã€LightGBMã€CatBoost","uri":"https://mayuanucas.github.io/xgboost-lightgbm/"},{"categories":["æœºå™¨å­¦ä¹ "],"content":"ç¼ºç‚¹ å¯¹äºç±»åˆ«å‹ç‰¹å¾çš„å¤„ç†éœ€è¦å¤§é‡çš„å†…å­˜å’Œæ—¶é—´ï¼› ä¸åŒéšæœºæ•°çš„è®¾å®šå¯¹äºæ¨¡å‹é¢„æµ‹ç»“æœæœ‰ä¸€å®šçš„å½±å“ï¼› ","date":"2020-02-10","objectID":"https://mayuanucas.github.io/xgboost-lightgbm/:17:2","tags":["æœºå™¨å­¦ä¹ ","æ•°æ®æŒ–æ˜","sklearn"],"title":"XGBoostã€LightGBMã€CatBoost","uri":"https://mayuanucas.github.io/xgboost-lightgbm/"},{"categories":["æœºå™¨å­¦ä¹ "],"content":"å®ä¾‹ ","date":"2020-02-10","objectID":"https://mayuanucas.github.io/xgboost-lightgbm/:18:0","tags":["æœºå™¨å­¦ä¹ ","æ•°æ®æŒ–æ˜","sklearn"],"title":"XGBoostã€LightGBMã€CatBoost","uri":"https://mayuanucas.github.io/xgboost-lightgbm/"},{"categories":["æœºå™¨å­¦ä¹ "],"content":"æ•°æ®é›† è¿™é‡Œæˆ‘ä½¿ç”¨äº† 2015 å¹´èˆªç­å»¶è¯¯çš„ Kaggle æ•°æ®é›†ï¼Œå…¶ä¸­åŒæ—¶åŒ…å«ç±»åˆ«å‹å˜é‡å’Œæ•°å€¼å˜é‡ã€‚è¿™ä¸ªæ•°æ®é›†ä¸­ä¸€å…±æœ‰çº¦ 500 ä¸‡æ¡è®°å½•ï¼Œæˆ‘ä½¿ç”¨äº† 1% çš„æ•°æ®ï¼š5 ä¸‡è¡Œè®°å½•ã€‚æ•°æ®é›†å®˜æ–¹åœ°å€ï¼šhttps://www.kaggle.com/usdot/flight-delays#flights.csv ã€‚ä»¥ä¸‹æ˜¯å»ºæ¨¡ä½¿ç”¨çš„ç‰¹å¾ï¼š æœˆã€æ—¥ã€æ˜ŸæœŸï¼š æ•´å‹æ•°æ® èˆªçº¿æˆ–èˆªç­å·ï¼š æ•´å‹æ•°æ® å‡ºå‘ã€åˆ°è¾¾æœºåœºï¼š æ•°å€¼æ•°æ® å‡ºå‘æ—¶é—´ï¼š æµ®ç‚¹æ•°æ® è·ç¦»å’Œé£è¡Œæ—¶é—´ï¼š æµ®ç‚¹æ•°æ® åˆ°è¾¾å»¶è¯¯æƒ…å†µï¼š è¿™ä¸ªç‰¹å¾ä½œä¸ºé¢„æµ‹ç›®æ ‡ï¼Œå¹¶è½¬ä¸ºäºŒå€¼å˜é‡ï¼šèˆªç­æ˜¯å¦å»¶è¯¯è¶…è¿‡ 10 åˆ†é’Ÿ å®éªŒè¯´æ˜ï¼š åœ¨å¯¹ CatBoost è°ƒå‚æ—¶ï¼Œå¾ˆéš¾å¯¹ç±»åˆ«å‹ç‰¹å¾èµ‹äºˆæŒ‡æ ‡ã€‚å› æ­¤ï¼ŒåŒæ—¶ç»™å‡ºäº†ä¸ä¼ é€’ç±»åˆ«å‹ç‰¹å¾æ—¶çš„è°ƒå‚ç»“æœï¼Œå¹¶è¯„ä¼°äº†ä¸¤ä¸ªæ¨¡å‹ï¼šä¸€ä¸ªåŒ…å«ç±»åˆ«å‹ç‰¹å¾ï¼Œå¦ä¸€ä¸ªä¸åŒ…å«ã€‚å¦‚æœæœªåœ¨cat_featureså‚æ•°ä¸­ä¼ é€’ä»»ä½•å†…å®¹ï¼ŒCatBoostä¼šå°†æ‰€æœ‰åˆ—è§†ä¸ºæ•°å€¼å˜é‡ã€‚æ³¨æ„ï¼Œå¦‚æœæŸä¸€åˆ—æ•°æ®ä¸­åŒ…å«å­—ç¬¦ä¸²å€¼ï¼ŒCatBoost ç®—æ³•å°±ä¼šæŠ›å‡ºé”™è¯¯ã€‚å¦å¤–ï¼Œå¸¦æœ‰é»˜è®¤å€¼çš„ int å‹å˜é‡ä¹Ÿä¼šé»˜è®¤è¢«å½“æˆæ•°å€¼æ•°æ®å¤„ç†ã€‚åœ¨ CatBoost ä¸­ï¼Œå¿…é¡»å¯¹å˜é‡è¿›è¡Œå£°æ˜ï¼Œæ‰å¯ä»¥è®©ç®—æ³•å°†å…¶ä½œä¸ºç±»åˆ«å‹å˜é‡å¤„ç†ã€‚ ","date":"2020-02-10","objectID":"https://mayuanucas.github.io/xgboost-lightgbm/:18:1","tags":["æœºå™¨å­¦ä¹ ","æ•°æ®æŒ–æ˜","sklearn"],"title":"XGBoostã€LightGBMã€CatBoost","uri":"https://mayuanucas.github.io/xgboost-lightgbm/"},{"categories":["æœºå™¨å­¦ä¹ "],"content":"ä¸åŠ Categorical featuresé€‰é¡¹çš„ä»£ç  import pandas as pd, numpy as np from sklearn.model_selection import train_test_split, GridSearchCV from sklearn import metrics import catboost as cb # ä¸€å…±æœ‰çº¦ 500 ä¸‡æ¡è®°å½•ï¼Œæˆ‘ä½¿ç”¨äº† 1% çš„æ•°æ®ï¼š5 ä¸‡è¡Œè®°å½• # data = pd.read_csv(\"flight-delays/flights.csv\") # data = data.sample(frac=0.1, random_state=10) # 500-\u003e50 # data = data.sample(frac=0.1, random_state=10) # 50-\u003e5 # data.to_csv(\"flight-delays/min_flights.csv\") # è¯»å– 5 ä¸‡è¡Œè®°å½• data = pd.read_csv(\"flight-delays/min_flights.csv\") print(data.shape) # (58191, 31) data = data[[\"MONTH\", \"DAY\", \"DAY_OF_WEEK\", \"AIRLINE\", \"FLIGHT_NUMBER\", \"DESTINATION_AIRPORT\", \"ORIGIN_AIRPORT\", \"AIR_TIME\", \"DEPARTURE_TIME\", \"DISTANCE\", \"ARRIVAL_DELAY\"]] data.dropna(inplace=True) data[\"ARRIVAL_DELAY\"] = (data[\"ARRIVAL_DELAY\"] \u003e 10) * 1 cols = [\"AIRLINE\", \"FLIGHT_NUMBER\", \"DESTINATION_AIRPORT\", \"ORIGIN_AIRPORT\"] for item in cols: data[item] = data[item].astype(\"category\").cat.codes + 1 train, test, y_train, y_test = train_test_split(data.drop([\"ARRIVAL_DELAY\"], axis=1), data[\"ARRIVAL_DELAY\"], random_state=10, test_size=0.25) cat_features_index = [0, 1, 2, 3, 4, 5, 6] def auc(m, train, test): return (metrics.roc_auc_score(y_train, m.predict_proba(train)[:, 1]), metrics.roc_auc_score(y_test, m.predict_proba(test)[:, 1])) # è°ƒå‚ï¼Œç”¨ç½‘æ ¼æœç´¢è°ƒå‡ºæœ€ä¼˜å‚æ•° params = {'depth': [4, 7, 10], 'learning_rate': [0.03, 0.1, 0.15], 'l2_leaf_reg': [1, 4, 9], 'iterations': [300, 500]} cb = cb.CatBoostClassifier() cb_model = GridSearchCV(cb, params, scoring=\"roc_auc\", cv=3) cb_model.fit(train, y_train) # æŸ¥çœ‹æœ€ä½³åˆ†æ•° print(cb_model.best_score_) # 0.7088001891107445 # æŸ¥çœ‹æœ€ä½³å‚æ•° print(cb_model.best_params_) # {'depth': 4, 'iterations': 500, 'l2_leaf_reg': 9, 'learning_rate': 0.15} # With Categorical featuresï¼Œç”¨æœ€ä¼˜å‚æ•°æ‹Ÿåˆæ•°æ® clf = cb.CatBoostClassifier(eval_metric=\"AUC\", depth=4, iterations=500, l2_leaf_reg=9, learning_rate=0.15) clf.fit(train, y_train) print(auc(clf, train, test)) # (0.7809684655761157, 0.7104617034553192) ","date":"2020-02-10","objectID":"https://mayuanucas.github.io/xgboost-lightgbm/:18:2","tags":["æœºå™¨å­¦ä¹ ","æ•°æ®æŒ–æ˜","sklearn"],"title":"XGBoostã€LightGBMã€CatBoost","uri":"https://mayuanucas.github.io/xgboost-lightgbm/"},{"categories":["æœºå™¨å­¦ä¹ "],"content":"æœ‰Categorical featuresé€‰é¡¹çš„ä»£ç  import pandas as pd, numpy as np from sklearn.model_selection import train_test_split, GridSearchCV from sklearn import metrics import catboost as cb # è¯»å– 5 ä¸‡è¡Œè®°å½• data = pd.read_csv(\"flight-delays/min_flights.csv\") print(data.shape) # (58191, 31) data = data[[\"MONTH\", \"DAY\", \"DAY_OF_WEEK\", \"AIRLINE\", \"FLIGHT_NUMBER\", \"DESTINATION_AIRPORT\", \"ORIGIN_AIRPORT\", \"AIR_TIME\", \"DEPARTURE_TIME\", \"DISTANCE\", \"ARRIVAL_DELAY\"]] data.dropna(inplace=True) data[\"ARRIVAL_DELAY\"] = (data[\"ARRIVAL_DELAY\"] \u003e 10) * 1 cols = [\"AIRLINE\", \"FLIGHT_NUMBER\", \"DESTINATION_AIRPORT\", \"ORIGIN_AIRPORT\"] for item in cols: data[item] = data[item].astype(\"category\").cat.codes + 1 train, test, y_train, y_test = train_test_split(data.drop([\"ARRIVAL_DELAY\"], axis=1), data[\"ARRIVAL_DELAY\"], random_state=10, test_size=0.25) cat_features_index = [0, 1, 2, 3, 4, 5, 6] def auc(m, train, test): return (metrics.roc_auc_score(y_train, m.predict_proba(train)[:, 1]), metrics.roc_auc_score(y_test, m.predict_proba(test)[:, 1])) # With Categorical features clf = cb.CatBoostClassifier(eval_metric=\"AUC\", one_hot_max_size=31, depth=4, iterations=500, l2_leaf_reg=9, learning_rate=0.15) clf.fit(train, y_train, cat_features=cat_features_index) print(auc(clf, train, test)) # (0.7817912095285117, 0.7152541135019913) ","date":"2020-02-10","objectID":"https://mayuanucas.github.io/xgboost-lightgbm/:18:3","tags":["æœºå™¨å­¦ä¹ ","æ•°æ®æŒ–æ˜","sklearn"],"title":"XGBoostã€LightGBMã€CatBoost","uri":"https://mayuanucas.github.io/xgboost-lightgbm/"},{"categories":["æœºå™¨å­¦ä¹ "],"content":"CatBoostä¸XGBoostã€LightGBMçš„è”ç³»ä¸åŒºåˆ« ï¼ˆ1ï¼‰2014å¹´3æœˆXGBoostç®—æ³•é¦–æ¬¡è¢«é™ˆå¤©å¥‡æå‡ºï¼Œä½†æ˜¯ç›´åˆ°2016å¹´æ‰é€æ¸è‘—åã€‚2017å¹´1æœˆå¾®è½¯å‘å¸ƒLightGBMç¬¬ä¸€ä¸ªç¨³å®šç‰ˆæœ¬ã€‚2017å¹´4æœˆYandexå¼€æºCatBoostã€‚è‡ªä»XGBoostè¢«æå‡ºä¹‹åï¼Œå¾ˆå¤šæ–‡ç« éƒ½åœ¨å¯¹å…¶è¿›è¡Œå„ç§æ”¹è¿›ï¼ŒCatBoostå’ŒLightGBMå°±æ˜¯å…¶ä¸­çš„ä¸¤ç§ã€‚ ï¼ˆ2ï¼‰CatBoostå¤„ç†ç±»åˆ«å‹ç‰¹å¾ååˆ†çµæ´»ï¼Œå¯ç›´æ¥ä¼ å…¥ç±»åˆ«å‹ç‰¹å¾çš„åˆ—æ ‡è¯†ï¼Œæ¨¡å‹ä¼šè‡ªåŠ¨å°†å…¶ä½¿ç”¨One-hotç¼–ç ï¼Œè¿˜å¯é€šè¿‡è®¾ç½® one_hot_max_sizeå‚æ•°æ¥é™åˆ¶One-hotç‰¹å¾å‘é‡çš„é•¿åº¦ã€‚å¦‚æœä¸ä¼ å…¥ç±»åˆ«å‹ç‰¹å¾çš„åˆ—æ ‡è¯†ï¼Œé‚£ä¹ˆCatBoostä¼šæŠŠæ‰€æœ‰åˆ—è§†ä¸ºæ•°å€¼ç‰¹å¾ã€‚å¯¹äºOne-hotç¼–ç è¶…è¿‡è®¾å®šçš„one_hot_max_sizeå€¼çš„ç‰¹å¾æ¥è¯´ï¼ŒCatBoostå°†ä¼šä½¿ç”¨ä¸€ç§é«˜æ•ˆçš„encodingæ–¹æ³•ï¼Œä¸mean encodingç±»ä¼¼ï¼Œä½†æ˜¯ä¼šé™ä½è¿‡æ‹Ÿåˆã€‚å¤„ç†è¿‡ç¨‹å¦‚ä¸‹ï¼š å°†è¾“å…¥æ ·æœ¬é›†éšæœºæ’åºï¼Œå¹¶ç”Ÿæˆå¤šç»„éšæœºæ’åˆ—çš„æƒ…å†µï¼› å°†æµ®ç‚¹å‹æˆ–å±æ€§å€¼æ ‡è®°è½¬åŒ–ä¸ºæ•´æ•°ï¼› å°†æ‰€æœ‰çš„ç±»åˆ«å‹ç‰¹å¾å€¼ç»“æœéƒ½æ ¹æ®ä»¥ä¸‹å…¬å¼ï¼Œè½¬åŒ–ä¸ºæ•°å€¼ç»“æœï¼› $$ avg_target = \\frac {countInClass + prior}{totalCount + 1} $$ å…¶ä¸­ countInClass è¡¨ç¤ºåœ¨å½“å‰ç±»åˆ«å‹ç‰¹å¾å€¼ä¸­æœ‰å¤šå°‘æ ·æœ¬çš„æ ‡è®°å€¼æ˜¯ï¼›prior æ˜¯åˆ†å­çš„åˆå§‹å€¼ï¼Œæ ¹æ®åˆå§‹å‚æ•°ç¡®å®šã€‚totalCount æ˜¯åœ¨æ‰€æœ‰æ ·æœ¬ä¸­ï¼ˆåŒ…å«å½“å‰æ ·æœ¬ï¼‰å’Œå½“å‰æ ·æœ¬å…·æœ‰ç›¸åŒçš„ç±»åˆ«å‹ç‰¹å¾å€¼çš„æ ·æœ¬æ•°é‡ã€‚ LighGBM å’Œ CatBoost ç±»ä¼¼ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ä½¿ç”¨ç‰¹å¾åç§°çš„è¾“å…¥æ¥å¤„ç†ç±»åˆ«å‹ç‰¹å¾æ•°æ®ï¼Œå®ƒæ²¡æœ‰å¯¹æ•°æ®è¿›è¡Œç‹¬çƒ­ç¼–ç ï¼Œå› æ­¤é€Ÿåº¦æ¯”ç‹¬çƒ­ç¼–ç å¿«å¾—å¤šã€‚LighGBM ä½¿ç”¨äº†ä¸€ä¸ªç‰¹æ®Šçš„ç®—æ³•æ¥ç¡®å®šå±æ€§ç‰¹å¾çš„åˆ†å‰²å€¼ã€‚ train_data = lgb.Dataset(data, label=label, feature_name=['c1', 'c2', 'c3'], categorical_feature=['c3']) æ³¨æ„ï¼Œåœ¨å»ºç«‹é€‚ç”¨äº LighGBM çš„æ•°æ®é›†ä¹‹å‰ï¼Œéœ€è¦å°†ç±»åˆ«å‹ç‰¹å¾å˜é‡è½¬åŒ–ä¸ºæ•´å‹å˜é‡ï¼Œæ­¤ç®—æ³•ä¸å…è®¸å°†å­—ç¬¦ä¸²æ•°æ®ä¼ ç»™ç±»åˆ«å‹å˜é‡å‚æ•°ã€‚ XGBoost å’Œ CatBoostã€ LighGBM ç®—æ³•ä¸åŒï¼ŒXGBoost æœ¬èº«æ— æ³•å¤„ç†ç±»åˆ«å‹ç‰¹å¾ï¼Œè€Œæ˜¯åƒéšæœºæ£®æ—ä¸€æ ·ï¼Œåªæ¥å—æ•°å€¼æ•°æ®ã€‚å› æ­¤åœ¨å°†ç±»åˆ«å‹ç‰¹å¾æ•°æ®ä¼ å…¥ XGBoost ä¹‹å‰ï¼Œå¿…é¡»é€šè¿‡å„ç§ç¼–ç æ–¹å¼ï¼šä¾‹å¦‚ï¼Œåºå·ç¼–ç ã€ç‹¬çƒ­ç¼–ç å’ŒäºŒè¿›åˆ¶ç¼–ç ç­‰å¯¹æ•°æ®è¿›è¡Œå¤„ç†ã€‚ é›†æˆå­¦ä¹  ","date":"2020-02-10","objectID":"https://mayuanucas.github.io/xgboost-lightgbm/:19:0","tags":["æœºå™¨å­¦ä¹ ","æ•°æ®æŒ–æ˜","sklearn"],"title":"XGBoostã€LightGBMã€CatBoost","uri":"https://mayuanucas.github.io/xgboost-lightgbm/"},{"categories":["æ•ˆç‡å·¥å…·"],"content":"æœ¬æ–‡å¯¹ GitHub çš„ä½¿ç”¨è¿›è¡Œä»‹ç». å‰è¨€ GitHubæ˜¯é€šè¿‡Gitè¿›è¡Œç‰ˆæœ¬æ§åˆ¶çš„è½¯ä»¶æºä»£ç æ‰˜ç®¡æœåŠ¡å¹³å°ï¼Œäº2008å¹´4æœˆä¸Šçº¿ï¼Œ2018å¹´6æœˆè¢«å¾®è½¯å…¬å¸æ”¶è´­ã€‚GitHubåŒæ—¶æä¾›ä»˜è´¹è´¦æˆ·å’Œå…è´¹è´¦æˆ·ï¼Œè¿™ä¸¤ç§è´¦æˆ·éƒ½å¯ä»¥åˆ›å»ºå…¬å¼€æˆ–ç§æœ‰çš„ä»£ç ä»“åº“ï¼Œä½†ä»˜è´¹ç”¨æˆ·æ”¯æŒæ›´å¤šåŠŸèƒ½ã€‚é™¤äº†å…è®¸ä¸ªäººæˆ–ç»„ç»‡åˆ›å»ºå’Œè®¿é—®ä¿ç®¡ä¸­çš„ä»£ç ä»¥å¤–ï¼ŒGitHubè¿˜æä¾›äº†ä¸€äº›æ–¹ä¾¿å…±åŒå¼€å‘è½¯ä»¶çš„åŠŸèƒ½ï¼Œä¾‹å¦‚ï¼šå…è®¸ç”¨æˆ·è¿½è¸ªå…¶ä»–ç”¨æˆ·ã€ç»„ç»‡ã€è½¯ä»¶åº“çš„åŠ¨æ€ï¼Œå¯¹è½¯ä»¶ä»£ç çš„æ”¹åŠ¨æˆ–bugæå‡ºè¯„è®ºç­‰ã€‚GitHubè¿˜æä¾›äº†å›¾è¡¨åŠŸèƒ½ï¼Œç”¨äºæ˜¾ç¤ºå¼€å‘è€…åœ¨ä»£ç åº“ä¸Šå·¥ä½œä»¥åŠè½¯ä»¶é¡¹ç›®çš„å¼€å‘æ´»è·ƒç¨‹åº¦ã€‚ GitHub 2019å¹´åº¦æŠ¥å‘Šæ˜¾ç¤ºï¼Œåœ¨è¿‡å»çš„ä¸€å¹´ä¸­ï¼ŒGitHubæ–°å¢äº†ä¸€åƒä¸‡ç”¨æˆ·ï¼Œç°åœ¨æ€»å…±æœ‰è¶…è¿‡å››åƒä¸‡ç”¨æˆ·ï¼ŒGitHubä¸Šçš„ä»“åº“æ•°é‡è¶…è¿‡ 1 äº¿ã€‚ Gitä¸GitHubçš„åŒºåˆ«å’Œè”ç³» è°ˆåˆ° GitHub, å°±å¿…å®šä¼šæåˆ°Gitã€‚ Gitæ˜¯ä¸€ä¸ªå¼€æºçš„åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ,ç®€å•æ¥è¯´ï¼ŒGit æ˜¯ä¸€ä¸ªç®¡ç†\"ä»£ç çš„å†å²è®°å½•\"çš„å·¥å…·,è€Œ GitHub æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªä»£ç æ‰˜ç®¡å¹³å°ï¼Œå®ƒæä¾›çš„æ˜¯åŸºäº Git çš„ä»£ç æ‰˜ç®¡æœåŠ¡ã€‚å¯¹äºä¸€ä¸ªå›¢é˜Ÿæ¥è¯´ï¼Œå³ä½¿ä¸ä½¿ç”¨ GitHubï¼Œä¹Ÿå¯ä»¥é€šè¿‡è‡ªå·±æ­å»ºå’Œç®¡ç† Git æœåŠ¡å™¨æ¥è¿›è¡Œä»£ç åº“çš„ç®¡ç†ï¼Œæˆ–è€…é€‰æ‹©å…¶å®ƒä¸€äº›ä»£ç æ‰˜ç®¡å¹³å°ï¼Œå¦‚ Gitee(ç äº‘), GitLabç­‰ã€‚ ä½¿ç”¨ Git ç®¡ç†ä»£ç å‰éœ€è¦ä» Git å®˜ç½‘ https://git-scm.com/ ä¸‹è½½ç›¸åº”å¹³å°çš„å®‰è£…åŒ…å¹¶å®Œæˆå®‰è£…. Git çš„æœ¬èº«ä¸å…·å¤‡å›¾å½¢ç•Œé¢ï¼Œä¸€èˆ¬åªèƒ½åœ¨ç»ˆç«¯è¾“å…¥å‘½ä»¤è¿›è¡Œä½¿ç”¨.ä½†æ˜¯åœ¨å®‰è£… Git çš„åŒæ—¶ï¼Œå…¶å®ä¹Ÿè£…å¥½äº†å®ƒæä¾›çš„å¯è§†åŒ–å·¥å…·ï¼Œgitk å’Œ git-gui. gitk æ˜¯ä¸€ä¸ªå†å²è®°å½•çš„å›¾å½¢åŒ–æŸ¥çœ‹å™¨, git-gui ä¸»è¦æ˜¯ä¸€ä¸ªç”¨æ¥åˆ¶ä½œæäº¤çš„å·¥å…·. GitHub ä¹Ÿå‘å¸ƒäº†é¢å‘å·¥ä½œæµç¨‹çš„ Git å®¢æˆ·ç«¯ï¼šæä¾›äº†Windows ç‰ˆå’Œ Mac ç‰ˆ,å®ƒä»¬å¾ˆå¥½çš„å±•ç¤ºäº†ä¸€ä¸ªé¢å‘å·¥ä½œæµç¨‹çš„å·¥å…·â€”â€”ä¸“æ³¨äºæå‡å¸¸ç”¨çš„åŠŸèƒ½åŠæé«˜åä½œæ•ˆç‡. GitHubæ¦‚è§ˆ ","date":"2020-01-04","objectID":"https://mayuanucas.github.io/github%E6%8E%A2%E7%B4%A2/:0:0","tags":["GitHub"],"title":"Githubå…¥é—¨ä¸å®è·µ","uri":"https://mayuanucas.github.io/github%E6%8E%A2%E7%B4%A2/"},{"categories":["æ•ˆç‡å·¥å…·"],"content":"åŸºç¡€åº”ç”¨åœºæ™¯ GitHub çš„åŸºç¡€åº”ç”¨åœºæ™¯æ˜¯ä½œä¸ºè¿œç¨‹çš„ä»£ç å­˜å‚¨,ä»£ç ç‰ˆæœ¬æ§åˆ¶. ","date":"2020-01-04","objectID":"https://mayuanucas.github.io/github%E6%8E%A2%E7%B4%A2/:1:0","tags":["GitHub"],"title":"Githubå…¥é—¨ä¸å®è·µ","uri":"https://mayuanucas.github.io/github%E6%8E%A2%E7%B4%A2/"},{"categories":["æ•ˆç‡å·¥å…·"],"content":"å¸¸ç”¨åº”ç”¨åœºæ™¯ ","date":"2020-01-04","objectID":"https://mayuanucas.github.io/github%E6%8E%A2%E7%B4%A2/:2:0","tags":["GitHub"],"title":"Githubå…¥é—¨ä¸å®è·µ","uri":"https://mayuanucas.github.io/github%E6%8E%A2%E7%B4%A2/"},{"categories":["æ•ˆç‡å·¥å…·"],"content":"ååŒå¼€å‘ ","date":"2020-01-04","objectID":"https://mayuanucas.github.io/github%E6%8E%A2%E7%B4%A2/:2:1","tags":["GitHub"],"title":"Githubå…¥é—¨ä¸å®è·µ","uri":"https://mayuanucas.github.io/github%E6%8E%A2%E7%B4%A2/"},{"categories":["æ•ˆç‡å·¥å…·"],"content":"è·å–(å­¦ä¹ )ä¼˜ç§€çš„å¼€æºé¡¹ç›® ç”±äºå­˜æ”¾åœ¨ Github å…¬æœ‰ä»“åº“çš„ä»£ç æ˜¯å…¬å¼€çš„ï¼Œæ‰€ä»¥å¯ä»¥å¾ˆæ–¹ä¾¿çš„è·å–ã€ä½¿ç”¨ã€å­¦ä¹ è¿™äº›ä¼˜ç§€å¼€æºé¡¹ç›®çš„ä»£ç å’Œæ–‡æ¡£. å›½å†…å¤–ç§‘æŠ€å…¬å¸ å›½å¤– GitHubåœ°å€ å›½å†… GitHubåœ°å€ Google https://github.com/google é˜¿é‡Œå·´å·´ https://github.com/alibaba Facebook https://github.com/facebook è…¾è®¯ https://github.com/Tencent Microsoft https://github.com/microsoft æ»´æ»´ https://github.com/didi ä¸–ç•Œé—»åçš„æŠ€æœ¯ä¸“å®¶ Linux å‘æ˜è€… Linus Torvaldsï¼šhttps://github.com/torvalds Hands-On Machine Learning with Scikit-Learn and TensorFlow çš„ä½œè€… AurÃ©lien Geronï¼šhttps://github.com/ageron ä¼˜ç§€çš„å¼€æºé¡¹ç›® é¡¹ç›® GitHubåœ°å€ TensorFlow https://github.com/tensorflow/tensorflow scikit-learn https://github.com/scikit-learn/scikit-learn pytorch https://github.com/pytorch/pytorch ","date":"2020-01-04","objectID":"https://mayuanucas.github.io/github%E6%8E%A2%E7%B4%A2/:2:2","tags":["GitHub"],"title":"Githubå…¥é—¨ä¸å®è·µ","uri":"https://mayuanucas.github.io/github%E6%8E%A2%E7%B4%A2/"},{"categories":["æ•ˆç‡å·¥å…·"],"content":"å…¶å®ƒåº”ç”¨åœºæ™¯ ","date":"2020-01-04","objectID":"https://mayuanucas.github.io/github%E6%8E%A2%E7%B4%A2/:3:0","tags":["GitHub"],"title":"Githubå…¥é—¨ä¸å®è·µ","uri":"https://mayuanucas.github.io/github%E6%8E%A2%E7%B4%A2/"},{"categories":["æ•ˆç‡å·¥å…·"],"content":"æ­å»ºä¸ªäººç½‘ç«™ åŸºäº GitHub Pages æ­å»ºåšå®¢ï¼Œä¸ä»…æ­å»ºç®€å•ï¼ŒåŒæ—¶è¿˜å¯è‡ªå®šä¹‰æ ·å¼ã€ç»‘å®šåŸŸåã€‚ ","date":"2020-01-04","objectID":"https://mayuanucas.github.io/github%E6%8E%A2%E7%B4%A2/:3:1","tags":["GitHub"],"title":"Githubå…¥é—¨ä¸å®è·µ","uri":"https://mayuanucas.github.io/github%E6%8E%A2%E7%B4%A2/"},{"categories":["æ•ˆç‡å·¥å…·"],"content":"æ¥è§¦ä¼˜ç§€å¼€å‘è€…çš„æœ‰æ•ˆæ¸ é“ GitHub ä¸ªäººä¸»é¡µä¼šæœ‰è”ç³»é‚®ç®±ã€ä¸ªäººç½‘ç«™ç­‰ä¿¡æ¯ï¼Œé€šè¿‡è¿™äº›ä¿¡æ¯å¯ä»¥ä¸æŠ€æœ¯ä¸“å®¶è¿›è¡Œæ²Ÿé€šäº¤æµã€‚ ","date":"2020-01-04","objectID":"https://mayuanucas.github.io/github%E6%8E%A2%E7%B4%A2/:3:2","tags":["GitHub"],"title":"Githubå…¥é—¨ä¸å®è·µ","uri":"https://mayuanucas.github.io/github%E6%8E%A2%E7%B4%A2/"},{"categories":["æ•ˆç‡å·¥å…·"],"content":"ç”¨GitHubåä½œç¿»è¯‘ å›½å†…çš„ä¸€äº›ç¤¾åŒºä¼šç”¨ GitHub ç»„ç»‡å¿—æ„¿è€…è¿›è¡Œæ–‡æ¡£çš„åä½œç¿»è¯‘ã€‚ ä¸ªäººä»ªè¡¨æ¿ ä¸ªäººä»ªè¡¨æ¿æ˜¯ç™»å½• GitHub æ—¶æ˜¾ç¤ºçš„ç¬¬ä¸€é¡µã€‚è®¿é—®ä¸ªäººä»ªè¡¨æ¿ï¼Œå¯ä»¥è·Ÿè¸ªå‚ä¸æˆ–å…³æ³¨çš„è®®é¢˜å’Œæ‹‰å–è¯·æ±‚ï¼Œæµè§ˆå¸¸ç”¨ä»“åº“å’Œå›¢é˜Ÿé¡µé¢ï¼Œäº†è§£è®¢é˜…çš„ç»„ç»‡å’Œä»“åº“ä¸­è¿‘æœŸæ´»åŠ¨çš„æœ€æ–°ä¿¡æ¯ï¼Œä»¥åŠæ¢ç´¢æ¨èçš„ä»“åº“ã€‚ç™»å½•åè¦è®¿é—®ä¸ªäººä»ªè¡¨æ¿ï¼Œåœ¨ä»»æ„é¡µé¢ç‚¹å‡»å·¦ä¸Šè§’çš„ç½‘ç«™å›¾æ ‡å°±èƒ½è·³è½¬åˆ°ä»ªè¡¨æ¿é¡µé¢ã€‚ ä¸ªäººèµ„æ–™(Profile) ä¸ªäººèµ„æ–™é¡µé¢ä¸ä»…å±•ç¤ºäº†å¼€å‘è€…çš„ä¸ªäººä»‹ç», è”ç³»é‚®ç®±, åšå®¢åœ°å€, ç¤¾äº¤è´¦å·, è¿˜å±•ç¤ºäº†å¼€å‘è€…åˆ›å»ºçš„æˆ– Fork çš„ä»“åº“, é¡µé¢æœ€ä¸‹æ–¹è¿˜å±•ç¤ºäº†å¼€å‘è€…æ¯å¤©çš„æ´»è·ƒç¨‹åº¦(æ¯å¤©æäº¤çš„ commit è¶Šå¤š, å¯¹åº”æ—¥æœŸçš„å°æ–¹æ ¼é¢œè‰²è¶Šæ·±). ä»“åº“ GitHub å¸¸ç”¨æœ¯è¯­ä»‹ç»: Repositoryï¼šç®€ç§°Repoï¼Œå¯ä»¥ç†è§£ä¸ºâ€œä»“åº“â€ï¼Œæˆ‘ä»¬çš„é¡¹ç›®å°±å­˜æ”¾åœ¨ä»“åº“ä¹‹ä¸­ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è¦å»ºç«‹é¡¹ç›®ï¼Œå°±å¾—å…ˆå»ºç«‹ä»“åº“ï¼›æœ‰å¤šä¸ªé¡¹ç›®ï¼Œå°±å»ºç«‹å¤šä¸ªä»“åº“ã€‚ Issuesï¼šå¯ä»¥ç†è§£ä¸ºâ€œé—®é¢˜â€ï¼Œä¸¾ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œå¦‚æœæˆ‘ä»¬å¼€æºä¸€ä¸ªé¡¹ç›®ï¼Œå¦‚æœåˆ«äººçœ‹äº†æˆ‘ä»¬çš„é¡¹ç›®ï¼Œå¹¶ä¸”å‘ç°äº†bugï¼Œæˆ–è€…æ„Ÿè§‰é‚£ä¸ªåœ°æ–¹æœ‰å¾…æ”¹è¿›ï¼Œä»–å°±å¯ä»¥ç»™æˆ‘ä»¬æå‡ºIssueï¼Œç­‰æˆ‘ä»¬æŠŠIssuesè§£å†³ä¹‹åï¼Œå°±å¯ä»¥æŠŠè¿™äº›Issueså…³é—­ï¼›åä¹‹ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç»™ä»–äººæå‡ºIssueã€‚ Watchï¼šå¯ä»¥ç†è§£ä¸ºâ€œè§‚å¯Ÿâ€ï¼Œå¦‚æœæˆ‘ä»¬Watchäº†ä¸€ä¸ªé¡¹ç›®ï¼Œä¹‹åï¼Œå¦‚æœè¿™ä¸ªé¡¹ç›®æœ‰äº†ä»»ä½•æ›´æ–°ï¼Œæˆ‘ä»¬éƒ½ä¼šåœ¨ç¬¬ä¸€æ—¶å€™æ”¶åˆ°è¯¥é¡¹ç›®çš„æ›´æ–°é€šçŸ¥ã€‚ Starï¼šå¯ä»¥ç†è§£ä¸ºâ€œç‚¹èµâ€ï¼Œå½“æˆ‘ä»¬æ„Ÿè§‰æŸä¸€ä¸ªé¡¹ç›®åšçš„æ¯”è¾ƒå¥½ä¹‹åï¼Œå°±å¯ä»¥ä¸ºè¿™ä¸ªé¡¹ç›®ç‚¹èµï¼Œè€Œä¸”æˆ‘ä»¬ç‚¹èµè¿‡çš„é¡¹ç›®ï¼Œéƒ½ä¼šä¿å­˜åˆ°æˆ‘ä»¬çš„Starä¹‹ä¸­ï¼Œæ–¹ä¾¿æˆ‘ä»¬éšæ—¶æŸ¥çœ‹ã€‚åœ¨ GitHub ä¹‹ä¸­ï¼Œå¦‚æœä¸€ä¸ªé¡¹ç›®çš„ç‚¹æ˜Ÿæ•°èƒ½å¤Ÿè¶…ç™¾ï¼Œé‚£ä¹ˆè¯´æ˜è¿™ä¸ªé¡¹ç›®å·²ç»å¾ˆä¸é”™äº†ã€‚ Forkï¼šå¯ä»¥ç†è§£ä¸ºâ€œæ‹‰åˆ†æ”¯â€ï¼Œå¦‚æœæˆ‘ä»¬å¯¹æŸä¸€ä¸ªé¡¹ç›®æ¯”è¾ƒæ„Ÿå…´è¶£ï¼Œå¹¶ä¸”æƒ³åœ¨æ­¤åŸºç¡€ä¹‹ä¸Šå¼€å‘æ–°çš„åŠŸèƒ½ï¼Œè¿™æ—¶æˆ‘ä»¬å°±å¯ä»¥Forkè¿™ä¸ªé¡¹ç›®ï¼Œè¿™è¡¨ç¤ºå¤åˆ¶ä¸€ä¸ªå®Œæˆç›¸åŒçš„é¡¹ç›®åˆ°æˆ‘ä»¬çš„ GitHub è´¦å·ä¹‹ä¸­ï¼Œè€Œä¸”ç‹¬ç«‹äºåŸé¡¹ç›®ã€‚ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨è‡ªå·±å¤åˆ¶çš„é¡¹ç›®ä¸­è¿›è¡Œå¼€å‘äº†ã€‚ Pull Requestï¼šå¯ä»¥ç†è§£ä¸ºâ€œæäº¤è¯·æ±‚â€ï¼Œæ­¤åŠŸèƒ½æ˜¯å»ºç«‹åœ¨Forkä¹‹ä¸Šçš„ï¼Œå¦‚æœæˆ‘ä»¬Forkäº†ä¸€ä¸ªé¡¹ç›®ï¼Œå¯¹å…¶è¿›è¡Œäº†ä¿®æ”¹ï¼Œè€Œä¸”æ„Ÿè§‰ä¿®æ”¹çš„è¿˜ä¸é”™ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¯¹åŸé¡¹ç›®çš„æ‹¥æœ‰è€…æå‡ºä¸€ä¸ªPullè¯·æ±‚ï¼Œç­‰å…¶å¯¹æˆ‘ä»¬çš„è¯·æ±‚å®¡æ ¸ï¼Œå¹¶ä¸”é€šè¿‡å®¡æ ¸ä¹‹åï¼Œå°±å¯ä»¥æŠŠæˆ‘ä»¬ä¿®æ”¹è¿‡çš„å†…å®¹åˆå¹¶åˆ°åŸé¡¹ç›®ä¹‹ä¸­ï¼Œè¿™æ—¶æˆ‘ä»¬å°±æˆäº†è¯¥é¡¹ç›®çš„è´¡çŒ®è€…ã€‚ Mergeï¼šå¯ä»¥ç†è§£ä¸ºâ€œåˆå¹¶â€ï¼Œå¦‚æœåˆ«äººForkäº†æˆ‘ä»¬çš„é¡¹ç›®ï¼Œå¯¹å…¶è¿›è¡Œäº†ä¿®æ”¹ï¼Œå¹¶ä¸”æå‡ºäº†Pullè¯·æ±‚ï¼Œè¿™æ—¶æˆ‘ä»¬å°±å¯ä»¥å¯¹è¿™ä¸ªPullè¯·æ±‚è¿›è¡Œå®¡æ ¸ã€‚å¦‚æœè¿™ä¸ªPullè¯·æ±‚çš„å†…å®¹æ»¡è¶³æˆ‘ä»¬çš„è¦æ±‚ï¼Œå¹¶ä¸”è·Ÿæˆ‘ä»¬åŸæœ‰çš„é¡¹ç›®æ²¡æœ‰å†²çªçš„è¯ï¼Œå°±å¯ä»¥å°†å…¶åˆå¹¶åˆ°æˆ‘ä»¬çš„é¡¹ç›®ä¹‹ä¸­ã€‚å½“ç„¶ï¼Œæ˜¯å¦è¿›è¡Œåˆå¹¶ï¼Œç”±æˆ‘ä»¬å†³å®šã€‚ Gistï¼šå¦‚æœæˆ‘ä»¬æ²¡æœ‰é¡¹ç›®å¯ä»¥å¼€æºæˆ–è€…åªæ˜¯å•çº¯çš„æƒ³åˆ†äº«ä¸€äº›ä»£ç ç‰‡æ®µçš„è¯ï¼Œæˆ‘ä»¬å°±å¯ä»¥é€‰æ‹©Gistã€‚ Topics GitHub Topic é¡µé¢å±•ç¤ºäº†æœ€æ–°å’Œæœ€æµè¡Œçš„è®¨è®ºä¸»é¢˜ï¼Œåœ¨è¿™é‡Œä¸ä»…èƒ½å¤Ÿçœ‹åˆ°å¼€å‘é¡¹ç›®ï¼Œè¿˜èƒ½çœ‹åˆ°å¾ˆå¤šéå¼€å‘æŠ€æœ¯çš„è®¨è®ºä¸»é¢˜. Trending GitHub Trending é¡µé¢å±•ç¤ºäº†æ¯å¤©/æ¯å‘¨/æ¯æœˆå‘¨æœŸçš„çƒ­é—¨ Repositories å’Œ Developersï¼Œå¯ä»¥çœ‹åˆ°åœ¨æŸä¸ªå‘¨æœŸå¤„äºçƒ­é—¨çŠ¶æ€çš„å¼€å‘é¡¹ç›®å’Œå¼€å‘è€…ã€‚ GitHubæœç´¢ ","date":"2020-01-04","objectID":"https://mayuanucas.github.io/github%E6%8E%A2%E7%B4%A2/:3:3","tags":["GitHub"],"title":"Githubå…¥é—¨ä¸å®è·µ","uri":"https://mayuanucas.github.io/github%E6%8E%A2%E7%B4%A2/"},{"categories":["æ•ˆç‡å·¥å…·"],"content":"æœç´¢å¼€å‘è€… æ¯”å¦‚éœ€è¦å¯»æ‰¾å›½äº§è½¯ä»¶ï¼Œæœç´¢æ—¶è®¾ç½® location ä¸º chinaï¼Œå¦‚æœè¦å¯»æ‰¾ä½¿ç”¨ javascript è¯­è¨€å¼€å‘è€…ï¼Œåˆ™å†å¢åŠ  language ä¸º javascriptï¼Œæ•´ä¸ªæœç´¢æ¡ä»¶å°±æ˜¯ï¼šlanguage:javascript location:chinaï¼Œä»æœç´¢ç»“æœæ¥çœ‹ï¼Œæˆ‘ä»¬æ‰¾åˆ°äº†è¶…è¿‡ 2.1 ä¸‡ååœ°åŒºä¿¡æ¯å¡«å†™ä¸º china çš„ javascript å¼€å‘è€…ï¼Œæœ‹å‹ä»¬ç†Ÿæ‚‰çš„é˜®ä¸€å³°è€å¸ˆæ’åœ¨å‰åˆ—ã€‚æ ¹æ®å®˜æ–¹æ‰‹å†Œï¼Œæœç´¢ GitHub ç”¨æˆ·æ—¶è¿˜æ”¯æŒä½¿ç”¨ followersã€in:fullname ç»„åˆæ¡ä»¶è¿›è¡Œæœç´¢ã€‚ ","date":"2020-01-04","objectID":"https://mayuanucas.github.io/github%E6%8E%A2%E7%B4%A2/:4:0","tags":["GitHub"],"title":"Githubå…¥é—¨ä¸å®è·µ","uri":"https://mayuanucas.github.io/github%E6%8E%A2%E7%B4%A2/"},{"categories":["æ•ˆç‡å·¥å…·"],"content":"æœç´¢ä»“åº“ åœ¨ GitHub ä¸Šæ‰¾åˆ°ä¼˜ç§€çš„é¡¹ç›®å’Œå·¥å…·ï¼Œé€šè¿‡å…³é”®å­—æˆ–è€…è®¾ç½®æœç´¢æ¡ä»¶èƒ½å¤Ÿå¸®åŠ©æˆ‘ä»¬äº‹åŠåŠŸå€æ‰¾åˆ°å¥½èµ„æºã€‚ ","date":"2020-01-04","objectID":"https://mayuanucas.github.io/github%E6%8E%A2%E7%B4%A2/:5:0","tags":["GitHub"],"title":"Githubå…¥é—¨ä¸å®è·µ","uri":"https://mayuanucas.github.io/github%E6%8E%A2%E7%B4%A2/"},{"categories":["æ•ˆç‡å·¥å…·"],"content":"è®¾å®šæœç´¢æ¡ä»¶ å¦‚æœæ˜ç¡®éœ€è¦å¯»æ‰¾æŸç±»ç‰¹å®šçš„é¡¹ç›®ï¼Œæ¯”å¦‚ç”¨æŸç§è¯­è¨€å¼€å‘ã€Stars æ•°é‡éœ€è¦è¾¾åˆ°æ ‡å‡†çš„é¡¹ç›®ï¼Œåœ¨æœç´¢æ¡†ä¸­ç›´æ¥è¾“å…¥æœç´¢æ¡ä»¶å³å¯ã€‚å…¶ä¸­ç”¨äºå‘ç°é¡¹ç›®ï¼Œå¸¸ç”¨çš„æœç´¢æ¡ä»¶æœ‰ï¼šstars:ã€language:ã€forks:ã€in:ï¼Œè¿™äº›æ¡ä»¶æ˜¯è®¾ç½®æœç´¢æ¡ä»¶ä¸ºé¡¹ç›®æ”¶è—æ•°é‡ã€å¼€å‘è¯­è¨€ã€Forkæ•°é‡. æ¯”å¦‚è¾“å…¥ stars:\u003e=5000 language:pythonï¼Œå¾—åˆ°çš„ç»“æœ å°±æ˜¯æ”¶è—å¤§äºå’Œç­‰äº 5000 çš„ python é¡¹ç›®ã€‚ é€šè¿‡ in: é™å®šç¬¦ï¼Œå¯ä»¥å°†æœç´¢é™åˆ¶ä¸ºä»“åº“åç§°ã€ä»“åº“è¯´æ˜ã€è‡ªè¿°æ–‡ä»¶å†…å®¹æˆ–è¿™äº›çš„ä»»æ„ç»„åˆã€‚ é™å®šç¬¦ ç¤ºä¾‹ in:name python in:name åŒ¹é…å…¶åç§°ä¸­å«æœ‰ â€œpythonâ€ çš„ä»“åº“ã€‚ in:description python in:name,description åŒ¹é…å…¶åç§°æˆ–è¯´æ˜ä¸­å«æœ‰ â€œpythonâ€ çš„ä»“åº“ã€‚ in:readme python in:readme åŒ¹é…å…¶è‡ªè¿°æ–‡ä»¶ä¸­æåŠ â€œpythonâ€ çš„ä»“åº“ã€‚ å¦‚æœè§‰å¾—è®°ä½è¿™äº›æœç´¢æ¡ä»¶ç•¥æ˜¾ç¹ççš„è¯ï¼Œä½¿ç”¨ GitHub æä¾›çš„é«˜çº§æœç´¢åŠŸèƒ½åŒæ ·å¯è‡ªå®šä¹‰æ¡ä»¶è¿›è¡Œæœç´¢ã€‚æˆ–è€…å‚è€ƒå®˜æ–¹ç»™å‡ºçš„å¸®åŠ©æŒ‡å— Searching on GitHub ï¼Œé‡Œé¢æœ‰æ›´å¤šå…³äºé¡¹ç›®ã€ä»£ç ã€è¯„è®ºã€é—®é¢˜ç­‰æœç´¢æŠ€å·§ã€‚ ç»“è¯­ GitHub ç½‘ç«™ä¸Šæœ‰å¾ˆå¤šä¼˜ç§€çš„å¼€æºé¡¹ç›®ï¼Œåˆ©ç”¨ GitHub æä¾›çš„å„ç§åŠŸèƒ½ï¼ŒåŒ…æ‹¬é«˜çº§æœç´¢ã€Topicã€Trending ç­‰ä¸“é¢˜é¡µé¢ï¼Œä¸ä»…å¯ä»¥å¸®åŠ©æˆ‘ä»¬å‘ç°æ›´å¤šå¥½ç”¨çš„æ•ˆç‡å·¥å…·å’Œå¼€æºé¡¹ç›®, è€Œä¸”è¿˜èƒ½å¸®åŠ©æˆ‘ä»¬äº†è§£ä¸šç•Œæœ€æ–°çš„ç ”ç©¶åŠ¨æ€, æé«˜å¼€å‘èƒ½åŠ›ã€‚ ","date":"2020-01-04","objectID":"https://mayuanucas.github.io/github%E6%8E%A2%E7%B4%A2/:5:1","tags":["GitHub"],"title":"Githubå…¥é—¨ä¸å®è·µ","uri":"https://mayuanucas.github.io/github%E6%8E%A2%E7%B4%A2/"}]